{"ast":null,"code":"var __jsx = React.createElement;\nimport Router from 'next/router';\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../../store/actions/carritoActions';\nimport CarritoModule from './Carrito.module.css';\nimport ProductoCarrito from './ProductoCarrito';\n\nvar Carrito = function Carrito(props) {\n  useEffect(function () {\n    props.traerProductos();\n  }, []);\n  var totalCarrito = 0;\n\n  var showProductos = function showProductos() {\n    if (!props.productos || props.productos.length === 0) return __jsx(\"div\", {\n      className: \"alert alert-warning\"\n    }, \"Ningun producto en el carrito\"); //calculo el subtotal para mostrarlo abajo de todo en el modal\n\n    totalCarrito = calcularTotal(props.productos);\n    return props.productos.map(function (prd, key) {\n      return __jsx(ProductoCarrito, {\n        key: key,\n        idSubProducto: prd.idSubProducto,\n        producto: prd.producto,\n        peso: prd.peso,\n        total: prd.precioUnidad,\n        foto: prd.foto,\n        cantidad: prd.cantidad,\n        eliminarProducto: props.eliminarProducto\n      });\n    });\n  };\n\n  var calcularTotal = function calcularTotal(prds) {\n    var total = 0;\n    prds.forEach(function (prd) {\n      total += parseInt(prd.precioUnidad * prd.cantidad);\n    });\n    return total;\n  };\n\n  var finalizarCompra = function finalizarCompra() {\n    window.location.assign('/checkout');\n  }; //console.log(props);\n\n\n  return __jsx(\"section\", {\n    className: CarritoModule.carrito__container + ' ' + \"carrito\"\n  }, __jsx(\"h6\", {\n    className: \"text-center\"\n  }, \"Mi Carrito\"), __jsx(\"section\", {\n    className: CarritoModule.carrito__productos\n  }, showProductos()), __jsx(\"div\", {\n    className: CarritoModule.footer__carrito\n  }, __jsx(\"section\", {\n    className: CarritoModule.section__carrito__total + ' ' + \"d-flex justify-content-between\"\n  }, __jsx(\"p\", null, \"Subtotal\"), __jsx(\"span\", {\n    className: CarritoModule.subtotal__carrito\n  }, \"$\", totalCarrito)), props.productos.length == 0 ? null : __jsx(\"button\", {\n    className: \"boton bg-yellow\",\n    onClick: finalizarCompra,\n    type: \"button\"\n  }, \"Finalizar compra\")));\n};\n\nvar mapStateToProps = function mapStateToProps(reducers) {\n  return reducers.carritoReducer;\n};\n\nexport default connect(mapStateToProps, carritoActions)(Carrito);","map":null,"metadata":{},"sourceType":"module"}