{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/venta/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport Header from \"../../src/components/Head\";\n\nconst Venta = props => {\n  const {\n    0: documentos,\n    1: setDocumentos\n  } = useState([]);\n  const {\n    0: mediosPago,\n    1: setMediosPago\n  } = useState([]);\n  useEffect(function mount() {\n    window.Mercadopago.setPublishableKey(\"TEST-1f5f55a0-b128-49c4-9217-110a8d9fba43\");\n    window.Mercadopago.getIdentificationTypes();\n  });\n\n  const guessPaymentMethod = event => {\n    let cardnumber = document.getElementById(\"cardNumber\").value;\n\n    if (cardnumber.length >= 6) {\n      let bin = cardnumber.substring(0, 6);\n      window.Mercadopago.getPaymentMethod({\n        \"bin\": bin\n      }, setPaymentMethod);\n    }\n  };\n\n  const setPaymentMethod = (status, response) => {\n    if (status == 200) {\n      let paymentMethod = response[0];\n      document.getElementById('paymentMethodId').value = paymentMethod.id;\n      getIssuers(paymentMethod.id);\n    } else {\n      alert(`payment method info error: ${response}`);\n    }\n  };\n\n  const getIssuers = paymentMethodId => {\n    window.Mercadopago.getIssuers(paymentMethodId, setIssuers);\n  };\n\n  const setIssuers = (status, response) => {\n    if (status == 200) {\n      let issuerSelect = document.getElementById('issuer');\n      response.forEach(issuer => {\n        let opt = document.createElement('option');\n        opt.text = issuer.name;\n        opt.value = issuer.id;\n        issuerSelect.appendChild(opt);\n      });\n      getInstallments(document.getElementById('paymentMethodId').value, document.getElementById('transactionAmount').value, issuerSelect.value);\n    } else {\n      alert(`issuers method info error: ${response}`);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"px-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    title: \"Oliver PetShop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Detalles del comprador\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \"E-mail\"), __jsx(\"input\", {\n    id: \"email\",\n    name: \"email\",\n    type: \"text\",\n    value: \"test@test.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"docType\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, \"Tipo de documento\"), __jsx(\"select\", {\n    id: \"docType\",\n    name: \"docType\",\n    \"data-checkout\": \"docType\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"docNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"N\\xFAmero de documento\"), __jsx(\"input\", {\n    id: \"docNumber\",\n    name: \"docNumber\",\n    \"data-checkout\": \"docNumber\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }))), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"Detalles de la tarjeta\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"cardholderName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Titular de la tarjeta\"), __jsx(\"input\", {\n    id: \"cardholderName\",\n    \"data-checkout\": \"cardholderName\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Fecha de vencimiento\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"MM\",\n    id: \"cardExpirationMonth\",\n    \"data-checkout\": \"cardExpirationMonth\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    oncopy: \"return false\",\n    oncut: \"return false\",\n    ondrag: \"return false\",\n    ondrop: \"return false\",\n    autocomplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    className: \"date-separator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, \"/\"), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"YY\",\n    id: \"cardExpirationYear\",\n    \"data-checkout\": \"cardExpirationYear\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    oncopy: \"return false\",\n    oncut: \"return false\",\n    ondrag: \"return false\",\n    ondrop: \"return false\",\n    autocomplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"cardNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, \"N\\xFAmero de la tarjeta\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"cardNumber\",\n    \"data-checkout\": \"cardNumber\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    oncopy: \"return false\",\n    oncut: \"return false\",\n    ondrag: \"return false\",\n    ondrop: \"return false\",\n    autocomplete: \"off\",\n    onChange: guessPaymentMethod,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"securityCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"C\\xF3digo de seguridad\"), __jsx(\"input\", {\n    id: \"securityCode\",\n    \"data-checkout\": \"securityCode\",\n    type: \"text\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    oncopy: \"return false\",\n    oncut: \"return false\",\n    ondrag: \"return false\",\n    ondrop: \"return false\",\n    autocomplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    id: \"issuerInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"issuer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"Banco emisor\"), __jsx(\"select\", {\n    id: \"issuer\",\n    name: \"issuer\",\n    \"data-checkout\": \"issuer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"installments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"Cuotas\"), __jsx(\"select\", {\n    type: \"text\",\n    id: \"installments\",\n    name: \"installments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"transactionAmount\",\n    id: \"transactionAmount\",\n    value: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }), __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"paymentMethodId\",\n    id: \"paymentMethodId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }), __jsx(\"input\", {\n    type: \"hidden\",\n    name: \"description\",\n    id: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Pagar\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default Venta;","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/venta/index.js"],"names":["useEffect","useState","Header","Venta","props","documentos","setDocumentos","mediosPago","setMediosPago","mount","window","Mercadopago","setPublishableKey","getIdentificationTypes","guessPaymentMethod","event","cardnumber","document","getElementById","value","length","bin","substring","getPaymentMethod","setPaymentMethod","status","response","paymentMethod","id","getIssuers","alert","paymentMethodId","setIssuers","issuerSelect","forEach","issuer","opt","createElement","text","name","appendChild","getInstallments"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport Header from \"../../src/components/Head\";\n\nconst Venta = (props) => {\n    const [documentos, setDocumentos] = useState([]);\n    const [mediosPago, setMediosPago] = useState([]);\n\n    useEffect(function mount() {\n        window.Mercadopago.setPublishableKey(\"TEST-1f5f55a0-b128-49c4-9217-110a8d9fba43\");\n        window.Mercadopago.getIdentificationTypes();\n    });\n\n    const guessPaymentMethod = (event)=>{\n        let cardnumber = document.getElementById(\"cardNumber\").value;\n        if (cardnumber.length >= 6) {\n            let bin = cardnumber.substring(0,6);\n            window.Mercadopago.getPaymentMethod({\n                \"bin\": bin\n            }, setPaymentMethod);\n        }\n     };\n     \n    const setPaymentMethod = (status, response)=>{\n        if (status == 200) {\n            let paymentMethod = response[0];\n            document.getElementById('paymentMethodId').value = paymentMethod.id;\n     \n            getIssuers(paymentMethod.id);\n        } else {\n            alert(`payment method info error: ${response}`);\n        }\n    }\n\n    const getIssuers = (paymentMethodId)=>{\n        window.Mercadopago.getIssuers(\n            paymentMethodId,\n            setIssuers\n        );\n     }\n     \n     const setIssuers = (status, response)=>{\n        if (status == 200) {\n            let issuerSelect = document.getElementById('issuer');\n            response.forEach( issuer => {\n                let opt = document.createElement('option');\n                opt.text = issuer.name;\n                opt.value = issuer.id;\n                issuerSelect.appendChild(opt);\n            });\n     \n            getInstallments(\n                document.getElementById('paymentMethodId').value,\n                document.getElementById('transactionAmount').value,\n                issuerSelect.value\n            );\n        } else {\n            alert(`issuers method info error: ${response}`);\n        }\n     }\n\n    return (\n        <div className=\"px-5\">\n            <Header title=\"Oliver PetShop\"/>\n            <form>\n                <h3>Detalles del comprador</h3>\n                <div>\n                    <div>\n                        <label htmlFor=\"email\">E-mail</label>\n                        <input id=\"email\" name=\"email\" type=\"text\" value=\"test@test.com\"/>\n                    </div>\n                    <div>\n                        <label htmlFor=\"docType\">Tipo de documento</label>\n                        <select id=\"docType\" name=\"docType\" data-checkout=\"docType\" type=\"text\"></select>\n                    </div>\n                    <div>\n                        <label htmlFor=\"docNumber\">Número de documento</label>\n                        <input id=\"docNumber\" name=\"docNumber\" data-checkout=\"docNumber\" type=\"text\"/>\n                    </div>\n                </div>\n                <h3>Detalles de la tarjeta</h3>\n                <div>\n                    <div>\n                        <label htmlFor=\"cardholderName\">Titular de la tarjeta</label>\n                        <input id=\"cardholderName\" data-checkout=\"cardholderName\" type=\"text\"/>\n                    </div>\n                    <div>\n                        <label htmlFor=\"\">Fecha de vencimiento</label>\n                        <div>\n                            <input type=\"text\" placeholder=\"MM\" id=\"cardExpirationMonth\" data-checkout=\"cardExpirationMonth\"\n                                onselectstart=\"return false\" onpaste=\"return false\"\n                                oncopy=\"return false\" oncut=\"return false\"\n                                ondrag=\"return false\" ondrop=\"return false\" autocomplete=\"off\"/>\n                            <span className=\"date-separator\">/</span>\n                            <input type=\"text\" placeholder=\"YY\" id=\"cardExpirationYear\" data-checkout=\"cardExpirationYear\"\n                                onselectstart=\"return false\" onpaste=\"return false\"\n                                oncopy=\"return false\" oncut=\"return false\"\n                                ondrag=\"return false\" ondrop=\"return false\" autocomplete=\"off\"/>\n                        </div>\n                    </div>\n                    <div>\n                        <label htmlFor=\"cardNumber\">Número de la tarjeta</label>\n                        <input type=\"text\" id=\"cardNumber\" data-checkout=\"cardNumber\"\n                        onselectstart=\"return false\" onpaste=\"return false\"\n                        oncopy=\"return false\" oncut=\"return false\"\n                        ondrag=\"return false\" ondrop=\"return false\" autocomplete=\"off\" onChange={guessPaymentMethod}/>\n                    </div>\n                    <div>\n                        <label htmlFor=\"securityCode\">Código de seguridad</label>\n                        <input id=\"securityCode\" data-checkout=\"securityCode\" type=\"text\"\n                        onselectstart=\"return false\" onpaste=\"return false\"\n                        oncopy=\"return false\" oncut=\"return false\"\n                        ondrag=\"return false\" ondrop=\"return false\" autocomplete=\"off\"/>\n                    </div>\n                    <div id=\"issuerInput\">\n                        <label htmlFor=\"issuer\">Banco emisor</label>\n                        <select id=\"issuer\" name=\"issuer\" data-checkout=\"issuer\"></select>\n                    </div>\n                    <div>\n                        <label htmlFor=\"installments\">Cuotas</label>\n                        <select type=\"text\" id=\"installments\" name=\"installments\"></select>\n                    </div>\n                    <div>\n                        <input type=\"hidden\" name=\"transactionAmount\" id=\"transactionAmount\" value=\"100\" />\n                        <input type=\"hidden\" name=\"paymentMethodId\" id=\"paymentMethodId\" />\n                        <input type=\"hidden\" name=\"description\" id=\"description\" />\n                        <br/>\n                        <button type=\"submit\">Pagar</button>\n                        <br/>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n \nexport default Venta;"]},"metadata":{},"sourceType":"module"}