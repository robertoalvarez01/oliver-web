{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from '../Loader/index';\nimport { API } from '../../../config/index';\n\nvar FormModificarPw = function FormModificarPw(props) {\n  _s();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(null),\n      actionSuccess = _useState3[0],\n      setActionSuccess = _useState3[1];\n\n  var _useState4 = useState(''),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var sendEmail = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var headers, dataToSend, _props$usuarioReducer, idUsuario, token, request, dataRequest;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              headers = new Headers();\n\n              if (!props.usuarioReducer.logueado) {\n                _context.next = 9;\n                break;\n              }\n\n              _props$usuarioReducer = props.usuarioReducer.usuario, idUsuario = _props$usuarioReducer.idUsuario, token = _props$usuarioReducer.token;\n\n              if (token) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 5:\n              headers.append('token', token);\n              dataToSend = {\n                idUsuario: idUsuario\n              };\n              _context.next = 12;\n              break;\n\n            case 9:\n              if (!(email == '')) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 11:\n              dataToSend = {\n                email: email\n              };\n\n            case 12:\n              setLoading(true);\n              headers.append(\"Content-Type\", \"application/json\");\n              console.log(dataToSend);\n              _context.next = 17;\n              return fetch(\"\".concat(API, \"resetPassword\"), {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify(dataToSend)\n              });\n\n            case 17:\n              request = _context.sent;\n\n              if (!(request.status != 200)) {\n                _context.next = 21;\n                break;\n              }\n\n              setLoading(false);\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 21:\n              _context.next = 23;\n              return request.json();\n\n            case 23:\n              dataRequest = _context.sent;\n              setLoading(false);\n\n              if (!dataRequest.ok) {\n                _context.next = 27;\n                break;\n              }\n\n              return _context.abrupt(\"return\", setActionSuccess(dataRequest.info));\n\n            case 27:\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 28:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendEmail() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleChangeEmail = function handleChangeEmail(event) {\n    setEmail(event.target.value);\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"containerResetPass\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, error ? __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"alert alert-danger text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 51\n    }\n  }, error) : null), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"alert alert-\".concat(actionSuccess ? \"info\" : \"warning\", \" text-center\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, actionSuccess ? __jsx(\"b\", {\n    className: \"jsx-204570501\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 109\n    }\n  }, actionSuccess) : \"Estaremos enviando un email con los pasos para poder realizar el proceso de modificaci\\xF3n de contrase\\xF1a\"), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"col-12 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, loading ? __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 28\n    }\n  }) : null, props.withEmail ? __jsx(\"input\", {\n    type: \"email\",\n    value: email,\n    onChange: handleChangeEmail,\n    required: true,\n    placeholder: \"Ingrese su email\",\n    className: \"jsx-204570501\" + \" \" + \"form-control mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 36\n    }\n  }) : null, !actionSuccess && !loading ? __jsx(\"button\", {\n    onClick: sendEmail,\n    type: \"button\",\n    className: \"jsx-204570501\" + \" \" + \"boton bg-yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 47\n    }\n  }, \"Enviar email\") : null), __jsx(_JSXStyle, {\n    id: \"204570501\",\n    __self: _this\n  }, \".containerResetPass.jsx-204570501{font-family:'Quicksand',sans-serif!important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdEd0IsQUFHbUUsNkNBQ2xEIiwiZmlsZSI6Ii9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vTG9hZGVyL2luZGV4JztcbmltcG9ydCB7QVBJfSBmcm9tICcuLi8uLi8uLi9jb25maWcvaW5kZXgnO1xuXG5jb25zdCBGb3JtTW9kaWZpY2FyUHcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYWN0aW9uU3VjY2Vzcywgc2V0QWN0aW9uU3VjY2Vzc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcblxuICAgIGNvbnN0IHNlbmRFbWFpbCA9IGFzeW5jICgpPT57XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgbGV0IGRhdGFUb1NlbmQ7XG4gICAgICAgIGlmKHByb3BzLnVzdWFyaW9SZWR1Y2VyLmxvZ3VlYWRvKXtcbiAgICAgICAgICAgIGNvbnN0IHtpZFVzdWFyaW8sdG9rZW59ID0gcHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpbztcbiAgICAgICAgICAgIGlmKCF0b2tlbikgcmV0dXJuIHNldEVycm9yKCdVcHMuLiBoYSBvY3VycmlkbyB1biBlcnJvci4nKTtcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCd0b2tlbicsdG9rZW4pO1xuICAgICAgICAgICAgZGF0YVRvU2VuZD17aWRVc3VhcmlvfTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZihlbWFpbD09JycpIHJldHVybiBzZXRFcnJvcignVXBzLi4gaGEgb2N1cnJpZG8gdW4gZXJyb3IuJyk7XG4gICAgICAgICAgICBkYXRhVG9TZW5kID0ge2VtYWlsfVxuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YVRvU2VuZCk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaChgJHtBUEl9cmVzZXRQYXNzd29yZGAse1xuICAgICAgICAgICAgbWV0aG9kOidQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OkpTT04uc3RyaW5naWZ5KGRhdGFUb1NlbmQpXG4gICAgICAgIH0pO1xuICAgICAgICBpZihyZXF1ZXN0LnN0YXR1cyE9MjAwKXtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHNldEVycm9yKCdVcHMuLiBoYSBvY3VycmlkbyB1biBlcnJvci4nKTsgICBcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhUmVxdWVzdCA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgaWYoZGF0YVJlcXVlc3Qub2spe1xuICAgICAgICAgICAgcmV0dXJuIHNldEFjdGlvblN1Y2Nlc3MoZGF0YVJlcXVlc3QuaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEVycm9yKCdVcHMuLiBoYSBvY3VycmlkbyB1biBlcnJvci4nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlRW1haWwgPSBldmVudD0+e1xuICAgICAgICBzZXRFbWFpbChldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclJlc2V0UGFzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnsoZXJyb3IpPzxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIHRleHQtY2VudGVyXCI+e2Vycm9yfTwvZGl2PjpudWxsfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhbGVydCBhbGVydC0keyhhY3Rpb25TdWNjZXNzKT9gaW5mb2A6YHdhcm5pbmdgfSB0ZXh0LWNlbnRlcmB9PnsoYWN0aW9uU3VjY2Vzcyk/PGI+e2FjdGlvblN1Y2Nlc3N9PC9iPjpgRXN0YXJlbW9zIGVudmlhbmRvIHVuIGVtYWlsIGNvbiBsb3MgcGFzb3MgcGFyYSBwb2RlciByZWFsaXphciBlbCBwcm9jZXNvIGRlIG1vZGlmaWNhY2nDs24gZGUgY29udHJhc2XDsWFgfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7KGxvYWRpbmcpPzxMb2FkZXIvPjpudWxsfVxuICAgICAgICAgICAgICAgIHsocHJvcHMud2l0aEVtYWlsKT88aW5wdXQgdHlwZT1cImVtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIG1iLTNcIiB2YWx1ZT17ZW1haWx9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2VFbWFpbH0gcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJJbmdyZXNlIHN1IGVtYWlsXCIvPjpudWxsfVxuICAgICAgICAgICAgICAgIHsoIWFjdGlvblN1Y2Nlc3MgJiYgIWxvYWRpbmcpPzxidXR0b24gb25DbGljaz17c2VuZEVtYWlsfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYm90b24gYmcteWVsbG93XCI+RW52aWFyIGVtYWlsPC9idXR0b24+Om51bGx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAuY29udGFpbmVyUmVzZXRQYXNze1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWYhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHt1c3VhcmlvUmVkdWNlcn0pPT57XG4gICAgcmV0dXJuIHt1c3VhcmlvUmVkdWNlcn1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsbnVsbCkoRm9ybU1vZGlmaWNhclB3KTsiXX0= */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js */\"));\n};\n\n_s(FormModificarPw, \"PiTLjO+o9IsPHzh2DDdf4oHq5is=\");\n\n_c = FormModificarPw;\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var usuarioReducer = _ref2.usuarioReducer;\n  return {\n    usuarioReducer: usuarioReducer\n  };\n};\n\nexport default connect(mapStateToProps, null)(FormModificarPw);\n\nvar _c;\n\n$RefreshReg$(_c, \"FormModificarPw\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js"],"names":["useState","connect","Loader","API","FormModificarPw","props","loading","setLoading","error","setError","actionSuccess","setActionSuccess","email","setEmail","sendEmail","headers","Headers","usuarioReducer","logueado","usuario","idUsuario","token","append","dataToSend","console","log","fetch","method","body","JSON","stringify","request","status","json","dataRequest","ok","info","handleChangeEmail","event","target","value","withEmail","mapStateToProps"],"mappings":";;;;;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAAQC,GAAR,QAAkB,uBAAlB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA;;AAAA,kBACDL,QAAQ,CAAC,KAAD,CADP;AAAA,MACxBM,OADwB;AAAA,MACfC,UADe;;AAAA,mBAELP,QAAQ,CAAC,IAAD,CAFH;AAAA,MAExBQ,KAFwB;AAAA,MAEjBC,QAFiB;;AAAA,mBAGWT,QAAQ,CAAC,IAAD,CAHnB;AAAA,MAGxBU,aAHwB;AAAA,MAGTC,gBAHS;;AAAA,mBAILX,QAAQ,CAAC,EAAD,CAJH;AAAA,MAIxBY,KAJwB;AAAA,MAIjBC,QAJiB;;AAM/B,MAAMC,SAAS;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACVC,cAAAA,OADU,GACA,IAAIC,OAAJ,EADA;;AAAA,mBAGXX,KAAK,CAACY,cAAN,CAAqBC,QAHV;AAAA;AAAA;AAAA;;AAAA,sCAIgBb,KAAK,CAACY,cAAN,CAAqBE,OAJrC,EAIHC,SAJG,yBAIHA,SAJG,EAIOC,KAJP,yBAIOA,KAJP;;AAAA,kBAKNA,KALM;AAAA;AAAA;AAAA;;AAAA,+CAKQZ,QAAQ,CAAC,6BAAD,CALhB;;AAAA;AAMVM,cAAAA,OAAO,CAACO,MAAR,CAAe,OAAf,EAAuBD,KAAvB;AACAE,cAAAA,UAAU,GAAC;AAACH,gBAAAA,SAAS,EAATA;AAAD,eAAX;AAPU;AAAA;;AAAA;AAAA,oBASPR,KAAK,IAAE,EATA;AAAA;AAAA;AAAA;;AAAA,+CASWH,QAAQ,CAAC,6BAAD,CATnB;;AAAA;AAUVc,cAAAA,UAAU,GAAG;AAACX,gBAAAA,KAAK,EAALA;AAAD,eAAb;;AAVU;AAYdL,cAAAA,UAAU,CAAC,IAAD,CAAV;AACAQ,cAAAA,OAAO,CAACO,MAAR,CAAe,cAAf,EAA+B,kBAA/B;AACAE,cAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AAdc;AAAA,qBAeQG,KAAK,WAAIvB,GAAJ,oBAAuB;AAC9CwB,gBAAAA,MAAM,EAAC,MADuC;AAE9CZ,gBAAAA,OAAO,EAAPA,OAF8C;AAG9Ca,gBAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeP,UAAf;AAHyC,eAAvB,CAfb;;AAAA;AAeRQ,cAAAA,OAfQ;;AAAA,oBAoBXA,OAAO,CAACC,MAAR,IAAgB,GApBL;AAAA;AAAA;AAAA;;AAqBVzB,cAAAA,UAAU,CAAC,KAAD,CAAV;AArBU,+CAsBHE,QAAQ,CAAC,6BAAD,CAtBL;;AAAA;AAAA;AAAA,qBAwBYsB,OAAO,CAACE,IAAR,EAxBZ;;AAAA;AAwBRC,cAAAA,WAxBQ;AAyBd3B,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAzBc,mBA0BX2B,WAAW,CAACC,EA1BD;AAAA;AAAA;AAAA;;AAAA,+CA2BHxB,gBAAgB,CAACuB,WAAW,CAACE,IAAb,CA3Bb;;AAAA;AAAA,+CA6BP3B,QAAQ,CAAC,6BAAD,CA7BD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATK,SAAS;AAAA;AAAA;AAAA,KAAf;;AAgCA,MAAMuB,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAE;AAC7BzB,IAAAA,QAAQ,CAACyB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,GAFD;;AAIA,SACI;AAAA,uCAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA,uCAAe,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+BhC,KAAD,GAAQ;AAAA,uCAAe,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiDA,KAAjD,CAAR,GAAsE,IAApG,CADJ,EAEI;AAAA,6DAAgCE,aAAD,qBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiFA,aAAD,GAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,aAAJ,CAAhB,iHAAhF,CAFJ,EAGI;AAAA,uCAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMJ,OAAD,GAAU,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAV,GAAoB,IADzB,EAEMD,KAAK,CAACoC,SAAP,GAAkB;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAkD,IAAA,KAAK,EAAE7B,KAAzD;AAAgE,IAAA,QAAQ,EAAEyB,iBAA1E;AAA6F,IAAA,QAAQ,MAArG;AAAsG,IAAA,WAAW,EAAC,kBAAlH;AAAA,uCAA8B,mBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,GAAyJ,IAF9J,EAGM,CAAC3B,aAAD,IAAkB,CAACJ,OAApB,GAA6B;AAAQ,IAAA,OAAO,EAAEQ,SAAjB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA,uCAAoD,iBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA7B,GAAyH,IAH9H,CAHJ;AAAA;AAAA;AAAA,g8IADJ;AAgBH,CA1DD;;GAAMV,e;;KAAAA,e;;AA4DN,IAAMsC,eAAe,GAAG,SAAlBA,eAAkB,QAAoB;AAAA,MAAlBzB,cAAkB,SAAlBA,cAAkB;AACxC,SAAO;AAACA,IAAAA,cAAc,EAAdA;AAAD,GAAP;AACH,CAFD;;AAIA,eAAehB,OAAO,CAACyC,eAAD,EAAiB,IAAjB,CAAP,CAA8BtC,eAA9B,CAAf","sourcesContent":["import { useState } from 'react';\nimport {connect} from 'react-redux';\nimport Loader from '../Loader/index';\nimport {API} from '../../../config/index';\n\nconst FormModificarPw = (props) => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [actionSuccess, setActionSuccess] = useState(null);\n    const [email, setEmail] = useState('');\n\n    const sendEmail = async ()=>{\n        let headers = new Headers();\n        let dataToSend;\n        if(props.usuarioReducer.logueado){\n            const {idUsuario,token} = props.usuarioReducer.usuario;\n            if(!token) return setError('Ups.. ha ocurrido un error.');\n            headers.append('token',token);\n            dataToSend={idUsuario};\n        }else{\n            if(email=='') return setError('Ups.. ha ocurrido un error.');\n            dataToSend = {email}\n        }\n        setLoading(true);\n        headers.append(\"Content-Type\", \"application/json\");\n        console.log(dataToSend);\n        const request = await fetch(`${API}resetPassword`,{\n            method:'POST',\n            headers,\n            body:JSON.stringify(dataToSend)\n        });\n        if(request.status!=200){\n            setLoading(false);\n            return setError('Ups.. ha ocurrido un error.');   \n        }\n        const dataRequest = await request.json();\n        setLoading(false);\n        if(dataRequest.ok){\n            return setActionSuccess(dataRequest.info);\n        }\n        return setError('Ups.. ha ocurrido un error.');\n    };\n\n    const handleChangeEmail = event=>{\n        setEmail(event.target.value);\n    }\n    \n    return (\n        <div className=\"containerResetPass\">\n            <div className=\"text-center\">{(error)?<div className=\"alert alert-danger text-center\">{error}</div>:null}</div>\n            <div className={`alert alert-${(actionSuccess)?`info`:`warning`} text-center`}>{(actionSuccess)?<b>{actionSuccess}</b>:`Estaremos enviando un email con los pasos para poder realizar el proceso de modificación de contraseña`}</div>\n            <div className=\"col-12 text-center\">\n                {(loading)?<Loader/>:null}\n                {(props.withEmail)?<input type=\"email\" className=\"form-control mb-3\" value={email} onChange={handleChangeEmail} required placeholder=\"Ingrese su email\"/>:null}\n                {(!actionSuccess && !loading)?<button onClick={sendEmail} type=\"button\" className=\"boton bg-yellow\">Enviar email</button>:null}\n            </div>\n            <style jsx>{`\n                .containerResetPass{\n                    font-family: 'Quicksand', sans-serif!important;\n                }\n            `}</style>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({usuarioReducer})=>{\n    return {usuarioReducer}\n}\n\nexport default connect(mapStateToProps,null)(FormModificarPw);"]},"metadata":{},"sourceType":"module"}