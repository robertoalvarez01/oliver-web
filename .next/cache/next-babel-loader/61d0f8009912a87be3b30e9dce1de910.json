{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport Router from 'next/router';\nimport { faTimes, faBroom, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\nvar marcasTraerTodas = marcasActions.traerTodas;\nvar productosFiltrarProductos = productosActions.filtrarProductos,\n    productosTraerTodos = productosActions.traerTodos,\n    aplicarFiltro = productosActions.aplicarFiltro,\n    quitarFiltro = productosActions.quitarFiltro;\nvar categoriasTraerTodas = categoriasActions.traerTodas;\nvar subcategoriaTraerTodas = subcategoriasActions.traerTodas;\n\nvar Filtro = function Filtro(props) {\n  _s();\n\n  //manejo de Modal marcas\n  var _useState = useState(false),\n      modalIsOpen = _useState[0],\n      setModalIsOpen = _useState[1];\n\n  var onCloseModal = function onCloseModal() {\n    document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n    setModalIsOpen(false);\n  }; //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(props.marcasReducer.marcas.length === 0)) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 4;\n              return props.marcasTraerTodas();\n\n            case 4:\n              if (!(props.categoriasReducer.categorias.length === 0)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return props.categoriasTraerTodas();\n\n            case 7:\n              if (!(props.subcategoriaReducer.subcategorias.length === 0)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 10;\n              return props.subcategoriaTraerTodas();\n\n            case 10:\n              if (props.location !== '/productos') {\n                activarFiltroPorUrl();\n              }\n\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n  // useEffect(() => {\n  //     switchItemActive();\n  // }, [estadoFiltro]);\n\n\n  var activarFiltroPorUrl = function activarFiltroPorUrl() {\n    if (props.query.search) {\n      return activarFiltro(Object.keys(props.query)[0], props.query.search);\n    } else {\n      return activarFiltro(props.query.type, props.query.index[1]);\n    }\n  };\n\n  var activarFiltro = function activarFiltro(tipoFiltro, key) {\n    props.aplicarFiltro(tipoFiltro, key);\n  };\n\n  var switchItemActive = function switchItemActive() {// if(estadoFiltro.marca!==''){\n    //     creo los elementos del item\n    //     let newItemMarca = document.createElement('li');\n    //     let divItemMarca = document.createElement('div');\n    //     let spanItemMarca = document.createElement('span');\n    //     let iconClose = document.createElement('svg');\n    //     let marcaName = props.marcasReducer.marcas.filter(res=>res.idMarca == estadoFiltro.marca)[0].marca;\n    //     asigno las clases, atributos y eventos necesarios.\n    //     divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\n    //     divItemMarca.setAttribute('name',`marca-${estadoFiltro.marca}`);\n    //     divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\n    //     spanItemMarca.className = 'text-muted';\n    //     spanItemMarca.innerHTML = marcaName;\n    //     iconClose.innerHTML = `\n    //         <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 352 512\" class=\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\" id=\"close-marca-${estadoFiltro.marca}\">\n    //             <path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\n    //         </svg>\n    //     `;\n    //     iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\n    //     voy ubicando los elementos dentro de cada padre\n    //     divItemMarca.appendChild(spanItemMarca);\n    //     newItemMarca.appendChild(divItemMarca);\n    //     newItemMarca.appendChild(iconClose);\n    //     Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n    //     if(document.querySelector(`#listaMarca`)){\n    //         let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\n    //         let listaMarcas = document.querySelector(`#listaMarca`);\n    //         listaMarcas.removeChild(firstItemMarca);\n    //         ahora agrego el item creado a la lista\n    //         listaMarcas.appendChild(newItemMarca);\n    //     };\n    // }\n  };\n\n  var limpiarFiltro = function limpiarFiltro(tipo) {\n    props.quitarFiltro(tipo);\n  };\n\n  var closeFiltrosMobile = function closeFiltrosMobile() {\n    document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n  };\n\n  var armarUrlFiltro = function armarUrlFiltro() {\n    var url = ''; //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n\n    if (estadoFiltro.buscador !== '') return url += \"buscar?busqueda=\".concat(estadoFiltro.buscador);\n    url += 'filtrar';\n\n    if (estadoFiltro.categoria && estadoFiltro.categoria !== '') {\n      url += \"?categoria=\".concat(estadoFiltro.categoria);\n    }\n\n    if (estadoFiltro.subcategoria && estadoFiltro.subcategoria !== '') {\n      if (estadoFiltro.categoria !== '') {\n        url += \"&subcategoria=\".concat(estadoFiltro.subcategoria);\n      } else {\n        url += \"?subcategoria=\".concat(estadoFiltro.subcategoria);\n      }\n    }\n\n    if (estadoFiltro.marca && estadoFiltro.marca !== '') {\n      if (estadoFiltro.categoria == '' && estadoFiltro.subcategoria == '') {\n        url += \"?marca=\".concat(estadoFiltro.marca);\n      } else {\n        url += \"&marca=\".concat(estadoFiltro.marca);\n      }\n    }\n\n    return url;\n  };\n\n  var showFiltros = function showFiltros() {\n    var element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n    element.classList.toggle(FiltroStyle.show);\n    document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n  };\n\n  var _props$productosReduc = props.productosReducer,\n      filtrando = _props$productosReduc.filtrando,\n      filtros = _props$productosReduc.filtros;\n  return __jsx(\"div\", {\n    className: FiltroStyle.filtros__contanier,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: FiltroStyle.btn_close_filtro,\n    onClick: showFiltros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, __jsx(FontAwesomeIcon, {\n    id: \"iconFiltroContainer\",\n    icon: faChevronRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, props.categoriasReducer.categorias.length == 0 || props.subcategoriaReducer.subcategorias.length == 0 || props.marcasReducer.marcas.length == 0 ? __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 158\n    }\n  }) : __jsx(React.Fragment, null, filtrando ? __jsx(\"button\", {\n    className: \"boton bg-yellow mb-3\",\n    onClick: limpiarFiltro,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 38\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBroom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }), \" Limpiar Filtros\") : null, __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.cerrar_filtro_mobile,\n    onClick: closeFiltrosMobile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"Mascota\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, props.categoriasReducer.categorias.map(function (cat) {\n    return __jsx(\"li\", {\n      key: cat.idCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro + \" \".concat(filtros.categoria == cat.idCategoria ? FiltroStyle.active : ''),\n      onClick: function onClick() {\n        return activarFiltro('categoria', \"\".concat(cat.idCategoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 45\n      }\n    }, cat.categoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + \" \".concat(filtros.categoria == cat.idCategoria ? '' : 'd-none'),\n      onClick: function onClick() {\n        return limpiarFiltro('categoria');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, \"Alimentos\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, props.subcategoriaReducer.subcategorias.map(function (sc) {\n    return __jsx(\"li\", {\n      key: sc.idSubCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro + \" \".concat(filtros.subcategoria == sc.idSubCategoria ? FiltroStyle.active : ''),\n      onClick: function onClick() {\n        return activarFiltro('subcategoria', \"\".concat(sc.idSubCategoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 45\n      }\n    }, sc.subcategoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + \" \".concat(filtros.subcategoria == sc.idSubCategoria ? '' : 'd-none'),\n      onClick: function onClick() {\n        return limpiarFiltro('subcategoria');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, \"Marca\"), __jsx(\"ul\", {\n    id: \"listaMarca\",\n    className: FiltroStyle.sinBorderBottom + ' ' + FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, props.marcasReducer.marcas.map(function (marca, key) {\n    return key > 3 ? false : __jsx(\"li\", {\n      key: marca.idMarca,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro + \" \".concat(filtros.marca == marca.idMarca ? FiltroStyle.active : ''),\n      onClick: function onClick() {\n        return activarFiltro('marca', \"\".concat(marca.idMarca));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 45\n      }\n    }, marca.marca)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + \" \".concat(filtros.marca == marca.idMarca ? '' : 'd-none'),\n      onClick: function onClick() {\n        return limpiarFiltro('marca');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"button\", {\n    onClick: function onClick() {\n      return setModalIsOpen(true);\n    },\n    className: \"boton bg-gris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, \"Ver todas\"))), !modalIsOpen ? null : __jsx(Modal, {\n    closeModal: onCloseModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, __jsx(ModalMarca, {\n    closeModal: onCloseModal,\n    activarFiltro: activarFiltro,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(Filtro, \"o7MUSfYOToBGDPviPfDIv+oMnVU=\");\n\n_c = Filtro;\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var marcasReducer = _ref2.marcasReducer,\n      productosReducer = _ref2.productosReducer,\n      categoriasReducer = _ref2.categoriasReducer,\n      subcategoriaReducer = _ref2.subcategoriaReducer;\n  return {\n    marcasReducer: marcasReducer,\n    productosReducer: productosReducer,\n    categoriasReducer: categoriasReducer,\n    subcategoriaReducer: subcategoriaReducer\n  };\n};\n\nvar mapDispatchToProps = {\n  marcasTraerTodas: marcasTraerTodas,\n  productosFiltrarProductos: productosFiltrarProductos,\n  productosTraerTodos: productosTraerTodos,\n  categoriasTraerTodas: categoriasTraerTodas,\n  subcategoriaTraerTodas: subcategoriaTraerTodas,\n  aplicarFiltro: aplicarFiltro,\n  quitarFiltro: quitarFiltro\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filtro);\n\nvar _c;\n\n$RefreshReg$(_c, \"Filtro\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js"],"names":["React","useState","useEffect","FiltroStyle","Modal","ModalMarca","Router","faTimes","faBroom","faChevronRight","FontAwesomeIcon","connect","productosActions","marcasActions","categoriasActions","subcategoriasActions","Loader","marcasTraerTodas","traerTodas","productosFiltrarProductos","filtrarProductos","productosTraerTodos","traerTodos","aplicarFiltro","quitarFiltro","categoriasTraerTodas","subcategoriaTraerTodas","Filtro","props","modalIsOpen","setModalIsOpen","onCloseModal","document","getElementsByTagName","style","overflowY","getData","marcasReducer","marcas","length","categoriasReducer","categorias","subcategoriaReducer","subcategorias","location","activarFiltroPorUrl","console","log","query","search","activarFiltro","Object","keys","type","index","tipoFiltro","key","switchItemActive","limpiarFiltro","tipo","closeFiltrosMobile","getElementsByClassName","filtros__contanier","classList","remove","show_filtros","armarUrlFiltro","url","estadoFiltro","buscador","categoria","subcategoria","marca","showFiltros","element","toggle","show","getElementById","rotar","productosReducer","filtrando","filtros","btn_close_filtro","cerrar_filtro_mobile","titulo_filtros","lista","map","cat","idCategoria","item_filtro","active","icon_close_filtro","sc","idSubCategoria","sinBorderBottom","idMarca","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport Router from 'next/router';\nimport { faTimes,faBroom,faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\n\nconst {traerTodas:marcasTraerTodas} = marcasActions;\nconst {filtrarProductos:productosFiltrarProductos,traerTodos:productosTraerTodos,aplicarFiltro,quitarFiltro} = productosActions;\nconst {traerTodas:categoriasTraerTodas} = categoriasActions;\nconst {traerTodas:subcategoriaTraerTodas} = subcategoriasActions;\n\nconst Filtro = (props) => {\n\n\n    //manejo de Modal marcas\n    const [modalIsOpen, setModalIsOpen] = useState(false);\n    const onCloseModal = ()=>{\n        document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n        setModalIsOpen(false);\n    }\n\n    //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n    useEffect(() => {\n        getData();\n    },[]);\n        \n    const getData = async()=>{\n        try {\n            if(props.marcasReducer.marcas.length===0){\n                await props.marcasTraerTodas();\n            }\n            if(props.categoriasReducer.categorias.length===0){\n                await props.categoriasTraerTodas();\n            }\n            if(props.subcategoriaReducer.subcategorias.length===0){\n                await props.subcategoriaTraerTodas();\n            }\n            if(props.location !== '/productos'){\n                activarFiltroPorUrl();\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n    // useEffect(() => {\n    //     switchItemActive();\n    // }, [estadoFiltro]);\n\n    const activarFiltroPorUrl = ()=>{\n        if(props.query.search){\n            return activarFiltro(Object.keys(props.query)[0],props.query.search);\n        }else{\n            return activarFiltro(props.query.type,props.query.index[1]);\n        }\n    }\n\n    const activarFiltro = (tipoFiltro,key)=>{\n        props.aplicarFiltro(tipoFiltro,key);\n    }\n\n    const switchItemActive = ()=>{\n        // if(estadoFiltro.marca!==''){\n        //     creo los elementos del item\n        //     let newItemMarca = document.createElement('li');\n        //     let divItemMarca = document.createElement('div');\n        //     let spanItemMarca = document.createElement('span');\n        //     let iconClose = document.createElement('svg');\n\n        //     let marcaName = props.marcasReducer.marcas.filter(res=>res.idMarca == estadoFiltro.marca)[0].marca;\n\n        //     asigno las clases, atributos y eventos necesarios.\n        //     divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\n        //     divItemMarca.setAttribute('name',`marca-${estadoFiltro.marca}`);\n        //     divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\n        //     spanItemMarca.className = 'text-muted';\n        //     spanItemMarca.innerHTML = marcaName;\n\n        //     iconClose.innerHTML = `\n        //         <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 352 512\" class=\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\" id=\"close-marca-${estadoFiltro.marca}\">\n        //             <path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\n        //         </svg>\n        //     `;\n        //     iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\n\n        //     voy ubicando los elementos dentro de cada padre\n        //     divItemMarca.appendChild(spanItemMarca);\n        //     newItemMarca.appendChild(divItemMarca);\n        //     newItemMarca.appendChild(iconClose);\n            \n        //     Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n        //     if(document.querySelector(`#listaMarca`)){\n        //         let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\n        //         let listaMarcas = document.querySelector(`#listaMarca`);\n        //         listaMarcas.removeChild(firstItemMarca);\n        //         ahora agrego el item creado a la lista\n        //         listaMarcas.appendChild(newItemMarca);\n        //     };\n        // }\n    }\n\n    const limpiarFiltro = tipo=>{\n        props.quitarFiltro(tipo)\n    }\n\n    const closeFiltrosMobile = ()=>{\n        document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n    }\n\n    const armarUrlFiltro = ()=>{\n        let url = '';\n        //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n        if(estadoFiltro.buscador!=='') return url += `buscar?busqueda=${estadoFiltro.buscador}`;\n        url += 'filtrar';\n        \n        if(estadoFiltro.categoria && estadoFiltro.categoria !== ''){\n            url += `?categoria=${estadoFiltro.categoria}`;\n        }\n        if(estadoFiltro.subcategoria && estadoFiltro.subcategoria !== ''){\n            if(estadoFiltro.categoria!== ''){\n                url += `&subcategoria=${estadoFiltro.subcategoria}`; \n            }else{\n                url += `?subcategoria=${estadoFiltro.subcategoria}`;\n            }\n        }\n        if(estadoFiltro.marca && estadoFiltro.marca !== ''){\n            if(estadoFiltro.categoria == '' && estadoFiltro.subcategoria == ''){\n                url += `?marca=${estadoFiltro.marca}`;\n            }else{\n                url += `&marca=${estadoFiltro.marca}`;\n            }\n        }\n        return url;\n    }\n\n    const showFiltros = ()=>{\n        let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n        element.classList.toggle(FiltroStyle.show);\n        document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n    }\n\n    const {filtrando,filtros} = props.productosReducer;\n    \n    return (\n        <div className={FiltroStyle.filtros__contanier}>\n            <button className={FiltroStyle.btn_close_filtro} onClick={showFiltros}>\n                <FontAwesomeIcon id=\"iconFiltroContainer\" icon={faChevronRight}/>\n            </button>\n            <div>\n                {(props.categoriasReducer.categorias.length==0 || props.subcategoriaReducer.subcategorias.length==0 || props.marcasReducer.marcas.length==0)?<Loader/>:\n                    <>  \n                        {(filtrando)?<button className=\"boton bg-yellow mb-3\" onClick={limpiarFiltro}>\n                            <FontAwesomeIcon icon={faBroom}/> Limpiar Filtros\n                        </button>:null}\n\n                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.cerrar_filtro_mobile} onClick={closeFiltrosMobile}/>\n                        <h4 className={FiltroStyle.titulo_filtros}>Mascota</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.categoriasReducer.categorias.map(cat=>(\n                                    <li key={cat.idCategoria}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.categoria == cat.idCategoria ? FiltroStyle.active:''}`} onClick={()=>activarFiltro('categoria',`${cat.idCategoria}`)}>\n                                            <span className=\"text-muted\">{cat.categoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.categoria == cat.idCategoria ?'':'d-none'}`} onClick={()=>limpiarFiltro('categoria')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Alimentos</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.subcategoriaReducer.subcategorias.map(sc=>(\n                                    <li key={sc.idSubCategoria}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? FiltroStyle.active:''}`} onClick={()=>activarFiltro('subcategoria',`${sc.idSubCategoria}`)}>\n                                            <span className=\"text-muted\">{sc.subcategoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? '' : 'd-none'}`} onClick={()=>limpiarFiltro('subcategoria')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Marca</h4>\n                        <ul id=\"listaMarca\" className={FiltroStyle.sinBorderBottom+ ' ' + FiltroStyle.lista}>\n                            {\n                                props.marcasReducer.marcas.map((marca,key)=>(\n                                    (key>3)?false:\n                                    <li key={marca.idMarca}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.marca == marca.idMarca ? FiltroStyle.active : ''}`} onClick={()=>activarFiltro('marca',`${marca.idMarca}`)}>\n                                            <span className=\"text-muted\">{marca.marca}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.marca == marca.idMarca ? '' : 'd-none'}`} onClick={()=>limpiarFiltro('marca')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                        <button onClick={()=>setModalIsOpen(true)} className=\"boton bg-gris\">Ver todas</button>\n                    </>\n                }\n            </div>\n            {(!modalIsOpen)?null:\n                <Modal closeModal={onCloseModal}>\n                    <ModalMarca closeModal={onCloseModal} activarFiltro={activarFiltro}/>\n                </Modal>\n            }\n        </div>\n    );\n}\n\nconst mapStateToProps = ({marcasReducer,productosReducer,categoriasReducer,subcategoriaReducer})=>{\n    return {\n        marcasReducer,\n        productosReducer,\n        categoriasReducer,\n        subcategoriaReducer\n    };\n}\n\nconst mapDispatchToProps = {\n    marcasTraerTodas,\n    productosFiltrarProductos,\n    productosTraerTodos,\n    categoriasTraerTodas,\n    subcategoriaTraerTodas,\n    aplicarFiltro,\n    quitarFiltro\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Filtro);"]},"metadata":{},"sourceType":"module"}