{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport NavbarStyle from './Navbar.module.css';\nimport Link from 'next/link';\nimport Router, { useRouter } from 'next/router';\nimport Modal from '../Modal/index';\nimport Login from '../Login';\nimport Register from '../Login/Register';\nimport Carrito from '../Carrito';\nimport { faHome, faUser, faPiggyBank, faShoppingCart, faAlignLeft, faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebook, faInstagram } from '@fortawesome/free-brands-svg-icons';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { PUBLIC_URL, URL_CLOUD_STORAGE } from '../../../config/index';\nimport { connect } from 'react-redux';\nimport * as usuarioActions from '../../../store/actions/usuarioActions';\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport FiltroStyle from '../Filtro/Filtro.module.css';\n\nvar Navbar = function Navbar(props) {\n  useEffect(function () {\n    props.verificarSesion();\n  }, []);\n\n  var _useState = useState(''),\n      busqueda = _useState[0],\n      setBusqueda = _useState[1];\n\n  var _useState2 = useState(false),\n      login = _useState2[0],\n      setLogin = _useState2[1];\n\n  var _useState3 = useState(false),\n      carrito = _useState3[0],\n      setCarrito = _useState3[1];\n\n  var _useState4 = useState(false),\n      register = _useState4[0],\n      setRegister = _useState4[1];\n\n  var _useState5 = useState(false),\n      modalIsOpen = _useState5[0],\n      setModalIsOpen = _useState5[1];\n\n  var _useState6 = useState(false),\n      dropdownOpen = _useState6[0],\n      setOpen = _useState6[1];\n\n  var location = useRouter(); //actions login-register\n\n  var showModalLogin = function showModalLogin() {\n    register ? setRegister(false) : null;\n    carrito ? setCarrito(false) : null;\n    setLogin(true);\n    setModalIsOpen(true);\n  };\n\n  var showRegister = function showRegister() {\n    login ? setLogin(false) : false;\n    carrito ? setCarrito(false) : null;\n    setRegister(true);\n  };\n\n  var closeModal = function closeModal() {\n    return setModalIsOpen(false);\n  }; //-------------------------------------------------//\n  //actions carrito\n\n\n  var showModalCarrito = function showModalCarrito() {\n    login ? setLogin(false) : null;\n    register ? setRegister(false) : null; //si el menu esta abierto, lo cierro.\n\n    setCarrito(true);\n    setModalIsOpen(true);\n  };\n\n  var toggleMenu = function toggleMenu() {\n    if (document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0] && document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.contains(FiltroStyle.show_filtros)) {\n      document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.remove(FiltroStyle.show_filtros);\n    }\n\n    document.getElementsByClassName(NavbarStyle.menu__collapsed)[0].classList.toggle(NavbarStyle.showCollapsed);\n  };\n\n  var handleChangeMenu = function handleChangeMenu(event) {\n    setBusqueda(event.target.value);\n  };\n\n  var handleSubmitBuscador = function handleSubmitBuscador(event) {\n    event.preventDefault();\n    if (busqueda.trim() === '') return false;\n\n    if (location.pathname == '/') {\n      return Router.push(\"/productos?search=\".concat(busqueda));\n    }\n\n    return window.location.assign(\"/productos?search=\".concat(busqueda));\n  };\n\n  var renderContenidoModal = function renderContenidoModal() {\n    if (login) return __jsx(Login, {\n      showRegister: showRegister\n    });\n    if (register) return __jsx(Register, {\n      showLogin: showModalLogin\n    });\n    if (carrito) return __jsx(Carrito, null);\n  };\n\n  var cerrarSesion = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return props.logout();\n\n            case 2:\n              setTimeout(function () {\n                return showModalLogin();\n              }, 800);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function cerrarSesion() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var toggle = function toggle() {\n    return setOpen(!dropdownOpen);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: NavbarStyle.navbar + ' ' + \"sticky-top\"\n  }, __jsx(\"div\", {\n    className: NavbarStyle.wrapper__navbar + ' ' + \"container\"\n  }, __jsx(\"nav\", {\n    className: \"row ml-0 w-100\"\n  }, __jsx(\"div\", {\n    className: NavbarStyle.container__logo\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    src: \"\".concat(URL_CLOUD_STORAGE, \"/static/Perro.png\"),\n    className: NavbarStyle.logo + ' ' + \"img-fluid\",\n    alt: \"Oliver pet shop\"\n  })))), __jsx(\"span\", {\n    className: NavbarStyle.boton__menu + ' ' + NavbarStyle.btn_carrito + ' ' + NavbarStyle.carrito_mobile,\n    onClick: showModalCarrito\n  }, __jsx(FontAwesomeIcon, {\n    icon: faShoppingCart,\n    className: NavbarStyle.txt__item_menu\n  })), props.logueado ? __jsx(\"img\", {\n    src: props.usuario.foto != 'null' ? props.usuario.foto : \"https://storage.googleapis.com/web-oliver/user-default.png\",\n    className: NavbarStyle.imgProfile + ' ' + NavbarStyle.img_menu,\n    onClick: toggleMenu\n  }) : __jsx(FontAwesomeIcon, {\n    onClick: toggleMenu,\n    icon: faAlignLeft,\n    className: NavbarStyle.icon_menu\n  }), __jsx(\"form\", {\n    className: NavbarStyle.buscador + ' ' + \"col-sm-4 col-xl-7 col-md-7 d-flex align-items-center input-group\",\n    autoComplete: \"off\",\n    onSubmit: handleSubmitBuscador\n  }, __jsx(\"input\", {\n    type: \"text\",\n    required: true,\n    className: NavbarStyle.form_search_menu + ' ' + \"form-control\",\n    onChange: handleChangeMenu,\n    placeholder: \"\\xBFQu\\xE9 andas buscando?\"\n  })), __jsx(\"div\", {\n    className: NavbarStyle.container__login_menu + ' ' + \"col-sm-7 col-xl-4 col-md-4 d-flex align-items-center justify-content-end\"\n  }, props.logueado ? __jsx(ButtonDropdown, {\n    isOpen: dropdownOpen,\n    toggle: toggle\n  }, __jsx(DropdownToggle, {\n    caret: true,\n    size: \"sm\",\n    className: NavbarStyle.boton__menu + ' ' + NavbarStyle.btn_account + ' ' + NavbarStyle.sinBorder\n  }, __jsx(\"img\", {\n    src: props.usuario.foto != 'null' ? props.usuario.foto : \"https://storage.googleapis.com/web-oliver/user-default.png\",\n    className: NavbarStyle.imgProfile\n  })), __jsx(DropdownMenu, null, __jsx(Link, {\n    href: \"\".concat(PUBLIC_URL, \"/perfil\")\n  }, __jsx(\"a\", null, __jsx(DropdownItem, null, \"Mi perfil\"))), __jsx(DropdownItem, {\n    divider: true\n  }), __jsx(DropdownItem, {\n    onClick: cerrarSesion\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSignOutAlt,\n    className: NavbarStyle.txt__item_menu\n  }), \" Cerrar sesi\\xF3n\"))) : __jsx(\"span\", {\n    onClick: showModalLogin,\n    className: NavbarStyle.boton__menu + ' ' + NavbarStyle.btn_account\n  }, __jsx(\"span\", {\n    className: NavbarStyle.txt__item_menu\n  }, \"Ingres\\xE1 ahora / Registrate\")), __jsx(\"span\", {\n    className: NavbarStyle.boton__menu + ' ' + NavbarStyle.btn_carrito,\n    onClick: showModalCarrito\n  }, __jsx(FontAwesomeIcon, {\n    icon: faShoppingCart,\n    className: NavbarStyle.txt__item_menu\n  }))))), __jsx(\"div\", {\n    className: NavbarStyle.menu__collapsed\n  }, __jsx(\"section\", {\n    className: NavbarStyle.header__collapsed_nav\n  }, __jsx(\"img\", {\n    src: \"\".concat(URL_CLOUD_STORAGE, \"/static/Perro.png\"),\n    className: NavbarStyle.logo,\n    alt: \"Oliver pet shop\"\n  }), __jsx(\"i\", {\n    onClick: toggleMenu,\n    className: NavbarStyle.close_btn_menu + ' ' + \"fas fa-times\"\n  })), __jsx(\"div\", {\n    className: NavbarStyle.main__collapsed\n  }, __jsx(\"ul\", {\n    className: NavbarStyle.list__menu__collapsed\n  }, __jsx(Link, {\n    href: \"/\",\n    onClick: toggleMenu\n  }, __jsx(\"a\", null, __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed\n  }, __jsx(FontAwesomeIcon, {\n    icon: faHome,\n    className: NavbarStyle.icon__itemMenu__collapsed\n  }), __jsx(\"span\", {\n    className: NavbarStyle.label__item__menu\n  }, \"Inicio\")))), __jsx(Link, {\n    href: \"/\",\n    onClick: toggleMenu\n  }, __jsx(\"a\", null, __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed\n  }, __jsx(FontAwesomeIcon, {\n    icon: faPiggyBank,\n    className: NavbarStyle.icon__itemMenu__collapsed\n  }), __jsx(\"span\", {\n    className: NavbarStyle.label__item__menu\n  }, \"Productos\")))), props.logueado ? __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"\".concat(PUBLIC_URL, \"/perfil\"),\n    onClick: toggleMenu\n  }, __jsx(\"a\", null, __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed\n  }, __jsx(FontAwesomeIcon, {\n    icon: faUser,\n    className: NavbarStyle.icon__itemMenu__collapsed\n  }), __jsx(\"span\", {\n    className: NavbarStyle.label__item__menu\n  }, \"Mi perfil\")))), __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed,\n    onClick: cerrarSesion\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSignOutAlt,\n    className: NavbarStyle.icon__itemMenu__collapsed\n  }), __jsx(\"span\", {\n    className: NavbarStyle.label__item__menu\n  }, \"Cerrar Sesi\\xF3n\"))) : __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed,\n    onClick: showModalLogin\n  }, __jsx(FontAwesomeIcon, {\n    icon: faUser,\n    className: NavbarStyle.icon__itemMenu__collapsed\n  }), __jsx(\"span\", {\n    className: NavbarStyle.label__item__menu\n  }, \"Ingres\\xE1 ahora / Registrate\")), __jsx(\"li\", {\n    className: NavbarStyle.item__menu__collapsed + ' ' + NavbarStyle.__withButton\n  }, __jsx(\"a\", {\n    href: \"/\",\n    className: \"boton bg-yellow\"\n  }, \"Ofertas\")))), __jsx(\"section\", {\n    className: NavbarStyle.collapsed_info + ' ' + \"text-center\"\n  }, __jsx(\"div\", {\n    className: NavbarStyle.redes__collapsed\n  }, __jsx(FontAwesomeIcon, {\n    icon: faFacebook,\n    className: NavbarStyle.iconoRed\n  }), __jsx(FontAwesomeIcon, {\n    icon: faInstagram,\n    className: NavbarStyle.iconoRed\n  })), __jsx(\"span\", {\n    className: \"text-muted\"\n  }, \"\\xA9Terminos y Condiciones\")))), !modalIsOpen ? null : __jsx(Modal, {\n    closeModal: closeModal\n  }, renderContenidoModal()));\n};\n\nvar mapStateToProps = function mapStateToProps(reducers) {\n  return reducers.usuarioReducer;\n};\n\nexport default connect(mapStateToProps, usuarioActions)(Navbar);","map":null,"metadata":{},"sourceType":"module"}