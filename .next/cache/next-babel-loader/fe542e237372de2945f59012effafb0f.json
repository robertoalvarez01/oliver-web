{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport CardUbicacion from '../../src/components/CardUbicacion/index';\nimport OpcionesEnvio from '../../src/components/OpcionesEnvio';\nimport ZonaEnvio from '../../src/components/ZonaEnvio';\nimport Head from '../../src/components/Head';\nimport DetalleProductos from '../../src/components/DetalleProductos';\nimport Error from '../../src/components/Error';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../store/actions/carritoActions';\nimport * as usuarioActions from '../../store/actions/usuarioActions';\nimport { API } from '../../config/index';\nimport Loader from '../../src/components/Loader/index';\nvar carritoTraerProductos = carritoActions.traerProductos;\nvar verificarSesion = usuarioActions.verificarSesion;\n\nvar Checkout = function Checkout(props) {\n  _s();\n\n  var _useState = useState({\n    normal: true,\n    express: false,\n    local: false\n  }),\n      tipoEnvio = _useState[0],\n      setTipoEnvio = _useState[1];\n\n  var _useState2 = useState(''),\n      zonaEnvio = _useState2[0],\n      setZonaEnvio = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    props.carritoTraerProductos();\n  }, []);\n  useEffect(function () {\n    console.log(props.carritoReducer.productos);\n  }, [props.carritoReducer.productos]);\n\n  var cambiarTipoDeEnvio = function cambiarTipoDeEnvio(tipoDeEnvio) {\n    if (tipoDeEnvio === 'normal') {\n      return setTipoEnvio({\n        normal: true,\n        express: false,\n        local: false\n      });\n    }\n\n    if (tipoDeEnvio === 'express') {\n      return setTipoEnvio({\n        normal: false,\n        express: true,\n        local: false\n      });\n    }\n\n    return setTipoEnvio({\n      normal: false,\n      express: false,\n      local: true\n    });\n  };\n\n  var insertarZonaDeEnvio = function insertarZonaDeEnvio(zona) {\n    setZonaEnvio(zona);\n  };\n\n  var handleClick = function handleClick() {\n    if (!tipoEnvio.local) {\n      if (!props.usuarioReducer.usuario.address || props.usuarioReducer.usuario.address === '') return setError('Es obligatorio completar tu ubicación.');\n      if (zonaEnvio === '') return setError('Es obligatorio completar la zona de envío.');\n    }\n\n    setLoading(true);\n    var tipoDeEnvioActivo;\n\n    if (tipoEnvio.local) {\n      tipoDeEnvioActivo = 'Local';\n    }\n\n    ;\n\n    if (tipoEnvio.normal) {\n      tipoDeEnvioActivo = 'Domicilio';\n    }\n\n    if (tipoEnvio.express) {\n      tipoDeEnvioActivo = 'Express';\n    }\n\n    var dataEnvio = {\n      tipo: tipoDeEnvioActivo,\n      zona: zonaEnvio,\n      address: props.usuarioReducer.usuario.address\n    }; //guardo data de envio para luego de hacer el checkout de mercado pago, envio los datos al servidor para registrar la venta con el envio correspondiente.\n\n    localStorage.setItem('dataEnvio', JSON.stringify(dataEnvio));\n    var token = props.usuarioReducer.usuario.token;\n    var productosCarrito = props.carritoReducer.productos;\n    var productos = [];\n    productosCarrito.forEach(function (prd) {\n      productos.push({\n        title: prd.subProducto,\n        description: prd.tamaño,\n        quantity: prd.cantidad,\n        unit_price: prd.precioUnidad\n      });\n    });\n    var headers = new Headers();\n    headers.append('token', token);\n    headers.append(\"Content-Type\", \"application/json\"); // fetch(`${API}/mercadopago`,{\n    //     method:'POST',\n    //     headers,\n    //     body:JSON.stringify(productos)\n    // }).then(res=>res.json()).then(datamp=>{\n    //     const {response} = datamp.info;\n    //     setLoading(false);\n    //     window.location.assign(response.init_point);\n    // }).catch(err=>{\n    //     console.log(err);\n    //     setLoading(false);\n    //     setError(err.message);\n    // })\n  };\n\n  return !props.usuarioReducer.logueado ? __jsx(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 42\n    }\n  }, __jsx(Error, {\n    message: \"No puedes realizar una compra sin tener una sesi\\xF3n activa.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 64\n    }\n  })) : __jsx(React.Fragment, null, props.carritoReducer.productos.length === 0 ? __jsx(\"div\", {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 58\n    }\n  }, __jsx(Error, {\n    message: \"No hay productos para finalizar la compra.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 80\n    }\n  })) : __jsx(React.Fragment, null, loading ? __jsx(\"div\", {\n    className: \"container-loader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 32\n    }\n  }, __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 66\n    }\n  })) : null, __jsx(Head, {\n    title: \"Oliver Pet Shop\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"container mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"col-12 col-md-8 pt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, __jsx(\"h2\", {\n    className: \"jsx-1473839781\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }, \"\\xDAltimos pasos para terminar tu compra\"), error ? __jsx(Error, {\n    message: error,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 42\n    }\n  }) : null, __jsx(CardUbicacion, {\n    dataUser: props.usuarioReducer.usuario,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }), __jsx(ZonaEnvio, {\n    setZonaEnvio: insertarZonaDeEnvio,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"alert alert-warning\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  }, __jsx(\"b\", {\n    className: \"jsx-1473839781\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 70\n    }\n  }, \"Atenci\\xF3n:\"), \" S\\xED desea retirar su compra en nuestro local, no es necesario que seleccione una zona de env\\xEDo\"), __jsx(\"h2\", {\n    className: \"jsx-1473839781\" + \" \" + \"mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 33\n    }\n  }, \"Opciones de env\\xEDo\"), __jsx(OpcionesEnvio, {\n    tipoEnvio: tipoEnvio,\n    cambiarTipoDeEnvio: cambiarTipoDeEnvio,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    id: \"btn-continuar\",\n    className: \"jsx-1473839781\" + \" \" + \"btn btn-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, \"Continuar\"), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"divTotalMobile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 33\n    }\n  }, __jsx(\"span\", {\n    id: \"total\",\n    className: \"jsx-1473839781\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }, \"$\", props.carritoReducer.subtotal), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    className: \"jsx-1473839781\" + \" \" + \"btn btn-primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 37\n    }\n  }, \"Continuar\"))), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"col-12 col-md-4 detalleProductos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, __jsx(DetalleProductos, {\n    data: props.carritoReducer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"1473839781\",\n    __self: _this\n  }, \"h2.jsx-1473839781{font-size:25px;}button#btn-continuar.jsx-1473839781{float:right;margin-top:20px;}.divTotalMobile.jsx-1473839781{display:none;}@media(max-width:768px){#btn-continuar.jsx-1473839781{display:none;}.divTotalMobile.jsx-1473839781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:fixed;left:0;right:0px;bottom:0px;background-color:#f7f7f7;padding:16px;box-shadow:0 -2px 8px 2px rgba(0,0,0,.15);border-width:0 1px 1px;font-family:'Quicksand',sans-serif;}.detalleProductos.jsx-1473839781{display:none;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvcGFnZXMvY2hlY2tvdXQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0lvQyxBQUU0QyxBQUVBLEFBR1csQUFFRyxBQUVULEFBY2pCLFlBbkJKLENBQzRCLEFBRUcsQUFnQjFCLEVBdkJZLGFBSWhCLDhDQU1xQyxtSEFDZCxlQUNULE9BQ0csVUFDRSxXQUNjLHlCQUNaLGFBQzZCLDBDQUNuQix1QkFDYSxtQ0FDeEMiLCJmaWxlIjoiL2hvbWUvZnJhbmNvL2Rlc2Fycm9sbG8vcHJveWVjdG9fb2xpdmVyL29saXZlci13ZWItbmV4dC9wYWdlcy9jaGVja291dC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZFViaWNhY2lvbiBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9DYXJkVWJpY2FjaW9uL2luZGV4JzsgXG5pbXBvcnQgT3BjaW9uZXNFbnZpbyBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9PcGNpb25lc0VudmlvJztcbmltcG9ydCBab25hRW52aW8gZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvWm9uYUVudmlvJztcbmltcG9ydCBIZWFkIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL0hlYWQnO1xuaW1wb3J0IERldGFsbGVQcm9kdWN0b3MgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvRGV0YWxsZVByb2R1Y3Rvcyc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvRXJyb3InO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAqIGFzIGNhcnJpdG9BY3Rpb25zIGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMvY2Fycml0b0FjdGlvbnMnO1xuaW1wb3J0ICogYXMgdXN1YXJpb0FjdGlvbnMgZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy91c3VhcmlvQWN0aW9ucyc7XG5pbXBvcnQge0FQSX0gZnJvbSAnLi4vLi4vY29uZmlnL2luZGV4JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvTG9hZGVyL2luZGV4JztcblxuY29uc3Qge3RyYWVyUHJvZHVjdG9zOmNhcnJpdG9UcmFlclByb2R1Y3Rvc30gPSBjYXJyaXRvQWN0aW9ucztcbmNvbnN0IHt2ZXJpZmljYXJTZXNpb259ID0gdXN1YXJpb0FjdGlvbnM7XG5cbmNvbnN0IENoZWNrb3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgW3RpcG9FbnZpbywgc2V0VGlwb0VudmlvXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgbm9ybWFsOnRydWUsXG4gICAgICAgIGV4cHJlc3M6ZmFsc2UsXG4gICAgICAgIGxvY2FsOmZhbHNlXG4gICAgfSk7XG5cbiAgICBjb25zdCBbem9uYUVudmlvLCBzZXRab25hRW52aW9dID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHByb3BzLmNhcnJpdG9UcmFlclByb2R1Y3RvcygpO1xuICAgIH0sIFtdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb3BzLmNhcnJpdG9SZWR1Y2VyLnByb2R1Y3Rvcyk7XG4gICAgfSwgW3Byb3BzLmNhcnJpdG9SZWR1Y2VyLnByb2R1Y3Rvc10pXG5cbiAgICBjb25zdCBjYW1iaWFyVGlwb0RlRW52aW8gPSB0aXBvRGVFbnZpbz0+e1xuICAgICAgICBpZih0aXBvRGVFbnZpbz09PSdub3JtYWwnKXtcbiAgICAgICAgICAgIHJldHVybiBzZXRUaXBvRW52aW8oe1xuICAgICAgICAgICAgICAgIG5vcm1hbDp0cnVlLFxuICAgICAgICAgICAgICAgIGV4cHJlc3M6ZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6ZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYodGlwb0RlRW52aW89PT0nZXhwcmVzcycpe1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpcG9FbnZpbyh7XG4gICAgICAgICAgICAgICAgbm9ybWFsOmZhbHNlLFxuICAgICAgICAgICAgICAgIGV4cHJlc3M6dHJ1ZSxcbiAgICAgICAgICAgICAgICBsb2NhbDpmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGlwb0VudmlvKHtcbiAgICAgICAgICAgIG5vcm1hbDpmYWxzZSxcbiAgICAgICAgICAgIGV4cHJlc3M6ZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDp0cnVlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgaW5zZXJ0YXJab25hRGVFbnZpbyA9IHpvbmE9PntcbiAgICAgICAgc2V0Wm9uYUVudmlvKHpvbmEpO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKCk9PntcbiAgICAgICAgaWYoIXRpcG9FbnZpby5sb2NhbCl7XG4gICAgICAgICAgICBpZighcHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpby5hZGRyZXNzIHx8IHByb3BzLnVzdWFyaW9SZWR1Y2VyLnVzdWFyaW8uYWRkcmVzcz09PScnKSByZXR1cm4gc2V0RXJyb3IoJ0VzIG9ibGlnYXRvcmlvIGNvbXBsZXRhciB0dSB1YmljYWNpw7NuLicpO1xuICAgICAgICAgICAgaWYoem9uYUVudmlvPT09JycpIHJldHVybiBzZXRFcnJvcignRXMgb2JsaWdhdG9yaW8gY29tcGxldGFyIGxhIHpvbmEgZGUgZW52w61vLicpO1xuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGxldCB0aXBvRGVFbnZpb0FjdGl2bztcbiAgICAgICAgaWYodGlwb0VudmlvLmxvY2FsKXt0aXBvRGVFbnZpb0FjdGl2bz0nTG9jYWwnfTtcbiAgICAgICAgaWYodGlwb0VudmlvLm5vcm1hbCl7dGlwb0RlRW52aW9BY3Rpdm89J0RvbWljaWxpbyd9XG4gICAgICAgIGlmKHRpcG9FbnZpby5leHByZXNzKXt0aXBvRGVFbnZpb0FjdGl2bz0nRXhwcmVzcyd9XG4gICAgICAgIGxldCBkYXRhRW52aW8gPSB7XG4gICAgICAgICAgICB0aXBvOnRpcG9EZUVudmlvQWN0aXZvLFxuICAgICAgICAgICAgem9uYTp6b25hRW52aW8sXG4gICAgICAgICAgICBhZGRyZXNzOnByb3BzLnVzdWFyaW9SZWR1Y2VyLnVzdWFyaW8uYWRkcmVzc1xuICAgICAgICB9XG4gICAgICAgIC8vZ3VhcmRvIGRhdGEgZGUgZW52aW8gcGFyYSBsdWVnbyBkZSBoYWNlciBlbCBjaGVja291dCBkZSBtZXJjYWRvIHBhZ28sIGVudmlvIGxvcyBkYXRvcyBhbCBzZXJ2aWRvciBwYXJhIHJlZ2lzdHJhciBsYSB2ZW50YSBjb24gZWwgZW52aW8gY29ycmVzcG9uZGllbnRlLlxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGF0YUVudmlvJyxKU09OLnN0cmluZ2lmeShkYXRhRW52aW8pKTtcblxuICAgICAgICBjb25zdCB7dG9rZW59ID0gcHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpbztcbiAgICAgICAgY29uc3Qge3Byb2R1Y3Rvczpwcm9kdWN0b3NDYXJyaXRvfSA9IHByb3BzLmNhcnJpdG9SZWR1Y2VyO1xuICAgICAgICBsZXQgcHJvZHVjdG9zID0gW107XG4gICAgICAgIHByb2R1Y3Rvc0NhcnJpdG8uZm9yRWFjaChwcmQgPT4ge1xuICAgICAgICAgICAgcHJvZHVjdG9zLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOnByZC5zdWJQcm9kdWN0byxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpwcmQudGFtYcOxbyxcbiAgICAgICAgICAgICAgICBxdWFudGl0eTpwcmQuY2FudGlkYWQsXG4gICAgICAgICAgICAgICAgdW5pdF9wcmljZTpwcmQucHJlY2lvVW5pZGFkXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZCgndG9rZW4nLHRva2VuKTtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICAvLyBmZXRjaChgJHtBUEl9L21lcmNhZG9wYWdvYCx7XG4gICAgICAgIC8vICAgICBtZXRob2Q6J1BPU1QnLFxuICAgICAgICAvLyAgICAgaGVhZGVycyxcbiAgICAgICAgLy8gICAgIGJvZHk6SlNPTi5zdHJpbmdpZnkocHJvZHVjdG9zKVxuICAgICAgICAvLyB9KS50aGVuKHJlcz0+cmVzLmpzb24oKSkudGhlbihkYXRhbXA9PntcbiAgICAgICAgLy8gICAgIGNvbnN0IHtyZXNwb25zZX0gPSBkYXRhbXAuaW5mbztcbiAgICAgICAgLy8gICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAvLyAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihyZXNwb25zZS5pbml0X3BvaW50KTtcbiAgICAgICAgLy8gfSkuY2F0Y2goZXJyPT57XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvLyAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIC8vICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIC8vIH0pXG4gICAgfVxuXG5cbiAgICByZXR1cm4gKFxuICAgICAgICAoIXByb3BzLnVzdWFyaW9SZWR1Y2VyLmxvZ3VlYWRvKT88ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj48RXJyb3IgbWVzc2FnZT1cIk5vIHB1ZWRlcyByZWFsaXphciB1bmEgY29tcHJhIHNpbiB0ZW5lciB1bmEgc2VzacOzbiBhY3RpdmEuXCIvPjwvZGl2PjpcbiAgICAgICAgPD5cbiAgICAgICAgICAgIHsocHJvcHMuY2Fycml0b1JlZHVjZXIucHJvZHVjdG9zLmxlbmd0aD09PTApPzxkaXYgY2xhc3NOYW1lPVwibXQtM1wiPjxFcnJvciBtZXNzYWdlPVwiTm8gaGF5IHByb2R1Y3RvcyBwYXJhIGZpbmFsaXphciBsYSBjb21wcmEuXCIvPjwvZGl2PjpcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7KGxvYWRpbmcpPzxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWxvYWRlclwiPjxMb2FkZXIvPjwvZGl2PjpudWxsfSAgIFxuICAgICAgICAgICAgICAgICAgICA8SGVhZCB0aXRsZT1cIk9saXZlciBQZXQgU2hvcFwiLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtOCBwdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMj7Dmmx0aW1vcyBwYXNvcyBwYXJhIHRlcm1pbmFyIHR1IGNvbXByYTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoZXJyb3IpPzxFcnJvciBtZXNzYWdlPXtlcnJvcn0vPjpudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFViaWNhY2lvbiBkYXRhVXNlcj17cHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpb30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Wm9uYUVudmlvIHNldFpvbmFFbnZpbz17aW5zZXJ0YXJab25hRGVFbnZpb30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj48Yj5BdGVuY2nDs246PC9iPiBTw60gZGVzZWEgcmV0aXJhciBzdSBjb21wcmEgZW4gbnVlc3RybyBsb2NhbCwgbm8gZXMgbmVjZXNhcmlvIHF1ZSBzZWxlY2Npb25lIHVuYSB6b25hIGRlIGVudsOtbzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwibXQtNVwiPk9wY2lvbmVzIGRlIGVudsOtbzwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPcGNpb25lc0VudmlvIHRpcG9FbnZpbz17dGlwb0VudmlvfSBjYW1iaWFyVGlwb0RlRW52aW89e2NhbWJpYXJUaXBvRGVFbnZpb30vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBvbkNsaWNrPXtoYW5kbGVDbGlja30gaWQ9XCJidG4tY29udGludWFyXCI+Q29udGludWFyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2VG90YWxNb2JpbGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwidG90YWxcIj4ke3Byb3BzLmNhcnJpdG9SZWR1Y2VyLnN1YnRvdGFsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5Db250aW51YXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTQgZGV0YWxsZVByb2R1Y3Rvc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RGV0YWxsZVByb2R1Y3RvcyBkYXRhPXtwcm9wcy5jYXJyaXRvUmVkdWNlcn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaDJ7Zm9udC1zaXplOjI1cHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uI2J0bi1jb250aW51YXJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0OnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOjIwcHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRpdlRvdGFsTW9iaWxle2Rpc3BsYXk6bm9uZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAbWVkaWEobWF4LXdpZHRoOjc2OHB4KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2J0bi1jb250aW51YXJ7ZGlzcGxheTpub25lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGl2VG90YWxNb2JpbGV7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6MDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OjBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIC0ycHggOHB4IDJweCByZ2JhKDAsMCwwLC4xNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItd2lkdGg6IDAgMXB4IDFweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUXVpY2tzYW5kJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRldGFsbGVQcm9kdWN0b3N7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Om5vbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgPC8+XG4gICAgKTtcbn1cbiBcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7Y2Fycml0b1JlZHVjZXIsdXN1YXJpb1JlZHVjZXJ9KT0+e1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhcnJpdG9SZWR1Y2VyLFxuICAgICAgICB1c3VhcmlvUmVkdWNlclxuICAgIH07XG59XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IHtcbiAgICBjYXJyaXRvVHJhZXJQcm9kdWN0b3MsXG4gICAgdmVyaWZpY2FyU2VzaW9uXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcyxtYXBEaXNwYXRjaFRvUHJvcHMpKENoZWNrb3V0KTsiXX0= */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js */\"))));\n};\n\n_s(Checkout, \"OcGkJAm7FDq0AG4+oJZ06GJCM3I=\");\n\n_c = Checkout;\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var carritoReducer = _ref.carritoReducer,\n      usuarioReducer = _ref.usuarioReducer;\n  return {\n    carritoReducer: carritoReducer,\n    usuarioReducer: usuarioReducer\n  };\n};\n\nvar mapDispatchToProps = {\n  carritoTraerProductos: carritoTraerProductos,\n  verificarSesion: verificarSesion\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js"],"names":["useEffect","useState","CardUbicacion","OpcionesEnvio","ZonaEnvio","Head","DetalleProductos","Error","connect","carritoActions","usuarioActions","API","Loader","carritoTraerProductos","traerProductos","verificarSesion","Checkout","props","normal","express","local","tipoEnvio","setTipoEnvio","zonaEnvio","setZonaEnvio","error","setError","loading","setLoading","console","log","carritoReducer","productos","cambiarTipoDeEnvio","tipoDeEnvio","insertarZonaDeEnvio","zona","handleClick","usuarioReducer","usuario","address","tipoDeEnvioActivo","dataEnvio","tipo","localStorage","setItem","JSON","stringify","token","productosCarrito","forEach","prd","push","title","subProducto","description","tamaño","quantity","cantidad","unit_price","precioUnidad","headers","Headers","append","logueado","length","subtotal","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport CardUbicacion from '../../src/components/CardUbicacion/index'; \nimport OpcionesEnvio from '../../src/components/OpcionesEnvio';\nimport ZonaEnvio from '../../src/components/ZonaEnvio';\nimport Head from '../../src/components/Head';\nimport DetalleProductos from '../../src/components/DetalleProductos';\nimport Error from '../../src/components/Error';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../store/actions/carritoActions';\nimport * as usuarioActions from '../../store/actions/usuarioActions';\nimport {API} from '../../config/index';\nimport Loader from '../../src/components/Loader/index';\n\nconst {traerProductos:carritoTraerProductos} = carritoActions;\nconst {verificarSesion} = usuarioActions;\n\nconst Checkout = (props) => {\n    const [tipoEnvio, setTipoEnvio] = useState({\n        normal:true,\n        express:false,\n        local:false\n    });\n\n    const [zonaEnvio, setZonaEnvio] = useState('');\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        props.carritoTraerProductos();\n    }, []);\n\n    useEffect(() => {\n        console.log(props.carritoReducer.productos);\n    }, [props.carritoReducer.productos])\n\n    const cambiarTipoDeEnvio = tipoDeEnvio=>{\n        if(tipoDeEnvio==='normal'){\n            return setTipoEnvio({\n                normal:true,\n                express:false,\n                local:false\n            })\n        }\n        if(tipoDeEnvio==='express'){\n            return setTipoEnvio({\n                normal:false,\n                express:true,\n                local:false\n            })\n        }\n        return setTipoEnvio({\n            normal:false,\n            express:false,\n            local:true\n        })\n    }\n\n    const insertarZonaDeEnvio = zona=>{\n        setZonaEnvio(zona);\n    }\n\n    const handleClick = ()=>{\n        if(!tipoEnvio.local){\n            if(!props.usuarioReducer.usuario.address || props.usuarioReducer.usuario.address==='') return setError('Es obligatorio completar tu ubicación.');\n            if(zonaEnvio==='') return setError('Es obligatorio completar la zona de envío.');\n        }\n        setLoading(true);\n        let tipoDeEnvioActivo;\n        if(tipoEnvio.local){tipoDeEnvioActivo='Local'};\n        if(tipoEnvio.normal){tipoDeEnvioActivo='Domicilio'}\n        if(tipoEnvio.express){tipoDeEnvioActivo='Express'}\n        let dataEnvio = {\n            tipo:tipoDeEnvioActivo,\n            zona:zonaEnvio,\n            address:props.usuarioReducer.usuario.address\n        }\n        //guardo data de envio para luego de hacer el checkout de mercado pago, envio los datos al servidor para registrar la venta con el envio correspondiente.\n        localStorage.setItem('dataEnvio',JSON.stringify(dataEnvio));\n\n        const {token} = props.usuarioReducer.usuario;\n        const {productos:productosCarrito} = props.carritoReducer;\n        let productos = [];\n        productosCarrito.forEach(prd => {\n            productos.push({\n                title:prd.subProducto,\n                description:prd.tamaño,\n                quantity:prd.cantidad,\n                unit_price:prd.precioUnidad\n            })\n        });\n        let headers = new Headers();\n        headers.append('token',token);\n        headers.append(\"Content-Type\", \"application/json\");\n        // fetch(`${API}/mercadopago`,{\n        //     method:'POST',\n        //     headers,\n        //     body:JSON.stringify(productos)\n        // }).then(res=>res.json()).then(datamp=>{\n        //     const {response} = datamp.info;\n        //     setLoading(false);\n        //     window.location.assign(response.init_point);\n        // }).catch(err=>{\n        //     console.log(err);\n        //     setLoading(false);\n        //     setError(err.message);\n        // })\n    }\n\n\n    return (\n        (!props.usuarioReducer.logueado)?<div className=\"mt-3\"><Error message=\"No puedes realizar una compra sin tener una sesión activa.\"/></div>:\n        <>\n            {(props.carritoReducer.productos.length===0)?<div className=\"mt-3\"><Error message=\"No hay productos para finalizar la compra.\"/></div>:\n                <>\n                    {(loading)?<div className=\"container-loader\"><Loader/></div>:null}   \n                    <Head title=\"Oliver Pet Shop\"/>\n                    <div className=\"container mb-4\">\n                        <div className=\"row\">\n                            <div className=\"col-12 col-md-8 pt-4\">\n                                <h2>Últimos pasos para terminar tu compra</h2>\n                                {(error)?<Error message={error}/>:null}\n                                <CardUbicacion dataUser={props.usuarioReducer.usuario}/>\n                                <ZonaEnvio setZonaEnvio={insertarZonaDeEnvio}/>\n                                <div className=\"alert alert-warning\"><b>Atención:</b> Sí desea retirar su compra en nuestro local, no es necesario que seleccione una zona de envío</div>\n                                <h2 className=\"mt-5\">Opciones de envío</h2>\n                                <OpcionesEnvio tipoEnvio={tipoEnvio} cambiarTipoDeEnvio={cambiarTipoDeEnvio}/>\n                                <button type=\"button\" className=\"btn btn-primary\" onClick={handleClick} id=\"btn-continuar\">Continuar</button>\n                                <div className=\"divTotalMobile\">\n                                    <span id=\"total\">${props.carritoReducer.subtotal}</span>\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={handleClick}>Continuar</button>\n                                </div>\n                            </div>\n                            <div className=\"col-12 col-md-4 detalleProductos\">\n                                <DetalleProductos data={props.carritoReducer}/>\n                            </div>\n                        </div>\n                        <style jsx>{`\n                            h2{font-size:25px}\n                            button#btn-continuar{\n                                float:right;\n                                margin-top:20px\n                            }\n                            .divTotalMobile{display:none}\n                            @media(max-width:768px){\n                                #btn-continuar{display:none}\n                                .divTotalMobile{\n                                    display:flex;\n                                    justify-content:space-between;\n                                    position: fixed;\n                                    left:0;\n                                    right:0px;\n                                    bottom: 0px;\n                                    background-color: #f7f7f7;\n                                    padding: 16px;\n                                    box-shadow: 0 -2px 8px 2px rgba(0,0,0,.15);\n                                    border-width: 0 1px 1px;\n                                    font-family: 'Quicksand', sans-serif;\n                                } \n                                .detalleProductos{\n                                    display:none\n                                }           \n                            }\n                        `}</style>\n                    </div>\n                </>\n            }\n        </>\n    );\n}\n \nconst mapStateToProps = ({carritoReducer,usuarioReducer})=>{\n    return {\n        carritoReducer,\n        usuarioReducer\n    };\n}\n\nconst mapDispatchToProps = {\n    carritoTraerProductos,\n    verificarSesion\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Checkout);"]},"metadata":{},"sourceType":"module"}