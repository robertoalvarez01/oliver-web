{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport Head from '../../src/components/Head';\nimport React, { useEffect } from 'react';\nimport BannerUsuario from '../../src/components/BannerUsuario';\nimport TabsNav from '../../src/components/Tabs/navs';\nimport FormEditUsuario from '../../src/components/FormEditUsuario';\nimport { TabContent, TabPane, Row, Col } from 'reactstrap';\nimport ProductosUsuario from '../../src/components/ProductosUsuario';\nimport Modal from '../../src/components/Modal/index';\nimport FormModificarFotoUsuario from '../../src/components/FormModificarFotoUsuario';\nimport FormModificarPw from '../../src/components/formModificarPw';\nimport Footer from '../../src/components/Footer/index';\nimport { connect } from \"react-redux\";\nimport * as productosActions from '../../store/actions/productosActions';\nimport * as usuarioActions from '../../store/actions/usuarioActions';\nconst {\n  restablecerFiltros\n} = productosActions;\nconst {\n  traerVentas: traerVentasDelUsuario\n} = usuarioActions;\n\nconst Perfil = props => {\n  const [activeTab, setActiveTab] = React.useState('1');\n  const [modalIsOpen, setModalIsOpen] = React.useState(false);\n  const [renderModalProfile, setRenderModalProfile] = React.useState(false);\n  const [renderModalFormUsuario, setRenderModalFormUsuario] = React.useState(false);\n  const [renderModalPw, setRenderModalPw] = React.useState(false);\n  useEffect(() => {\n    document.getElementsByTagName('body')[0].style.overflowY = \"auto\";\n\n    if (props.productosReducer.filtrando) {\n      props.restablecerFiltros();\n    }\n  }, []);\n  useEffect(() => {\n    const {\n      usuario,\n      logueado\n    } = props.usuarioReducer;\n\n    if (usuario && logueado) {\n      props.traerVentasDelUsuario();\n    }\n  }, [props.usuarioReducer.usuario]);\n\n  const toggle = tab => {\n    if (activeTab !== tab) setActiveTab(tab);\n  };\n\n  const solapas = [{\n    nombre: 'Ãšltimas compras'\n  }];\n\n  const abrirModal = () => {\n    setModalIsOpen(!modalIsOpen);\n  };\n\n  const abrirModalFoto = () => {\n    setRenderModalProfile(true);\n    setRenderModalPw(false);\n    setRenderModalFormUsuario(false);\n    abrirModal();\n  };\n\n  const abrirModalFormUsuario = () => {\n    setRenderModalProfile(false);\n    setRenderModalPw(false);\n    setRenderModalFormUsuario(true);\n    abrirModal();\n  };\n\n  const abrirModalPw = () => {\n    setRenderModalPw(true);\n    setRenderModalProfile(false);\n    setRenderModalFormUsuario(false);\n  };\n\n  const renderContenidoModal = () => {\n    if (renderModalProfile) {\n      return __jsx(FormModificarFotoUsuario, null);\n    }\n\n    if (renderModalPw) {\n      return __jsx(FormModificarPw, null);\n    }\n\n    if (renderModalFormUsuario) {\n      return __jsx(FormEditUsuario, {\n        abrirModalPw: abrirModalPw\n      });\n    }\n  };\n\n  return !props.usuarioReducer.logueado ? __jsx(\"div\", {\n    className: \"alert alert-warning text-center\"\n  }, \"No hay datos para mostrar\") : __jsx(React.Fragment, null, __jsx(Head, {\n    title: \"Oliver Petshop - Mi perfil\"\n  }), __jsx(\"div\", {\n    className: \"jsx-1870445507\" + \" \" + \"container\"\n  }, __jsx(BannerUsuario, {\n    abrirModalFoto: abrirModalFoto,\n    abrirModalUsuario: abrirModalFormUsuario\n  }), __jsx(TabsNav, {\n    toggle: toggle,\n    activeTab: activeTab,\n    solapas: solapas\n  })), __jsx(\"div\", {\n    className: \"jsx-1870445507\" + \" \" + \"container-form\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1870445507\" + \" \" + \"container pt-3\"\n  }, __jsx(TabContent, {\n    activeTab: activeTab\n  }, __jsx(TabPane, {\n    tabId: \"1\",\n    className: \"tab-productos\"\n  }, __jsx(Row, null, __jsx(Col, {\n    sm: \"12\"\n  }, __jsx(ProductosUsuario, null))))))), modalIsOpen ? __jsx(Modal, {\n    closeModal: abrirModal\n  }, renderContenidoModal()) : null, __jsx(Footer, null), __jsx(_JSXStyle, {\n    id: \"1870445507\"\n  }, [\".container-form.jsx-1870445507{background-color:#fff;height:auto;}\", \"@media(min-width:768px){.container-form.jsx-1870445507{height:55vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:calc(100vh - 310px);}}\"]));\n};\n\nconst mapStateToProps = ({\n  productosReducer,\n  usuarioReducer\n}) => {\n  return {\n    productosReducer,\n    usuarioReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  restablecerFiltros,\n  traerVentasDelUsuario\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Perfil);","map":null,"metadata":{},"sourceType":"module"}