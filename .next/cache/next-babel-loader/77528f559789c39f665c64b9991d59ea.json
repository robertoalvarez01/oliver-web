{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Productos/index.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport CardProducto from '../CardProducto';\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport ProductosStyle from './Productos.module.css';\nimport Loader from '../Loader';\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FiltroStyle from '../Filtro/Filtro.module.css';\nimport { isMobile } from '../../../helpers';\nimport NavbarStyle from '../Navbar/Navbar.module.css';\n\nvar Productos = function Productos(props) {\n  _s();\n\n  var filtros = props.filtros;\n\n  var _useState = useState(''),\n      filtro = _useState[0],\n      setFiltro = _useState[1];\n\n  var _useState2 = useState({\n    desde: 0,\n    limiteDesktop: 20,\n    limiteMobile: 10\n  }),\n      rangoProducto = _useState2[0],\n      setRangoProducto = _useState2[1];\n\n  useEffect(function () {\n    if (props.location !== '/productos') {\n      if (props.query.search) {\n        mostrarSolapaFiltro(props.query.search);\n      } else {\n        mostrarSolapaFiltro(props.query.index[0]);\n      }\n    }\n  }, []);\n  useEffect(function () {\n    if (rangoProducto.desde > 0) {\n      props.traerMas(rangoProducto, props.productos);\n    }\n  }, [rangoProducto]);\n  useEffect(function () {\n    getProductos();\n  }, [filtros]);\n\n  var getProductos = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return props.traerProductos(rangoProducto);\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function getProductos() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var cargarMas = function cargarMas() {\n    if (isMobile()) {\n      setRangoProducto(_objectSpread(_objectSpread({}, rangoProducto), {}, {\n        desde: rangoProducto.desde + rangoProducto.limiteMobile\n      }));\n    } else {\n      setRangoProducto(_objectSpread(_objectSpread({}, rangoProducto), {}, {\n        desde: rangoProducto.desde + rangoProducto.limiteDesktop\n      }));\n    }\n  };\n\n  var showFiltrosMobile = function showFiltrosMobile() {\n    if (document.getElementsByClassName(NavbarStyle.menu__collapsed)[0].classList.contains(NavbarStyle.showCollapsed)) {\n      document.getElementsByClassName(NavbarStyle.menu__collapsed)[0].classList.remove(NavbarStyle.showCollapsed);\n    }\n\n    document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\n  };\n\n  var mostrarSolapaFiltro = function mostrarSolapaFiltro(filtro) {\n    setFiltro(filtro);\n  };\n\n  var handleChangeOrdenProductos = function handleChangeOrdenProductos(event) {\n    if (event.target.value === 'asc') {\n      props.productos.sort(function (a, b) {\n        if (a.precioUnidad > b.precioUnidad) return 1;\n        if (a.precioUnidad < b.precioUnidad) return -1;\n        return 0;\n      });\n    } else {\n      props.productos.sort(function (a, b) {\n        if (a.precioUnidad < b.precioUnidad) return 1;\n        if (a.precioUnidad > b.precioUnidad) return -1;\n        return 0;\n      });\n    }\n\n    ;\n    return props.ordenarProductos(props.productos);\n  }; //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\n\n\n  if (props.location == '/productos' && filtro != '') {\n    setFiltro('');\n  }\n\n  var handleScrollFeedProductos = function handleScrollFeedProductos(event) {\n    var feedProductos = document.querySelector('.feedProductos');\n    var botonCargarMas = document.querySelector('.btn-vermas');\n    var alturaTotalFeed = feedProductos.scrollHeight;\n    var alturaActual = feedProductos.scrollTop;\n    var porcentajeSuficiente = alturaTotalFeed * 80 / 100;\n\n    if (isMobile()) {\n      porcentajeSuficiente = alturaTotalFeed * 70 / 100;\n    } else {\n      if (alturaTotalFeed == 2060) {\n        porcentajeSuficiente = alturaTotalFeed * 65 / 100;\n      }\n\n      ;\n    }\n\n    if (botonCargarMas) {\n      if (alturaActual >= porcentajeSuficiente) {\n        return botonCargarMas.classList.remove('d-none');\n      } else {\n        return botonCargarMas.classList.add('d-none');\n      }\n    }\n  };\n\n  var renderBotonCargarMas = function renderBotonCargarMas() {\n    var minimoPosteos = 20;\n\n    if (isMobile()) {\n      minimoPosteos = 10;\n    }\n\n    if (props.productos && props.productos.length >= minimoPosteos) {\n      return __jsx(\"button\", {\n        className: \"boton bg-yellow btn-vermas d-none\",\n        onClick: cargarMas,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 20\n        }\n      }, props.loading_mas ? 'Obteniendo productos...' : 'Cargar m√°s');\n    }\n  };\n\n  return __jsx(React.Fragment, null, props.loading || !props.productos ? __jsx(\"div\", {\n    className: \"jsx-2778668712\" + \" \" + \"col-12 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 50\n    }\n  }, __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 86\n    }\n  })) : __jsx(React.Fragment, null, filtro !== '' ? __jsx(\"span\", {\n    id: \"label__filtro-busqueda\",\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.label__filtro_busqueda || \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }), __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.item_filtro_busqueda || \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    id: \"valor-busqueda\",\n    className: \"jsx-2778668712\" + \" \" + \"text-mutedd\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, filtro))) : null, __jsx(\"div\", {\n    style: {\n      padding: '0px 15px'\n    },\n    className: \"jsx-2778668712\" + \" \" + \"row justify-content-between my-2 align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + \"text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    className: \"jsx-2778668712\" + \" \" + \"txt-yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 50\n    }\n  }, props.productos.length), \" productos encontrados\"), __jsx(\"div\", {\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.ordenarProductos + ' ' + \"d-flex align-items-center\" || \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + \"txt-yellow text-bold mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"Ordenar por: \"), __jsx(\"select\", {\n    onChange: handleChangeOrdenProductos,\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.select_ordenar || \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    value: \"desc\",\n    className: \"jsx-2778668712\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, \"Mayor precio\"), __jsx(\"option\", {\n    value: \"asc\",\n    className: \"jsx-2778668712\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, \"Menor precio\"))), __jsx(\"button\", {\n    onClick: showFiltrosMobile,\n    className: \"jsx-2778668712\" + \" \" + (\"boton bg-yellow mt-3 d-none\" + ' ' + ProductosStyle.boton_filtrar_mobile || \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Filtrar\")), __jsx(\"div\", {\n    onScroll: handleScrollFeedProductos,\n    className: \"jsx-2778668712\" + \" \" + \"row feedProductos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, !props.productos ? null : props.productos.map(function (prd) {\n    return __jsx(\"div\", {\n      key: prd.idProducto,\n      className: \"jsx-2778668712\" + \" \" + \"col-6 col-md-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }, __jsx(CardProducto, {\n      imagen: prd.foto,\n      prd: prd,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 33\n      }\n    }));\n  })), renderBotonCargarMas()), __jsx(_JSXStyle, {\n    id: \"2778668712\",\n    __self: _this\n  }, \".feedProductos.jsx-2778668712{height:75vh;overflow-y:scroll;}.btn-vermas.jsx-2778668712{position:relative;top:12px;}.feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:5px;}.feedProductos.jsx-2778668712::-webkit-scrollbar-thumb{background:#FFB347;border-radius:4px;}.feedProductos.jsx-2778668712::-webkit-scrollbar-thumb.jsx-2778668712:hover{background:#b3b3b3;box-shadow:0 0 2px 1px rgba(0,0,0,0.2);}@media(max-width:768px){.feedProductos.jsx-2778668712{height:65vh;overflow-y:scroll;}.feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:10px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvUHJvZHVjdG9zL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVLd0IsQUFHZ0MsQUFJTSxBQUlQLEFBS1MsQUFJQSxBQUtKLEFBSUQsVUFoQm5CLEFBa0JJLEVBM0JrQixBQXNCSSxNQWpCMUIsQ0FRdUIsQUFJd0IsRUFSOUMsQ0FrQkksS0F0QkosR0FKQSxBQXNCSSxPQVRKLHFCQUlBIiwiZmlsZSI6Ii9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvUHJvZHVjdG9zL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZFByb2R1Y3RvIGZyb20gJy4uL0NhcmRQcm9kdWN0byc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAqIGFzIHByb2R1Y3Rvc0FjdGlvbnMgZnJvbSAnLi4vLi4vLi4vc3RvcmUvYWN0aW9ucy9wcm9kdWN0b3NBY3Rpb25zJztcbmltcG9ydCBQcm9kdWN0b3NTdHlsZSBmcm9tICcuL1Byb2R1Y3Rvcy5tb2R1bGUuY3NzJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vTG9hZGVyJztcbmltcG9ydCB7IGZhU2VhcmNoIH0gZnJvbSBcIkBmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29uc1wiO1xuaW1wb3J0IHsgRm9udEF3ZXNvbWVJY29uIH0gZnJvbSBcIkBmb3J0YXdlc29tZS9yZWFjdC1mb250YXdlc29tZVwiO1xuaW1wb3J0IEZpbHRyb1N0eWxlIGZyb20gJy4uL0ZpbHRyby9GaWx0cm8ubW9kdWxlLmNzcyc7XG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMnO1xuaW1wb3J0IE5hdmJhclN0eWxlIGZyb20gJy4uL05hdmJhci9OYXZiYXIubW9kdWxlLmNzcyc7XG5cbmNvbnN0IFByb2R1Y3RvcyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHtmaWx0cm9zfSA9IHByb3BzO1xuICAgIGNvbnN0IFtmaWx0cm8sIHNldEZpbHRyb10gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW3JhbmdvUHJvZHVjdG8sIHNldFJhbmdvUHJvZHVjdG9dID0gdXNlU3RhdGUoe1xuICAgICAgICBkZXNkZTowLFxuICAgICAgICBsaW1pdGVEZXNrdG9wOjIwLFxuICAgICAgICBsaW1pdGVNb2JpbGU6MTBcbiAgICB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmKHByb3BzLmxvY2F0aW9uICE9PSAnL3Byb2R1Y3Rvcycpe1xuICAgICAgICAgICAgaWYocHJvcHMucXVlcnkuc2VhcmNoKXtcbiAgICAgICAgICAgICAgICBtb3N0cmFyU29sYXBhRmlsdHJvKHByb3BzLnF1ZXJ5LnNlYXJjaCk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBtb3N0cmFyU29sYXBhRmlsdHJvKHByb3BzLnF1ZXJ5LmluZGV4WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmKHJhbmdvUHJvZHVjdG8uZGVzZGU+MCl7XG4gICAgICAgICAgICBwcm9wcy50cmFlck1hcyhyYW5nb1Byb2R1Y3RvLHByb3BzLnByb2R1Y3Rvcyk7XG4gICAgICAgIH1cbiAgICB9LCBbcmFuZ29Qcm9kdWN0b10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZ2V0UHJvZHVjdG9zKCk7XG4gICAgfSwgW2ZpbHRyb3NdKVxuXG4gICAgY29uc3QgZ2V0UHJvZHVjdG9zID0gYXN5bmMgKCk9PntcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHByb3BzLnRyYWVyUHJvZHVjdG9zKHJhbmdvUHJvZHVjdG8pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2FyZ2FyTWFzID0gKCk9PntcbiAgICAgICAgaWYoaXNNb2JpbGUoKSl7XG4gICAgICAgICAgICBzZXRSYW5nb1Byb2R1Y3RvKHtcbiAgICAgICAgICAgICAgICAuLi5yYW5nb1Byb2R1Y3RvLFxuICAgICAgICAgICAgICAgIGRlc2RlOiByYW5nb1Byb2R1Y3RvLmRlc2RlICsgcmFuZ29Qcm9kdWN0by5saW1pdGVNb2JpbGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHNldFJhbmdvUHJvZHVjdG8oe1xuICAgICAgICAgICAgICAgIC4uLnJhbmdvUHJvZHVjdG8sXG4gICAgICAgICAgICAgICAgZGVzZGU6IHJhbmdvUHJvZHVjdG8uZGVzZGUgKyByYW5nb1Byb2R1Y3RvLmxpbWl0ZURlc2t0b3BcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzaG93RmlsdHJvc01vYmlsZSA9ICgpPT57XG4gICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTmF2YmFyU3R5bGUubWVudV9fY29sbGFwc2VkKVswXS5jbGFzc0xpc3QuY29udGFpbnMoTmF2YmFyU3R5bGUuc2hvd0NvbGxhcHNlZCkpe1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShOYXZiYXJTdHlsZS5tZW51X19jb2xsYXBzZWQpWzBdLmNsYXNzTGlzdC5yZW1vdmUoTmF2YmFyU3R5bGUuc2hvd0NvbGxhcHNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnRmlsdHJvX2ZpbHRyb3NfX2NvbnRhbmllcl9fM2tuWGYnKVswXS5jbGFzc0xpc3QuYWRkKEZpbHRyb1N0eWxlLnNob3dfZmlsdHJvcyk7XG4gICAgfVxuXG4gICAgXG4gICAgY29uc3QgbW9zdHJhclNvbGFwYUZpbHRybyA9IGZpbHRybz0+e1xuICAgICAgICBzZXRGaWx0cm8oZmlsdHJvKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVDaGFuZ2VPcmRlblByb2R1Y3RvcyA9IGV2ZW50PT57XG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ2FzYycpe1xuICAgICAgICAgICAgcHJvcHMucHJvZHVjdG9zLnNvcnQoKGEsYik9PntcbiAgICAgICAgICAgICAgICBpZihhLnByZWNpb1VuaWRhZCA+IGIucHJlY2lvVW5pZGFkKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZihhLnByZWNpb1VuaWRhZCA8IGIucHJlY2lvVW5pZGFkKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHByb3BzLnByb2R1Y3Rvcy5zb3J0KChhLGIpPT57XG4gICAgICAgICAgICAgICAgaWYoYS5wcmVjaW9VbmlkYWQgPCBiLnByZWNpb1VuaWRhZCkgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYoYS5wcmVjaW9VbmlkYWQgPiBiLnByZWNpb1VuaWRhZCkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9yZGVuYXJQcm9kdWN0b3MocHJvcHMucHJvZHVjdG9zKTtcbiAgICB9XG4gICAgXG4gICAgLy9vY3VsdGFyIGxhIGNoYXBpdGEgcXVlIGluZGljYSBlbCBub21icmUgZGVsIGZpbHRybyBhY3Rpdm8gY3VhbmRvIHNlIHJlc3RhYmxlY2VuIGxvcyBmaWx0cm9zLlxuICAgIGlmKHByb3BzLmxvY2F0aW9uPT0nL3Byb2R1Y3RvcycgJiYgZmlsdHJvIT0nJyl7XG4gICAgICAgIHNldEZpbHRybygnJyk7XG4gICAgfVxuXG5cbiAgICBjb25zdCBoYW5kbGVTY3JvbGxGZWVkUHJvZHVjdG9zID0gZXZlbnQ9PntcbiAgICAgICAgbGV0IGZlZWRQcm9kdWN0b3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVlZFByb2R1Y3RvcycpO1xuICAgICAgICBsZXQgYm90b25DYXJnYXJNYXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXZlcm1hcycpO1xuICAgICAgICBsZXQgYWx0dXJhVG90YWxGZWVkID0gZmVlZFByb2R1Y3Rvcy5zY3JvbGxIZWlnaHQ7XG4gICAgICAgIGxldCBhbHR1cmFBY3R1YWwgPSBmZWVkUHJvZHVjdG9zLnNjcm9sbFRvcDtcbiAgICAgICAgbGV0IHBvcmNlbnRhamVTdWZpY2llbnRlID0gKGFsdHVyYVRvdGFsRmVlZCAqIDgwKSAvIDEwMDtcbiAgICAgICAgaWYoaXNNb2JpbGUoKSl7XG4gICAgICAgICAgICBwb3JjZW50YWplU3VmaWNpZW50ZSA9IChhbHR1cmFUb3RhbEZlZWQgKiA3MCkgLyAxMDA7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYoYWx0dXJhVG90YWxGZWVkID09IDIwNjApe1xuICAgICAgICAgICAgICAgIHBvcmNlbnRhamVTdWZpY2llbnRlID0gKGFsdHVyYVRvdGFsRmVlZCAqIDY1KSAvIDEwMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYoYm90b25DYXJnYXJNYXMpe1xuICAgICAgICAgICAgaWYoYWx0dXJhQWN0dWFsPj1wb3JjZW50YWplU3VmaWNpZW50ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdG9uQ2FyZ2FyTWFzLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdG9uQ2FyZ2FyTWFzLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyQm90b25DYXJnYXJNYXMgPSAoKT0+e1xuICAgICAgICBsZXQgbWluaW1vUG9zdGVvcyA9IDIwO1xuICAgICAgICBpZihpc01vYmlsZSgpKXtcbiAgICAgICAgICAgIG1pbmltb1Bvc3Rlb3MgPSAxMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHByb3BzLnByb2R1Y3RvcyAmJiBwcm9wcy5wcm9kdWN0b3MubGVuZ3RoPj1taW5pbW9Qb3N0ZW9zKXtcbiAgICAgICAgICAgIHJldHVybiA8YnV0dG9uIGNsYXNzTmFtZT1cImJvdG9uIGJnLXllbGxvdyBidG4tdmVybWFzIGQtbm9uZVwiIG9uQ2xpY2s9e2Nhcmdhck1hc30+eyhwcm9wcy5sb2FkaW5nX21hcyk/J09idGVuaWVuZG8gcHJvZHVjdG9zLi4uJzonQ2FyZ2FyIG3DoXMnfTwvYnV0dG9uPlxuICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIHsocHJvcHMubG9hZGluZyB8fCAhcHJvcHMucHJvZHVjdG9zKT88ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiB0ZXh0LWNlbnRlclwiPjxMb2FkZXIvPjwvZGl2PjpcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgeyhmaWx0cm8hPT0nJyk/XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwibGFiZWxfX2ZpbHRyby1idXNxdWVkYVwiIGNsYXNzTmFtZT17UHJvZHVjdG9zU3R5bGUubGFiZWxfX2ZpbHRyb19idXNxdWVkYX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9udEF3ZXNvbWVJY29uIGljb249e2ZhU2VhcmNofS8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1Byb2R1Y3Rvc1N0eWxlLml0ZW1fZmlsdHJvX2J1c3F1ZWRhfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkZFwiIGlkPVwidmFsb3ItYnVzcXVlZGFcIj57ZmlsdHJvfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDpudWxsfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG15LTIgYWxpZ24taXRlbXMtY2VudGVyXCIgc3R5bGU9e3twYWRkaW5nOicwcHggMTVweCd9fT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPjxiIGNsYXNzTmFtZT1cInR4dC15ZWxsb3dcIj57cHJvcHMucHJvZHVjdG9zLmxlbmd0aH08L2I+IHByb2R1Y3RvcyBlbmNvbnRyYWRvczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1Byb2R1Y3Rvc1N0eWxlLm9yZGVuYXJQcm9kdWN0b3MgKyAnICcgKyBgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcmB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHh0LXllbGxvdyB0ZXh0LWJvbGQgbXItMlwiPk9yZGVuYXIgcG9yOiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT17UHJvZHVjdG9zU3R5bGUuc2VsZWN0X29yZGVuYXJ9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2VPcmRlblByb2R1Y3Rvc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRlc2NcIj5NYXlvciBwcmVjaW88L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXNjXCI+TWVub3IgcHJlY2lvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17c2hvd0ZpbHRyb3NNb2JpbGV9IGNsYXNzTmFtZT17YGJvdG9uIGJnLXllbGxvdyBtdC0zIGQtbm9uZWAgKyAnICcgKyBQcm9kdWN0b3NTdHlsZS5ib3Rvbl9maWx0cmFyX21vYmlsZX0+RmlsdHJhcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGZlZWRQcm9kdWN0b3NcIiBvblNjcm9sbD17aGFuZGxlU2Nyb2xsRmVlZFByb2R1Y3Rvc30+XG4gICAgICAgICAgICAgICAgICAgIHshcHJvcHMucHJvZHVjdG9zID8gbnVsbCA6XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5wcm9kdWN0b3MubWFwKHByZD0+KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtwcmQuaWRQcm9kdWN0b30gY2xhc3NOYW1lPVwiY29sLTYgY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRQcm9kdWN0byBpbWFnZW49e3ByZC5mb3RvfSBwcmQ9e3ByZH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtyZW5kZXJCb3RvbkNhcmdhck1hcygpfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgLmZlZWRQcm9kdWN0b3N7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDo3NXZoO1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OnNjcm9sbDtcbiAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgIC5idG4tdmVybWFze1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgdG9wOjEycHhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLmZlZWRQcm9kdWN0b3M6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDhweDsgICAgIC8qIFRhbWHDsW8gZGVsIHNjcm9sbCBlbiB2ZXJ0aWNhbCAqL1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6NXB4XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLmZlZWRQcm9kdWN0b3M6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI0ZGQjM0NztcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAuZmVlZFByb2R1Y3Rvczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYjNiM2IzO1xuICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEBtZWRpYShtYXgtd2lkdGg6NzY4cHgpe1xuICAgICAgICAgICAgICAgICAgICAuZmVlZFByb2R1Y3Rvc3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDo2NXZoO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3cteTpzY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIC5mZWVkUHJvZHVjdG9zOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogOHB4OyAgICAgLyogVGFtYcOxbyBkZWwgc2Nyb2xsIGVuIHZlcnRpY2FsICovXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6MTBweFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDwvPlxuICAgICk7XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHJlZHVjZXJzPT57XG4gICAgcmV0dXJuIHJlZHVjZXJzLnByb2R1Y3Rvc1JlZHVjZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLHByb2R1Y3Rvc0FjdGlvbnMpKFByb2R1Y3Rvcyk7Il19 */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Productos/index.js */\"));\n};\n\n_s(Productos, \"5zE5fokLurq+X8oORQormggyXHg=\");\n\n_c = Productos;\n\nvar mapStateToProps = function mapStateToProps(reducers) {\n  return reducers.productosReducer;\n};\n\nexport default connect(mapStateToProps, productosActions)(Productos);\n\nvar _c;\n\n$RefreshReg$(_c, \"Productos\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Productos/index.js"],"names":["React","useState","useEffect","CardProducto","connect","productosActions","ProductosStyle","Loader","faSearch","FontAwesomeIcon","FiltroStyle","isMobile","NavbarStyle","Productos","props","filtros","filtro","setFiltro","desde","limiteDesktop","limiteMobile","rangoProducto","setRangoProducto","location","query","search","mostrarSolapaFiltro","index","traerMas","productos","getProductos","traerProductos","console","log","cargarMas","showFiltrosMobile","document","getElementsByClassName","menu__collapsed","classList","contains","showCollapsed","remove","add","show_filtros","handleChangeOrdenProductos","event","target","value","sort","a","b","precioUnidad","ordenarProductos","handleScrollFeedProductos","feedProductos","querySelector","botonCargarMas","alturaTotalFeed","scrollHeight","alturaActual","scrollTop","porcentajeSuficiente","renderBotonCargarMas","minimoPosteos","length","loading_mas","loading","label__filtro_busqueda","item_filtro_busqueda","padding","select_ordenar","boton_filtrar_mobile","map","prd","idProducto","foto","mapStateToProps","reducers","productosReducer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CardProducto from '../CardProducto';\nimport {connect} from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport ProductosStyle from './Productos.module.css';\nimport Loader from '../Loader';\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FiltroStyle from '../Filtro/Filtro.module.css';\nimport { isMobile } from '../../../helpers';\nimport NavbarStyle from '../Navbar/Navbar.module.css';\n\nconst Productos = (props) => {\n    const {filtros} = props;\n    const [filtro, setFiltro] = useState('');\n    const [rangoProducto, setRangoProducto] = useState({\n        desde:0,\n        limiteDesktop:20,\n        limiteMobile:10\n    });\n\n    useEffect(() => {\n        if(props.location !== '/productos'){\n            if(props.query.search){\n                mostrarSolapaFiltro(props.query.search);\n            }else{\n                mostrarSolapaFiltro(props.query.index[0]);\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        if(rangoProducto.desde>0){\n            props.traerMas(rangoProducto,props.productos);\n        }\n    }, [rangoProducto]);\n\n    useEffect(() => {\n        getProductos();\n    }, [filtros])\n\n    const getProductos = async ()=>{\n        try {\n            await props.traerProductos(rangoProducto);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    const cargarMas = ()=>{\n        if(isMobile()){\n            setRangoProducto({\n                ...rangoProducto,\n                desde: rangoProducto.desde + rangoProducto.limiteMobile,\n            })\n        }else{\n            setRangoProducto({\n                ...rangoProducto,\n                desde: rangoProducto.desde + rangoProducto.limiteDesktop\n            })\n        }\n    }\n\n    const showFiltrosMobile = ()=>{\n        if(document.getElementsByClassName(NavbarStyle.menu__collapsed)[0].classList.contains(NavbarStyle.showCollapsed)){\n            document.getElementsByClassName(NavbarStyle.menu__collapsed)[0].classList.remove(NavbarStyle.showCollapsed);\n        }\n        document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\n    }\n\n    \n    const mostrarSolapaFiltro = filtro=>{\n        setFiltro(filtro);\n    }\n\n    const handleChangeOrdenProductos = event=>{\n        if(event.target.value === 'asc'){\n            props.productos.sort((a,b)=>{\n                if(a.precioUnidad > b.precioUnidad) return 1;\n                if(a.precioUnidad < b.precioUnidad) return -1;\n                return 0;\n            })\n        }else{\n            props.productos.sort((a,b)=>{\n                if(a.precioUnidad < b.precioUnidad) return 1;\n                if(a.precioUnidad > b.precioUnidad) return -1;\n                return 0;\n            })\n        };\n        return props.ordenarProductos(props.productos);\n    }\n    \n    //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\n    if(props.location=='/productos' && filtro!=''){\n        setFiltro('');\n    }\n\n\n    const handleScrollFeedProductos = event=>{\n        let feedProductos = document.querySelector('.feedProductos');\n        let botonCargarMas = document.querySelector('.btn-vermas');\n        let alturaTotalFeed = feedProductos.scrollHeight;\n        let alturaActual = feedProductos.scrollTop;\n        let porcentajeSuficiente = (alturaTotalFeed * 80) / 100;\n        if(isMobile()){\n            porcentajeSuficiente = (alturaTotalFeed * 70) / 100;\n        }else{\n            if(alturaTotalFeed == 2060){\n                porcentajeSuficiente = (alturaTotalFeed * 65) / 100;\n            };\n        }\n        if(botonCargarMas){\n            if(alturaActual>=porcentajeSuficiente){\n                return botonCargarMas.classList.remove('d-none');\n            }else{\n                return botonCargarMas.classList.add('d-none');\n            }\n        }\n    }\n\n    const renderBotonCargarMas = ()=>{\n        let minimoPosteos = 20;\n        if(isMobile()){\n            minimoPosteos = 10;\n        }\n\n        if(props.productos && props.productos.length>=minimoPosteos){\n            return <button className=\"boton bg-yellow btn-vermas d-none\" onClick={cargarMas}>{(props.loading_mas)?'Obteniendo productos...':'Cargar m√°s'}</button>\n        }\n                \n    }\n\n    return (\n        <>\n            {(props.loading || !props.productos)?<div className=\"col-12 text-center\"><Loader/></div>:\n            <>\n                {(filtro!=='')?\n                    <span id=\"label__filtro-busqueda\" className={ProductosStyle.label__filtro_busqueda}>\n                        <FontAwesomeIcon icon={faSearch}/>\n                        <span className={ProductosStyle.item_filtro_busqueda}>\n                            <span className=\"text-mutedd\" id=\"valor-busqueda\">{filtro}</span>\n                        </span>\n                    </span>\n                :null}\n                <div className=\"row justify-content-between my-2 align-items-center\" style={{padding:'0px 15px'}}>\n                    <span className=\"text-muted\"><b className=\"txt-yellow\">{props.productos.length}</b> productos encontrados</span>\n                    <div className={ProductosStyle.ordenarProductos + ' ' + `d-flex align-items-center`}>\n                        <span className=\"txt-yellow text-bold mr-2\">Ordenar por: </span>\n                        <select className={ProductosStyle.select_ordenar} onChange={handleChangeOrdenProductos}>\n                            <option value=\"desc\">Mayor precio</option>\n                            <option value=\"asc\">Menor precio</option>\n                        </select>\n                    </div>\n                    <button onClick={showFiltrosMobile} className={`boton bg-yellow mt-3 d-none` + ' ' + ProductosStyle.boton_filtrar_mobile}>Filtrar</button>\n                </div>\n                <div className=\"row feedProductos\" onScroll={handleScrollFeedProductos}>\n                    {!props.productos ? null :\n                        props.productos.map(prd=>(\n                            <div key={prd.idProducto} className=\"col-6 col-md-3\">\n                                <CardProducto imagen={prd.foto} prd={prd}/>\n                            </div>\n                        ))\n                    }\n                </div>\n                {renderBotonCargarMas()}\n            </>\n            }\n            <style jsx>{`\n                .feedProductos{\n                    height:75vh;\n                    overflow-y:scroll;\n                }    \n                .btn-vermas{\n                    position:relative;\n                    top:12px\n                }\n                .feedProductos::-webkit-scrollbar {\n                    width: 8px;     /* Tama√±o del scroll en vertical */\n                    height:5px\n                }\n\n                .feedProductos::-webkit-scrollbar-thumb {\n                    background: #FFB347;\n                    border-radius: 4px;\n                }\n                .feedProductos::-webkit-scrollbar-thumb:hover {\n                    background: #b3b3b3;\n                    box-shadow: 0 0 2px 1px rgba(0, 0, 0, 0.2);\n                }\n                @media(max-width:768px){\n                    .feedProductos{\n                        height:65vh;\n                        overflow-y:scroll;\n                    } \n                    .feedProductos::-webkit-scrollbar {\n                        width: 8px;     /* Tama√±o del scroll en vertical */\n                        height:10px\n                    }\n                }\n            `}\n            </style>\n        </>\n    );\n}\n\nconst mapStateToProps = reducers=>{\n    return reducers.productosReducer;\n}\n\nexport default connect(mapStateToProps,productosActions)(Productos);"]},"metadata":{},"sourceType":"module"}