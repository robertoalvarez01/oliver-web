{"ast":null,"code":"import { API } from '../../config/index';\nimport { TRAER_ZONAS, SELECCIONAR, LOADING, ERROR } from '../types/zonasTypes';\nexport const traerTodas = () => async dispatch => {\n  dispatch({\n    type: LOADING\n  });\n\n  try {\n    const dataUser = JSON.parse(localStorage.getItem('oliverpetshop_usuario'));\n    let myHeaders = new Headers();\n    myHeaders.append(\"token\", dataUser.token);\n    const zonasApi = await fetch(`${API}/zonas`, {\n      headers: myHeaders\n    });\n    const dataZonas = await zonasApi.json();\n    console.log(dataZonas);\n    dispatch({\n      type: TRAER_ZONAS,\n      payload: dataZonas\n    });\n  } catch (error) {\n    dispatch({\n      type: ERROR,\n      payload: error\n    });\n  }\n};\nexport const seleccionar = id => (dispatch, getState) => {\n  const {\n    zonas\n  } = getState().zonas;\n  let zona = zonas.filter(z => z.idZona == id);\n\n  if (!zona.length) {\n    dispatch({\n      type: ERROR,\n      payload: 'No se encontro la zona'\n    });\n    return;\n  }\n\n  zona = zona[0];\n  dispatch({\n    type: SELECCIONAR,\n    payload: zona\n  });\n};","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/store/actions/zonasActions.js"],"names":["API","TRAER_ZONAS","SELECCIONAR","LOADING","ERROR","traerTodas","dispatch","type","dataUser","JSON","parse","localStorage","getItem","myHeaders","Headers","append","token","zonasApi","fetch","headers","dataZonas","json","console","log","payload","error","seleccionar","id","getState","zonas","zona","filter","z","idZona","length"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,oBAAlB;AACA,SAAQC,WAAR,EAAoBC,WAApB,EAAgCC,OAAhC,EAAwCC,KAAxC,QAAoD,qBAApD;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAI,MAAOC,QAAP,IAAkB;AAC5CA,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAACJ;AADA,GAAD,CAAR;;AAGA,MAAI;AACA,UAAMK,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,uBAArB,CAAX,CAAjB;AACA,QAAIC,SAAS,GAAG,IAAIC,OAAJ,EAAhB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,OAAjB,EAA0BP,QAAQ,CAACQ,KAAnC;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAElB,GAAI,QAAR,EAAgB;AAACmB,MAAAA,OAAO,EAACN;AAAT,KAAhB,CAA5B;AACA,UAAMO,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAd,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACN,WADA;AAELuB,MAAAA,OAAO,EAACJ;AAFH,KAAD,CAAR;AAIH,GAXD,CAWE,OAAOK,KAAP,EAAc;AACZnB,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACH,KADA;AAELoB,MAAAA,OAAO,EAACC;AAFH,KAAD,CAAR;AAIH;AACJ,CArBM;AAuBP,OAAO,MAAMC,WAAW,GAAGC,EAAE,IAAG,CAACrB,QAAD,EAAUsB,QAAV,KAAqB;AACjD,QAAM;AAACC,IAAAA;AAAD,MAAUD,QAAQ,GAAGC,KAA3B;AACA,MAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaC,CAAC,IAAEA,CAAC,CAACC,MAAF,IAAYN,EAA5B,CAAX;;AACA,MAAG,CAACG,IAAI,CAACI,MAAT,EAAgB;AACZ5B,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACH,KADA;AAELoB,MAAAA,OAAO,EAAC;AAFH,KAAD,CAAR;AAIA;AACH;;AACDM,EAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACAxB,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAACL,WADA;AAELsB,IAAAA,OAAO,EAACM;AAFH,GAAD,CAAR;AAIH,CAfM","sourcesContent":["import {API} from '../../config/index';\nimport {TRAER_ZONAS,SELECCIONAR,LOADING,ERROR} from '../types/zonasTypes';\n\nexport const traerTodas = ()=>async (dispatch)=>{\n    dispatch({\n        type:LOADING\n    });\n    try {\n        const dataUser = JSON.parse(localStorage.getItem('oliverpetshop_usuario'));\n        let myHeaders = new Headers();\n        myHeaders.append(\"token\", dataUser.token);\n        const zonasApi = await fetch(`${API}/zonas`,{headers:myHeaders});\n        const dataZonas = await zonasApi.json();\n        console.log(dataZonas);\n        dispatch({\n            type:TRAER_ZONAS,\n            payload:dataZonas\n        });\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const seleccionar = id =>(dispatch,getState)=>{\n    const {zonas} = getState().zonas;\n    let zona = zonas.filter(z=>z.idZona == id);\n    if(!zona.length){\n        dispatch({\n            type:ERROR,\n            payload:'No se encontro la zona'\n        });\n        return;\n    }\n    zona = zona[0];\n    dispatch({\n        type:SELECCIONAR,\n        payload:zona\n    })\n}"]},"metadata":{},"sourceType":"module"}