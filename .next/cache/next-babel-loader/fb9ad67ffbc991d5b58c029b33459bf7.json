{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { API } from '../../../config';\nimport Loader from '../Loader/index';\n\nvar Swal = require('sweetalert2');\n\nvar FormContacto = function FormContacto() {\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var headers, guardarEmail;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (email.trim() === '') {\n                setError('Completa el email');\n              }\n\n              setError(null);\n              setLoading(true);\n              headers = new Headers();\n              headers.append(\"Content-Type\", \"application/json\");\n              _context.next = 8;\n              return fetch(\"\".concat(API, \"/usuario-oferta\"), {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                  email: email\n                })\n              });\n\n            case 8:\n              guardarEmail = _context.sent;\n              setLoading(false);\n              setEmail('');\n\n              if (!(guardarEmail.status !== 200)) {\n                _context.next = 14;\n                break;\n              }\n\n              Swal.fire('Upss...', 'Ha ocurrido un error en la operación, intentalo más tarde.', 'error');\n              return _context.abrupt(\"return\");\n\n            case 14:\n              Swal.fire('Listo!', 'Tu email se ha registrado y cuando tengamos novedades importantes te estaremos avisando!', 'success');\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"section\", {\n    className: \"jsx-1182123659\" + \" \" + \"contacto__ofertas\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1182123659\" + \" \" + \"container\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-1182123659\" + \" \" + \"form-group my-0\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1182123659\" + \" \" + \"row align-items-center my-0 mx-0\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1182123659\" + \" \" + \"col-12 col-md-4 my-2\"\n  }, __jsx(\"h3\", {\n    className: \"jsx-1182123659\" + \" \" + \"txt-yellow\"\n  }, \"Quiero recibir ofertas!\")), __jsx(\"div\", {\n    className: \"jsx-1182123659\" + \" \" + \"col-12 col-md-6 my-2\"\n  }, __jsx(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"Email\",\n    required: true,\n    className: \"jsx-1182123659\" + \" \" + \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"jsx-1182123659\" + \" \" + \"col-12 col-md-2 my-2\"\n  }, loading ? __jsx(Loader, null) : __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-1182123659\" + \" \" + \"boton bg-outline-yellow\"\n  }, \"Recibir ofertas\"))))), __jsx(_JSXStyle, {\n    id: \"1182123659\"\n  }, [\".contacto__ofertas.jsx-1182123659{background-color:white;padding:25px;}\", \".contacto__ofertas.jsx-1182123659 form.jsx-1182123659 input.jsx-1182123659{width:100%;background:0 0;border:none;box-shadow:none;border-bottom:1px solid #FFB347;padding-left:0;}\", \"@media(max-width:379px){.contacto__ofertas.jsx-1182123659 form.jsx-1182123659 h3.jsx-1182123659{text-align:center;font-size:25px !important;}}\"]));\n};\n\nexport default FormContacto;","map":null,"metadata":{},"sourceType":"module"}