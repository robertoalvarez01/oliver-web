{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Productos/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport CardProducto from '../CardProducto';\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport ProductosStyle from './Productos.module.css';\nimport Loader from '../Loader';\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FiltroStyle from '../Filtro/Filtro.module.css';\n\nvar Productos = function Productos(props) {\n  _s();\n\n  var _useState = useState(''),\n      filtro = _useState[0],\n      setFiltro = _useState[1];\n\n  useEffect(function () {\n    if (props.location !== '/productos') {\n      if (props.query.search) {\n        mostrarSolapaFiltro(props.query.search);\n      } else {\n        mostrarSolapaFiltro(props.query.index[0]);\n      }\n    } else {\n      getProductos();\n    }\n  }, []);\n\n  var showFiltrosMobile = function showFiltrosMobile() {\n    document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\n  };\n\n  var getProductos = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return props.traerTodos();\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 5]]);\n    }));\n\n    return function getProductos() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var mostrarSolapaFiltro = function mostrarSolapaFiltro(filtro) {\n    setFiltro(filtro);\n  };\n\n  var handleChangeOrdenProductos = function handleChangeOrdenProductos(event) {\n    if (event.target.value === 'asc') {\n      props.productos.sort(function (a, b) {\n        if (a.precioUnidad > b.precioUnidad) return 1;\n        if (a.precioUnidad < b.precioUnidad) return -1;\n        return 0;\n      });\n    } else {\n      props.productos.sort(function (a, b) {\n        if (a.precioUnidad < b.precioUnidad) return 1;\n        if (a.precioUnidad > b.precioUnidad) return -1;\n        return 0;\n      });\n    }\n\n    ;\n    return props.ordenarProductos(props.productos);\n  }; //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\n\n\n  if (props.location == '/productos' && filtro != '') {\n    setFiltro('');\n  }\n\n  return __jsx(React.Fragment, null, props.loading || !props.productos ? __jsx(\"div\", {\n    className: \"col-12 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 50\n    }\n  }, __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 86\n    }\n  })) : __jsx(React.Fragment, null, filtro !== '' ? __jsx(\"span\", {\n    id: \"label__filtro-busqueda\",\n    className: ProductosStyle.label__filtro_busqueda,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }), __jsx(\"span\", {\n    className: ProductosStyle.item_filtro_busqueda,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: \"text-mutedd\",\n    id: \"valor-busqueda\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, filtro))) : null, __jsx(\"div\", {\n    className: \"row justify-content-between my-2 align-items-center\",\n    style: {\n      padding: '0px 15px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    className: \"txt-yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 50\n    }\n  }, props.productos.length), \" productos encontrados\"), __jsx(\"div\", {\n    className: ProductosStyle.ordenarProductos + ' ' + \"d-flex align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"txt-yellow text-bold mr-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"Ordenar por: \"), __jsx(\"select\", {\n    className: ProductosStyle.select_ordenar,\n    onChange: handleChangeOrdenProductos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    value: \"desc\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, \"Mayor precio\"), __jsx(\"option\", {\n    value: \"asc\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, \"Menor precio\"))), __jsx(\"button\", {\n    onClick: showFiltrosMobile,\n    className: \"boton bg-yellow mt-3 d-none\" + ' ' + ProductosStyle.boton_filtrar_mobile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"Filtrar\")), __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, !props.productos ? null : props.productos.map(function (prd) {\n    return __jsx(\"div\", {\n      key: prd.idProducto,\n      className: \"col-6 col-md-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, __jsx(CardProducto, {\n      imagen: prd.foto,\n      prd: prd,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }));\n  })), __jsx(\"button\", {\n    className: \"boton bg-yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Cargar m\\xE1s\")));\n};\n\n_s(Productos, \"xLZZVrrsJBMjglyN+0tBHrGORIk=\");\n\n_c = Productos;\n\nvar mapStateToProps = function mapStateToProps(reducers) {\n  return reducers.productosReducer;\n};\n\nexport default connect(mapStateToProps, productosActions)(Productos);\n\nvar _c;\n\n$RefreshReg$(_c, \"Productos\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Productos/index.js"],"names":["React","useState","useEffect","CardProducto","connect","productosActions","ProductosStyle","Loader","faSearch","FontAwesomeIcon","FiltroStyle","Productos","props","filtro","setFiltro","location","query","search","mostrarSolapaFiltro","index","getProductos","showFiltrosMobile","document","getElementsByClassName","classList","add","show_filtros","traerTodos","console","log","handleChangeOrdenProductos","event","target","value","productos","sort","a","b","precioUnidad","ordenarProductos","loading","label__filtro_busqueda","item_filtro_busqueda","padding","length","select_ordenar","boton_filtrar_mobile","map","prd","idProducto","foto","mapStateToProps","reducers","productosReducer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CardProducto from '../CardProducto';\nimport {connect} from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport ProductosStyle from './Productos.module.css';\nimport Loader from '../Loader';\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FiltroStyle from '../Filtro/Filtro.module.css';\n\nconst Productos = (props) => {\n\n    const [filtro, setFiltro] = useState('');\n\n    useEffect(() => {\n        if(props.location !== '/productos'){\n            if(props.query.search){\n                mostrarSolapaFiltro(props.query.search);\n            }else{\n                mostrarSolapaFiltro(props.query.index[0]);\n            }\n        }else{\n            getProductos();\n        }\n    }, []);\n\n    const showFiltrosMobile = ()=>{\n        document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\n    }\n\n    const getProductos = async ()=>{\n        try {\n            await props.traerTodos();\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    \n    const mostrarSolapaFiltro = filtro=>{\n        setFiltro(filtro);\n    }\n\n    const handleChangeOrdenProductos = event=>{\n        if(event.target.value === 'asc'){\n            props.productos.sort((a,b)=>{\n                if(a.precioUnidad > b.precioUnidad) return 1;\n                if(a.precioUnidad < b.precioUnidad) return -1;\n                return 0;\n            })\n        }else{\n            props.productos.sort((a,b)=>{\n                if(a.precioUnidad < b.precioUnidad) return 1;\n                if(a.precioUnidad > b.precioUnidad) return -1;\n                return 0;\n            })\n        };\n        return props.ordenarProductos(props.productos);\n    }\n    \n    //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\n    if(props.location=='/productos' && filtro!=''){\n        setFiltro('');\n    }\n    return (\n        <>\n            {(props.loading || !props.productos)?<div className=\"col-12 text-center\"><Loader/></div>:\n            <>\n                {(filtro!=='')?\n                    <span id=\"label__filtro-busqueda\" className={ProductosStyle.label__filtro_busqueda}>\n                        <FontAwesomeIcon icon={faSearch}/>\n                        <span className={ProductosStyle.item_filtro_busqueda}>\n                            <span className=\"text-mutedd\" id=\"valor-busqueda\">{filtro}</span>\n                        </span>\n                    </span>\n                :null}\n                <div className=\"row justify-content-between my-2 align-items-center\" style={{padding:'0px 15px'}}>\n                    <span className=\"text-muted\"><b className=\"txt-yellow\">{props.productos.length}</b> productos encontrados</span>\n                    <div className={ProductosStyle.ordenarProductos + ' ' + `d-flex align-items-center`}>\n                        <span className=\"txt-yellow text-bold mr-2\">Ordenar por: </span>\n                        <select className={ProductosStyle.select_ordenar} onChange={handleChangeOrdenProductos}>\n                            <option value=\"desc\">Mayor precio</option>\n                            <option value=\"asc\">Menor precio</option>\n                        </select>\n                    </div>\n                    <button onClick={showFiltrosMobile} className={`boton bg-yellow mt-3 d-none` + ' ' + ProductosStyle.boton_filtrar_mobile}>Filtrar</button>\n                </div>\n                <div className=\"row\">\n                    {!props.productos ? null :\n                        props.productos.map(prd=>(\n                            <div key={prd.idProducto} className=\"col-6 col-md-3\">\n                                <CardProducto imagen={prd.foto} prd={prd}/>\n                            </div>\n                        ))\n                    }\n                </div>\n                <button className=\"boton bg-yellow\">Cargar más</button>\n            </>\n            }\n        </>\n    );\n}\n\nconst mapStateToProps = reducers=>{\n    return reducers.productosReducer;\n}\n\nexport default connect(mapStateToProps,productosActions)(Productos);"]},"metadata":{},"sourceType":"module"}