{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\franc\\\\Documents\\\\oliver-2\\\\oliver-sitio\\\\src\\\\components\\\\Filtro\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport { faTimes, faBroom, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as subproductosActions from '../../../store/actions/subproductosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\nvar marcasTraerTodas = marcasActions.traerTodas;\nvar subproductosFiltrarProductos = subproductosActions.filtrarProductos,\n    subproductosTraerTodos = subproductosActions.traerTodos;\nvar categoriasTraerTodas = categoriasActions.traerTodas;\nvar subcategoriaTraerTodas = subcategoriasActions.traerTodas;\n\nvar Filtro = function Filtro(props) {\n  _s();\n\n  //state for the filters\n  var _useState = useState({\n    filtrando: false,\n    categoria: '',\n    subcategoria: '',\n    marca: '',\n    buscador: ''\n  }),\n      estadoFiltro = _useState[0],\n      setEstadoFiltro = _useState[1]; //manejo de Modal marcas\n\n\n  var _useState2 = useState(false),\n      modalIsOpen = _useState2[0],\n      setModalIsOpen = _useState2[1];\n\n  var onCloseModal = function onCloseModal() {\n    document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n    setModalIsOpen(false);\n  }; //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(props.marcasReducer.marcas.length === 0)) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return props.marcasTraerTodas();\n\n            case 3:\n              if (!(props.categoriasReducer.categorias.length === 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return props.categoriasTraerTodas();\n\n            case 6:\n              if (!(props.subcategoriaReducer.subcategorias.length === 0)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return props.subcategoriaTraerTodas();\n\n            case 9:\n              if (props.location !== '/productos') {\n                activarFiltroPorUrl();\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n\n\n  useEffect(function () {\n    switchItemActive();\n  }, [estadoFiltro]);\n\n  var activarFiltroPorUrl = function activarFiltroPorUrl() {\n    return activarFiltro(props.query.type, props.query.index[1]);\n  };\n\n  var activarFiltro = function activarFiltro(tipoFiltro, nameItem) {\n    switch (tipoFiltro) {\n      case 'categoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          categoria: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'subcategoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          subcategoria: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'marca':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          marca: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'buscador':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          buscador: nameItem,\n          filtrando: true\n        }));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var switchItemActive = function switchItemActive() {\n    // console.log(estadoFiltro);\n    for (var index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\n      var element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\n      element.classList.remove(FiltroStyle.active);\n      document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\n    }\n\n    ;\n    if (!estadoFiltro.filtrando) return; //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\n\n    if (estadoFiltro.buscador.trim() === '') {\n      //recorro el state para obtener las claves y agregar active el elemento correspondiente\n      for (var key in estadoFiltro) {\n        if (estadoFiltro[key] && estadoFiltro[key] !== '' && estadoFiltro[key] !== true) {\n          //console.log(key);\n          //console.log(estadoFiltro[key]);\n          if (document.getElementsByName(\"\".concat(key, \"-\").concat(estadoFiltro[key]))[0]) {\n            //pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\n            document.getElementsByName(\"\".concat(key, \"-\").concat(estadoFiltro[key]))[0].classList.add(FiltroStyle.active);\n            document.getElementById(\"close-\".concat(key, \"-\").concat(estadoFiltro[key])).classList.remove('d-none');\n          } else {\n            if (estadoFiltro.marca !== '') {\n              //creo los elementos del item\n              var newItemMarca = document.createElement('li');\n              var divItemMarca = document.createElement('div');\n              var spanItemMarca = document.createElement('span');\n              var iconClose = document.createElement('svg'); //asigno las clases, atributos y eventos necesarios.\n\n              divItemMarca.className = \"\".concat(FiltroStyle.item_filtro, \" \").concat(FiltroStyle.active);\n              divItemMarca.setAttribute('name', \"marca-\".concat(estadoFiltro.marca));\n              divItemMarca.addEventListener('click', function () {\n                return activarFiltro('marca', estadoFiltro.marca);\n              });\n              spanItemMarca.className = 'text-muted';\n              spanItemMarca.innerHTML = estadoFiltro.marca;\n              iconClose.innerHTML = \"\\n                                <svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"times\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewbox=\\\"0 0 352 512\\\" class=\\\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\\\" id=\\\"close-marca-\".concat(estadoFiltro.marca, \"\\\">\\n                                    <path fill=\\\"currentColor\\\" d=\\\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\\\"></path>\\n                                </svg>\\n                            \"); //voy ubicando los elementos dentro de cada padre\n\n              divItemMarca.appendChild(spanItemMarca);\n              newItemMarca.appendChild(divItemMarca);\n              newItemMarca.appendChild(iconClose); //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n\n              if (document.querySelector(\"#listaMarca\")) {\n                var firstItemMarca = document.querySelector(\"#listaMarca\").children[0];\n                var listaMarcas = document.querySelector(\"#listaMarca\");\n                listaMarcas.removeChild(firstItemMarca); //ahora agrego el item creado a la lista\n\n                listaMarcas.appendChild(newItemMarca);\n              }\n\n              ;\n            }\n\n            ;\n          }\n        }\n      }\n    } //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\n\n\n    if (estadoFiltro.filtrando) {\n      var urlFiltro = armarUrlFiltro(); //armo la url que mando a la api para traer los resultados de lo filtrado.\n\n      props.subproductosFiltrarProductos(urlFiltro);\n    }\n\n    ;\n  };\n\n  var limpiarFiltro = function limpiarFiltro(tipo) {\n    switch (tipo) {\n      case 'categoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          categoria: ''\n        }));\n        break;\n\n      case 'subcategoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          subcategoria: ''\n        }));\n        break;\n\n      case 'marca':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          marca: ''\n        }));\n        break;\n\n      default:\n        props.subproductosTraerTodos();\n        setEstadoFiltro({\n          filtrando: false,\n          categoria: '',\n          subcategoria: '',\n          marca: '',\n          buscador: ''\n        });\n        break;\n    }\n  };\n\n  var closeFiltrosMobile = function closeFiltrosMobile() {\n    document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n  };\n\n  var armarUrlFiltro = function armarUrlFiltro() {\n    var url = 'filtrar'; //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n\n    if (estadoFiltro.buscador !== '') return url += \"?buscar=\".concat(estadoFiltro.buscador);\n    var categoria = estadoFiltro.categoria,\n        subcategoria = estadoFiltro.subcategoria,\n        marca = estadoFiltro.marca;\n\n    if (categoria && categoria !== '') {\n      url += \"?categoria=\".concat(estadoFiltro.categoria);\n    }\n\n    if (estadoFiltro.subcategoria && estadoFiltro.subcategoria !== '') {\n      if (categoria !== '') {\n        url += \"&subcategoria=\".concat(estadoFiltro.subcategoria);\n      } else {\n        url += \"?subcategoria=\".concat(estadoFiltro.subcategoria);\n      }\n    }\n\n    if (marca && marca !== '') {\n      if (categoria !== '' && subcategoria !== '') {\n        url += \"?marca=\".concat(estadoFiltro.marca);\n      } else {\n        url += \"&marca=\".concat(estadoFiltro.marca);\n      }\n    }\n\n    return url;\n  };\n\n  var showFiltros = function showFiltros() {\n    var element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n    element.classList.toggle(FiltroStyle.show);\n    document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n  };\n\n  return __jsx(\"div\", {\n    className: FiltroStyle.filtros__contanier,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: FiltroStyle.btn_close_filtro,\n    onClick: showFiltros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }, __jsx(FontAwesomeIcon, {\n    id: \"iconFiltroContainer\",\n    icon: faChevronRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, props.categoriasReducer.categorias.length == 0 || props.subcategoriaReducer.subcategorias.length == 0 || props.marcasReducer.marcas.length == 0 ? __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 158\n    }\n  }) : __jsx(React.Fragment, null, estadoFiltro.filtrando ? __jsx(\"button\", {\n    className: \"boton bg-yellow mb-3\",\n    onClick: limpiarFiltro,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 51\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBroom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }), \" Limpiar Filtros\") : null, __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.cerrar_filtro_mobile,\n    onClick: closeFiltrosMobile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 25\n    }\n  }), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 25\n    }\n  }, \"Mascota\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 25\n    }\n  }, props.categoriasReducer.categorias.map(function (cat) {\n    return __jsx(\"li\", {\n      key: cat.idCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: \"categoria-\".concat(cat.idCategoria),\n      onClick: function onClick() {\n        return activarFiltro('categoria', \"\".concat(cat.idCategoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 45\n      }\n    }, cat.categoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('categoria');\n      },\n      id: \"close-categoria-\".concat(cat.idCategoria),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 25\n    }\n  }, \"Alimentos\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 25\n    }\n  }, props.subcategoriaReducer.subcategorias.map(function (sc) {\n    return __jsx(\"li\", {\n      key: sc.idSubCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: \"subcategoria-\".concat(sc.idSubCategoria),\n      onClick: function onClick() {\n        return activarFiltro('subcategoria', \"\".concat(sc.idSubCategoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 45\n      }\n    }, sc.subcategoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('subcategoria');\n      },\n      id: \"close-\".concat(\"subcategoria-\".concat(sc.idSubCategoria)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 25\n    }\n  }, \"Marca\"), __jsx(\"ul\", {\n    id: \"listaMarca\",\n    className: FiltroStyle.sinBorderBottom + ' ' + FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 25\n    }\n  }, props.marcasReducer.marcas.map(function (marca, key) {\n    return key > 3 ? false : __jsx(\"li\", {\n      key: marca.idMarca,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: \"marca-\".concat(marca.idMarca),\n      onClick: function onClick() {\n        return activarFiltro('marca', \"\".concat(marca.idMarca));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 45\n      }\n    }, marca.marca)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('marca');\n      },\n      id: \"close-marca-\".concat(marca.idMarca),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"button\", {\n    onClick: function onClick() {\n      return setModalIsOpen(true);\n    },\n    className: \"boton bg-gris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 25\n    }\n  }, \"Ver todas\"))), !modalIsOpen ? null : __jsx(Modal, {\n    closeModal: onCloseModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }\n  }, __jsx(ModalMarca, {\n    closeModal: onCloseModal,\n    activarFiltro: activarFiltro,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(Filtro, \"FGwg+kw4/nn04NGxJOyVJ2tOKB0=\");\n\n_c = Filtro;\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var marcasReducer = _ref2.marcasReducer,\n      subproductosReducer = _ref2.subproductosReducer,\n      categoriasReducer = _ref2.categoriasReducer,\n      subcategoriaReducer = _ref2.subcategoriaReducer;\n  return {\n    marcasReducer: marcasReducer,\n    subproductosReducer: subproductosReducer,\n    categoriasReducer: categoriasReducer,\n    subcategoriaReducer: subcategoriaReducer\n  };\n};\n\nvar mapDispatchToProps = {\n  marcasTraerTodas: marcasTraerTodas,\n  subproductosFiltrarProductos: subproductosFiltrarProductos,\n  subproductosTraerTodos: subproductosTraerTodos,\n  categoriasTraerTodas: categoriasTraerTodas,\n  subcategoriaTraerTodas: subcategoriaTraerTodas\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filtro);\n\nvar _c;\n\n$RefreshReg$(_c, \"Filtro\");","map":{"version":3,"sources":["C:/Users/franc/Documents/oliver-2/oliver-sitio/src/components/Filtro/index.js"],"names":["React","useState","useEffect","FiltroStyle","Modal","ModalMarca","faTimes","faBroom","faChevronRight","FontAwesomeIcon","connect","subproductosActions","marcasActions","categoriasActions","subcategoriasActions","Loader","marcasTraerTodas","traerTodas","subproductosFiltrarProductos","filtrarProductos","subproductosTraerTodos","traerTodos","categoriasTraerTodas","subcategoriaTraerTodas","Filtro","props","filtrando","categoria","subcategoria","marca","buscador","estadoFiltro","setEstadoFiltro","modalIsOpen","setModalIsOpen","onCloseModal","document","getElementsByTagName","style","overflowY","getData","marcasReducer","marcas","length","categoriasReducer","categorias","subcategoriaReducer","subcategorias","location","activarFiltroPorUrl","switchItemActive","activarFiltro","query","type","index","tipoFiltro","nameItem","getElementsByClassName","item_filtro","element","classList","remove","active","icon_close_filtro","add","trim","key","getElementsByName","getElementById","newItemMarca","createElement","divItemMarca","spanItemMarca","iconClose","className","setAttribute","addEventListener","innerHTML","appendChild","querySelector","firstItemMarca","children","listaMarcas","removeChild","urlFiltro","armarUrlFiltro","limpiarFiltro","tipo","closeFiltrosMobile","filtros__contanier","show_filtros","url","showFiltros","toggle","show","rotar","btn_close_filtro","cerrar_filtro_mobile","titulo_filtros","lista","map","cat","idCategoria","sc","idSubCategoria","sinBorderBottom","idMarca","mapStateToProps","subproductosReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport FiltroStyle from './Filtro.module.css';\r\nimport Modal from '../Modal';\r\nimport ModalMarca from '../ModalMarca';\r\nimport { faTimes,faBroom,faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { connect } from 'react-redux';\r\nimport * as subproductosActions from '../../../store/actions/subproductosActions';\r\nimport * as marcasActions from '../../../store/actions/marcasActions';\r\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\r\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\r\nimport Loader from '../Loader';\r\n\r\nconst {traerTodas:marcasTraerTodas} = marcasActions;\r\nconst {filtrarProductos:subproductosFiltrarProductos,traerTodos:subproductosTraerTodos} = subproductosActions;\r\nconst {traerTodas:categoriasTraerTodas} = categoriasActions;\r\nconst {traerTodas:subcategoriaTraerTodas} = subcategoriasActions;\r\n\r\nconst Filtro = (props) => {\r\n\r\n    //state for the filters\r\n    const [estadoFiltro, setEstadoFiltro] = useState({\r\n        filtrando:false,\r\n        categoria:'',\r\n        subcategoria:'',\r\n        marca:'',\r\n        buscador:''\r\n    });\r\n\r\n    //manejo de Modal marcas\r\n    const [modalIsOpen, setModalIsOpen] = useState(false);\r\n    const onCloseModal = ()=>{\r\n        document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\r\n        setModalIsOpen(false);\r\n    }\r\n\r\n    //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\r\n    useEffect(() => {\r\n        getData();\r\n    },[]);\r\n        \r\n    const getData = async()=>{\r\n        if(props.marcasReducer.marcas.length===0){\r\n            await props.marcasTraerTodas();\r\n        }\r\n        if(props.categoriasReducer.categorias.length===0){\r\n            await props.categoriasTraerTodas();\r\n        }\r\n        if(props.subcategoriaReducer.subcategorias.length===0){\r\n            await props.subcategoriaTraerTodas();\r\n        }\r\n        if(props.location !== '/productos'){\r\n            activarFiltroPorUrl();\r\n        }\r\n    }\r\n\r\n    //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\r\n    useEffect(() => {\r\n        switchItemActive();\r\n    }, [estadoFiltro]);\r\n\r\n    const activarFiltroPorUrl = ()=>{\r\n        return activarFiltro(props.query.type,props.query.index[1]);\r\n    }\r\n\r\n    const activarFiltro = (tipoFiltro,nameItem)=>{\r\n        switch (tipoFiltro) {\r\n            case 'categoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    categoria:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                });\r\n                break;\r\n            case 'subcategoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    subcategoria:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                })\r\n                break;\r\n            case 'marca':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    marca:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                })\r\n                break;\r\n            case 'buscador':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    buscador:nameItem,\r\n                    filtrando:true\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const switchItemActive = ()=>{\r\n        // console.log(estadoFiltro);\r\n\r\n        for (let index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\r\n            const element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\r\n            element.classList.remove(FiltroStyle.active);\r\n            document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\r\n        };\r\n        if(!estadoFiltro.filtrando) return;\r\n        //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\r\n        if(estadoFiltro.buscador.trim()===''){\r\n            //recorro el state para obtener las claves y agregar active el elemento correspondiente\r\n            for (const key in estadoFiltro) {\r\n                if(estadoFiltro[key] && estadoFiltro[key]!=='' && estadoFiltro[key]!==true){\r\n                    //console.log(key);\r\n                    //console.log(estadoFiltro[key]);\r\n                    if(document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0]){//pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\r\n                        document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0].classList.add(FiltroStyle.active);\r\n                        document.getElementById(`close-${key}-${estadoFiltro[key]}`).classList.remove('d-none');\r\n                    }else{\r\n                        if(estadoFiltro.marca!==''){\r\n                            //creo los elementos del item\r\n                            let newItemMarca = document.createElement('li');\r\n                            let divItemMarca = document.createElement('div');\r\n                            let spanItemMarca = document.createElement('span');\r\n                            let iconClose = document.createElement('svg');\r\n        \r\n                            //asigno las clases, atributos y eventos necesarios.\r\n                            divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\r\n                            divItemMarca.setAttribute('name',`marca-${estadoFiltro.marca}`);\r\n                            divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\r\n                            spanItemMarca.className = 'text-muted';\r\n                            spanItemMarca.innerHTML = estadoFiltro.marca;\r\n    \r\n                            iconClose.innerHTML = `\r\n                                <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 352 512\" class=\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\" id=\"close-marca-${estadoFiltro.marca}\">\r\n                                    <path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\r\n                                </svg>\r\n                            `;\r\n\r\n                            //voy ubicando los elementos dentro de cada padre\r\n                            divItemMarca.appendChild(spanItemMarca);\r\n                            newItemMarca.appendChild(divItemMarca);\r\n                            newItemMarca.appendChild(iconClose);\r\n                            \r\n                            //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\r\n                            if(document.querySelector(`#listaMarca`)){\r\n                                let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\r\n                                let listaMarcas = document.querySelector(`#listaMarca`);\r\n                                listaMarcas.removeChild(firstItemMarca);\r\n                                //ahora agrego el item creado a la lista\r\n                                listaMarcas.appendChild(newItemMarca);\r\n                            };\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\r\n        if(estadoFiltro.filtrando){\r\n            let urlFiltro = armarUrlFiltro();//armo la url que mando a la api para traer los resultados de lo filtrado.\r\n            props.subproductosFiltrarProductos(urlFiltro);\r\n        };\r\n        \r\n    }\r\n\r\n    const limpiarFiltro = tipo=>{\r\n        switch (tipo) {\r\n            case 'categoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    categoria:''\r\n                });\r\n                break;\r\n            case 'subcategoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    subcategoria:''\r\n                });\r\n                break;\r\n            case 'marca':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    marca:''\r\n                });\r\n                break;\r\n            default:\r\n                props.subproductosTraerTodos();\r\n                setEstadoFiltro({\r\n                    filtrando:false,\r\n                    categoria:'',\r\n                    subcategoria:'',\r\n                    marca:'',\r\n                    buscador:''\r\n                });\r\n            break;\r\n        }\r\n    }\r\n\r\n    const closeFiltrosMobile = ()=>{\r\n        document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\r\n    }\r\n\r\n    const armarUrlFiltro = ()=>{\r\n        let url = 'filtrar';\r\n        //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\r\n        if(estadoFiltro.buscador!=='') return url += `?buscar=${estadoFiltro.buscador}`;\r\n\r\n        let categoria = estadoFiltro.categoria,\r\n            subcategoria = estadoFiltro.subcategoria,\r\n            marca = estadoFiltro.marca;\r\n        \r\n        if(categoria && categoria !== ''){\r\n            url += `?categoria=${estadoFiltro.categoria}`;\r\n        }\r\n        if(estadoFiltro.subcategoria && estadoFiltro.subcategoria !== ''){\r\n            if(categoria!== ''){\r\n                url += `&subcategoria=${estadoFiltro.subcategoria}`; \r\n            }else{\r\n                url += `?subcategoria=${estadoFiltro.subcategoria}`;\r\n            }\r\n        }\r\n        if(marca && marca !== ''){\r\n            if(categoria !== '' && subcategoria !== ''){\r\n                url += `?marca=${estadoFiltro.marca}`;\r\n            }else{\r\n                url += `&marca=${estadoFiltro.marca}`;\r\n            }\r\n        }\r\n        return url;\r\n    }\r\n\r\n    const showFiltros = ()=>{\r\n        let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\r\n        element.classList.toggle(FiltroStyle.show);\r\n        document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\r\n    }\r\n\r\n    return (\r\n        <div className={FiltroStyle.filtros__contanier}>\r\n            <button className={FiltroStyle.btn_close_filtro} onClick={showFiltros}>\r\n                <FontAwesomeIcon id=\"iconFiltroContainer\" icon={faChevronRight}/>\r\n            </button>\r\n            <div>\r\n                {(props.categoriasReducer.categorias.length==0 || props.subcategoriaReducer.subcategorias.length==0 || props.marcasReducer.marcas.length==0)?<Loader/>:\r\n                    <>  \r\n                        {(estadoFiltro.filtrando)?<button className=\"boton bg-yellow mb-3\" onClick={limpiarFiltro}>\r\n                            <FontAwesomeIcon icon={faBroom}/> Limpiar Filtros\r\n                        </button>:null}\r\n                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.cerrar_filtro_mobile} onClick={closeFiltrosMobile}/>\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Mascota</h4>\r\n                        <ul className={FiltroStyle.lista}>\r\n                            {\r\n                                props.categoriasReducer.categorias.map(cat=>(\r\n                                    <li key={cat.idCategoria}>\r\n                                        <div className={FiltroStyle.item_filtro} name={`categoria-${cat.idCategoria}`} onClick={()=>activarFiltro('categoria',`${cat.idCategoria}`)}>\r\n                                            <span className=\"text-muted\">{cat.categoria}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('categoria')} id={`close-categoria-${cat.idCategoria}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n\r\n\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Alimentos</h4>\r\n                        <ul className={FiltroStyle.lista}>\r\n                            {\r\n                                props.subcategoriaReducer.subcategorias.map(sc=>(\r\n                                    <li key={sc.idSubCategoria}>\r\n                                        <div className={FiltroStyle.item_filtro} name={`subcategoria-${sc.idSubCategoria}`} onClick={()=>activarFiltro('subcategoria',`${sc.idSubCategoria}`)}>\r\n                                            <span className=\"text-muted\">{sc.subcategoria}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('subcategoria')} id={`close-${`subcategoria-${sc.idSubCategoria}`}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Marca</h4>\r\n                        <ul id=\"listaMarca\" className={FiltroStyle.sinBorderBottom+ ' ' + FiltroStyle.lista}>\r\n                            {\r\n                                props.marcasReducer.marcas.map((marca,key)=>(\r\n                                    (key>3)?false:\r\n                                    <li key={marca.idMarca}>\r\n                                        <div className={FiltroStyle.item_filtro} name={`marca-${marca.idMarca}`} onClick={()=>activarFiltro('marca',`${marca.idMarca}`)}>\r\n                                            <span className=\"text-muted\">{marca.marca}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('marca')} id={`close-marca-${marca.idMarca}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                        <button onClick={()=>setModalIsOpen(true)} className=\"boton bg-gris\">Ver todas</button>\r\n                    </>\r\n                }\r\n            </div>\r\n            {(!modalIsOpen)?null:\r\n                <Modal closeModal={onCloseModal}>\r\n                    <ModalMarca closeModal={onCloseModal} activarFiltro={activarFiltro}/>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({marcasReducer,subproductosReducer,categoriasReducer,subcategoriaReducer})=>{\r\n    return {\r\n        marcasReducer,\r\n        subproductosReducer,\r\n        categoriasReducer,\r\n        subcategoriaReducer\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    marcasTraerTodas,\r\n    subproductosFiltrarProductos,\r\n    subproductosTraerTodos,\r\n    categoriasTraerTodas,\r\n    subcategoriaTraerTodas\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Filtro);"]},"metadata":{},"sourceType":"module"}