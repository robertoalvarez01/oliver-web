{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport CardUbicacion from '../../src/components/CardUbicacion/index';\nimport OpcionesEnvio from '../../src/components/OpcionesEnvio';\nimport ZonaEnvio from '../../src/components/ZonaEnvio';\nimport Head from '../../src/components/Head';\nimport DetalleProductos from '../../src/components/DetalleProductos';\nimport Error from '../../src/components/Error';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../store/actions/carritoActions';\nimport * as usuarioActions from '../../store/actions/usuarioActions';\nimport { API } from '../../config/index';\nimport Loader from '../../src/components/Loader/index';\nconst {\n  traerProductos: carritoTraerProductos\n} = carritoActions;\nconst {\n  verificarSesion\n} = usuarioActions;\n\nconst Checkout = props => {\n  const {\n    0: tipoEnvio,\n    1: setTipoEnvio\n  } = useState({\n    normal: true,\n    express: false,\n    local: false\n  });\n  const {\n    0: zonaEnvio,\n    1: setZonaEnvio\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    props.carritoTraerProductos();\n  }, []);\n\n  const cambiarTipoDeEnvio = tipoDeEnvio => {\n    if (tipoDeEnvio === 'normal') {\n      return setTipoEnvio({\n        normal: true,\n        express: false,\n        local: false\n      });\n    }\n\n    if (tipoDeEnvio === 'express') {\n      return setTipoEnvio({\n        normal: false,\n        express: true,\n        local: false\n      });\n    }\n\n    return setTipoEnvio({\n      normal: false,\n      express: false,\n      local: true\n    });\n  };\n\n  const insertarZonaDeEnvio = zona => {\n    setZonaEnvio(zona);\n  };\n\n  const handleClick = () => {\n    if (!props.usuarioReducer.usuario.address || props.usuarioReducer.usuario.address === '') return setError('Es obligatorio completar tu ubicación.');\n    if (zonaEnvio === '') return setError('Es obligatorio completar la zona de envío.');\n    setLoading(true);\n    let tipoDeEnvioActivo;\n\n    if (tipoEnvio.local) {\n      tipoDeEnvioActivo = 'Local';\n    }\n\n    ;\n\n    if (tipoEnvio.normal) {\n      tipoDeEnvioActivo = 'Domicilio';\n    }\n\n    if (tipoEnvio.express) {\n      tipoDeEnvioActivo = 'Express';\n    }\n\n    let data = {\n      envio: {\n        tipo: tipoDeEnvioActivo,\n        idZona: zonaEnvio\n      },\n      venta: {}\n    }; // fetch(`${API}/mercadopago`,{\n    //     method:'POST'\n    // }).then(res=>res.json()).then(datamp=>{\n    //     const {response} = datamp.info;\n    //     setLoading(false);\n    //     window.location.assign(response.init_point);\n    // })\n\n    console.log(data);\n  };\n\n  return !props.usuarioReducer.logueado ? __jsx(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 42\n    }\n  }, __jsx(Error, {\n    message: \"No puedes realizar una compra sin tener una sesi\\xF3n activa.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 64\n    }\n  })) : __jsx(React.Fragment, null, props.carritoReducer.productos.length === 0 ? __jsx(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 58\n    }\n  }, __jsx(Error, {\n    message: \"No hay productos para finalizar la compra.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 80\n    }\n  })) : __jsx(React.Fragment, null, loading ? __jsx(\"div\", {\n    className: \"container-loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 32\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 66\n    }\n  })) : null, __jsx(Head, {\n    title: \"Oliver Pet Shop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"container mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"col-12 col-md-8 pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, __jsx(\"h2\", {\n    className: \"jsx-1473839781\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, \"\\xDAltimos pasos para terminar tu compra\"), error ? __jsx(Error, {\n    message: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 42\n    }\n  }) : null, __jsx(CardUbicacion, {\n    dataUser: props.usuarioReducer.usuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }), __jsx(ZonaEnvio, {\n    setZonaEnvio: insertarZonaDeEnvio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 33\n    }\n  }), __jsx(\"h2\", {\n    className: \"jsx-1473839781\" + \" \" + \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, \"Opciones de env\\xEDo\"), __jsx(OpcionesEnvio, {\n    tipoEnvio: tipoEnvio,\n    cambiarTipoDeEnvio: cambiarTipoDeEnvio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    id: \"btn-continuar\",\n    className: \"jsx-1473839781\" + \" \" + \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Continuar\"), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"divTotalMobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, __jsx(\"span\", {\n    id: \"total\",\n    className: \"jsx-1473839781\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 37\n    }\n  }, \"$\", props.carritoReducer.subtotal), __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleClick,\n    className: \"jsx-1473839781\" + \" \" + \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 37\n    }\n  }, \"Continuar\"))), __jsx(\"div\", {\n    className: \"jsx-1473839781\" + \" \" + \"col-12 col-md-4 detalleProductos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, __jsx(DetalleProductos, {\n    data: props.carritoReducer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"1473839781\",\n    __self: this\n  }, \"h2.jsx-1473839781{font-size:25px;}button#btn-continuar.jsx-1473839781{float:right;margin-top:20px;}.divTotalMobile.jsx-1473839781{display:none;}@media(max-width:768px){#btn-continuar.jsx-1473839781{display:none;}.divTotalMobile.jsx-1473839781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:fixed;left:0;right:0px;bottom:0px;background-color:#f7f7f7;padding:16px;box-shadow:0 -2px 8px 2px rgba(0,0,0,.15);border-width:0 1px 1px;font-family:'Quicksand',sans-serif;}.detalleProductos.jsx-1473839781{display:none;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvcGFnZXMvY2hlY2tvdXQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0dvQyxBQUU0QyxBQUVBLEFBR1csQUFFRyxBQUVULEFBY2pCLFlBbkJKLENBQzRCLEFBRUcsQUFnQjFCLEVBdkJZLGFBSWhCLDhDQU1xQyxtSEFDZCxlQUNULE9BQ0csVUFDRSxXQUNjLHlCQUNaLGFBQzZCLDBDQUNuQix1QkFDYSxtQ0FDeEMiLCJmaWxlIjoiL2hvbWUvZnJhbmNvL2Rlc2Fycm9sbG8vcHJveWVjdG9fb2xpdmVyL29saXZlci13ZWItbmV4dC9wYWdlcy9jaGVja291dC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZFViaWNhY2lvbiBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9DYXJkVWJpY2FjaW9uL2luZGV4JzsgXG5pbXBvcnQgT3BjaW9uZXNFbnZpbyBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9PcGNpb25lc0VudmlvJztcbmltcG9ydCBab25hRW52aW8gZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvWm9uYUVudmlvJztcbmltcG9ydCBIZWFkIGZyb20gJy4uLy4uL3NyYy9jb21wb25lbnRzL0hlYWQnO1xuaW1wb3J0IERldGFsbGVQcm9kdWN0b3MgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvRGV0YWxsZVByb2R1Y3Rvcyc7XG5pbXBvcnQgRXJyb3IgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvRXJyb3InO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAqIGFzIGNhcnJpdG9BY3Rpb25zIGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMvY2Fycml0b0FjdGlvbnMnO1xuaW1wb3J0ICogYXMgdXN1YXJpb0FjdGlvbnMgZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy91c3VhcmlvQWN0aW9ucyc7XG5pbXBvcnQge0FQSX0gZnJvbSAnLi4vLi4vY29uZmlnL2luZGV4JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudHMvTG9hZGVyL2luZGV4JztcblxuY29uc3Qge3RyYWVyUHJvZHVjdG9zOmNhcnJpdG9UcmFlclByb2R1Y3Rvc30gPSBjYXJyaXRvQWN0aW9ucztcbmNvbnN0IHt2ZXJpZmljYXJTZXNpb259ID0gdXN1YXJpb0FjdGlvbnM7XG5cbmNvbnN0IENoZWNrb3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgW3RpcG9FbnZpbywgc2V0VGlwb0VudmlvXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgbm9ybWFsOnRydWUsXG4gICAgICAgIGV4cHJlc3M6ZmFsc2UsXG4gICAgICAgIGxvY2FsOmZhbHNlXG4gICAgfSk7XG5cbiAgICBjb25zdCBbem9uYUVudmlvLCBzZXRab25hRW52aW9dID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHByb3BzLmNhcnJpdG9UcmFlclByb2R1Y3RvcygpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGNhbWJpYXJUaXBvRGVFbnZpbyA9IHRpcG9EZUVudmlvPT57XG4gICAgICAgIGlmKHRpcG9EZUVudmlvPT09J25vcm1hbCcpe1xuICAgICAgICAgICAgcmV0dXJuIHNldFRpcG9FbnZpbyh7XG4gICAgICAgICAgICAgICAgbm9ybWFsOnRydWUsXG4gICAgICAgICAgICAgICAgZXhwcmVzczpmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDpmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZih0aXBvRGVFbnZpbz09PSdleHByZXNzJyl7XG4gICAgICAgICAgICByZXR1cm4gc2V0VGlwb0VudmlvKHtcbiAgICAgICAgICAgICAgICBub3JtYWw6ZmFsc2UsXG4gICAgICAgICAgICAgICAgZXhwcmVzczp0cnVlLFxuICAgICAgICAgICAgICAgIGxvY2FsOmZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRUaXBvRW52aW8oe1xuICAgICAgICAgICAgbm9ybWFsOmZhbHNlLFxuICAgICAgICAgICAgZXhwcmVzczpmYWxzZSxcbiAgICAgICAgICAgIGxvY2FsOnRydWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBpbnNlcnRhclpvbmFEZUVudmlvID0gem9uYT0+e1xuICAgICAgICBzZXRab25hRW52aW8oem9uYSk7XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKT0+e1xuICAgICAgICBpZighcHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpby5hZGRyZXNzIHx8IHByb3BzLnVzdWFyaW9SZWR1Y2VyLnVzdWFyaW8uYWRkcmVzcz09PScnKSByZXR1cm4gc2V0RXJyb3IoJ0VzIG9ibGlnYXRvcmlvIGNvbXBsZXRhciB0dSB1YmljYWNpw7NuLicpO1xuICAgICAgICBpZih6b25hRW52aW89PT0nJykgcmV0dXJuIHNldEVycm9yKCdFcyBvYmxpZ2F0b3JpbyBjb21wbGV0YXIgbGEgem9uYSBkZSBlbnbDrW8uJyk7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGxldCB0aXBvRGVFbnZpb0FjdGl2bztcbiAgICAgICAgaWYodGlwb0VudmlvLmxvY2FsKXt0aXBvRGVFbnZpb0FjdGl2bz0nTG9jYWwnfTtcbiAgICAgICAgaWYodGlwb0VudmlvLm5vcm1hbCl7dGlwb0RlRW52aW9BY3Rpdm89J0RvbWljaWxpbyd9XG4gICAgICAgIGlmKHRpcG9FbnZpby5leHByZXNzKXt0aXBvRGVFbnZpb0FjdGl2bz0nRXhwcmVzcyd9XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgZW52aW86e1xuICAgICAgICAgICAgICAgIHRpcG86dGlwb0RlRW52aW9BY3Rpdm8sXG4gICAgICAgICAgICAgICAgaWRab25hOnpvbmFFbnZpbyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2ZW50YTp7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBmZXRjaChgJHtBUEl9L21lcmNhZG9wYWdvYCx7XG4gICAgICAgIC8vICAgICBtZXRob2Q6J1BPU1QnXG4gICAgICAgIC8vIH0pLnRoZW4ocmVzPT5yZXMuanNvbigpKS50aGVuKGRhdGFtcD0+e1xuICAgICAgICAvLyAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IGRhdGFtcC5pbmZvO1xuICAgICAgICAvLyAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKHJlc3BvbnNlLmluaXRfcG9pbnQpO1xuICAgICAgICAvLyB9KVxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICB9XG5cblxuICAgIHJldHVybiAoXG4gICAgICAgICghcHJvcHMudXN1YXJpb1JlZHVjZXIubG9ndWVhZG8pPzxkaXYgY2xhc3NOYW1lPVwibXQtM1wiPjxFcnJvciBtZXNzYWdlPVwiTm8gcHVlZGVzIHJlYWxpemFyIHVuYSBjb21wcmEgc2luIHRlbmVyIHVuYSBzZXNpw7NuIGFjdGl2YS5cIi8+PC9kaXY+OlxuICAgICAgICA8PlxuICAgICAgICAgICAgeyhwcm9wcy5jYXJyaXRvUmVkdWNlci5wcm9kdWN0b3MubGVuZ3RoPT09MCk/PGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+PEVycm9yIG1lc3NhZ2U9XCJObyBoYXkgcHJvZHVjdG9zIHBhcmEgZmluYWxpemFyIGxhIGNvbXByYS5cIi8+PC9kaXY+OlxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHsobG9hZGluZyk/PGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItbG9hZGVyXCI+PExvYWRlci8+PC9kaXY+Om51bGx9ICAgXG4gICAgICAgICAgICAgICAgICAgIDxIZWFkIHRpdGxlPVwiT2xpdmVyIFBldCBTaG9wXCIvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC04IHB0LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPsOabHRpbW9zIHBhc29zIHBhcmEgdGVybWluYXIgdHUgY29tcHJhPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhlcnJvcik/PEVycm9yIG1lc3NhZ2U9e2Vycm9yfS8+Om51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVWJpY2FjaW9uIGRhdGFVc2VyPXtwcm9wcy51c3VhcmlvUmVkdWNlci51c3VhcmlvfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxab25hRW52aW8gc2V0Wm9uYUVudmlvPXtpbnNlcnRhclpvbmFEZUVudmlvfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC01XCI+T3BjaW9uZXMgZGUgZW52w61vPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9wY2lvbmVzRW52aW8gdGlwb0VudmlvPXt0aXBvRW52aW99IGNhbWJpYXJUaXBvRGVFbnZpbz17Y2FtYmlhclRpcG9EZUVudmlvfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSBpZD1cImJ0bi1jb250aW51YXJcIj5Db250aW51YXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXZUb3RhbE1vYmlsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ0b3RhbFwiPiR7cHJvcHMuY2Fycml0b1JlZHVjZXIuc3VidG90YWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17aGFuZGxlQ2xpY2t9PkNvbnRpbnVhcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtNCBkZXRhbGxlUHJvZHVjdG9zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEZXRhbGxlUHJvZHVjdG9zIGRhdGE9e3Byb3BzLmNhcnJpdG9SZWR1Y2VyfS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoMntmb250LXNpemU6MjVweH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24jYnRuLWNvbnRpbnVhcntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6cmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6MjBweFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGl2VG90YWxNb2JpbGV7ZGlzcGxheTpub25lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYShtYXgtd2lkdGg6NzY4cHgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjYnRuLWNvbnRpbnVhcntkaXNwbGF5Om5vbmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kaXZUb3RhbE1vYmlsZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDowO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6MHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgLTJweCA4cHggMnB4IHJnYmEoMCwwLDAsLjE1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci13aWR0aDogMCAxcHggMXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdRdWlja3NhbmQnLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGV0YWxsZVByb2R1Y3Rvc3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6bm9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgfVxuICAgICAgICA8Lz5cbiAgICApO1xufVxuIFxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHtjYXJyaXRvUmVkdWNlcix1c3VhcmlvUmVkdWNlcn0pPT57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2Fycml0b1JlZHVjZXIsXG4gICAgICAgIHVzdWFyaW9SZWR1Y2VyXG4gICAgfTtcbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xuICAgIGNhcnJpdG9UcmFlclByb2R1Y3RvcyxcbiAgICB2ZXJpZmljYXJTZXNpb25cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLG1hcERpc3BhdGNoVG9Qcm9wcykoQ2hlY2tvdXQpOyJdfQ== */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js */\"))));\n};\n\nconst mapStateToProps = ({\n  carritoReducer,\n  usuarioReducer\n}) => {\n  return {\n    carritoReducer,\n    usuarioReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  carritoTraerProductos,\n  verificarSesion\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/pages/checkout/index.js"],"names":["useEffect","useState","CardUbicacion","OpcionesEnvio","ZonaEnvio","Head","DetalleProductos","Error","connect","carritoActions","usuarioActions","API","Loader","traerProductos","carritoTraerProductos","verificarSesion","Checkout","props","tipoEnvio","setTipoEnvio","normal","express","local","zonaEnvio","setZonaEnvio","error","setError","loading","setLoading","cambiarTipoDeEnvio","tipoDeEnvio","insertarZonaDeEnvio","zona","handleClick","usuarioReducer","usuario","address","tipoDeEnvioActivo","data","envio","tipo","idZona","venta","console","log","logueado","carritoReducer","productos","length","subtotal","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport CardUbicacion from '../../src/components/CardUbicacion/index'; \nimport OpcionesEnvio from '../../src/components/OpcionesEnvio';\nimport ZonaEnvio from '../../src/components/ZonaEnvio';\nimport Head from '../../src/components/Head';\nimport DetalleProductos from '../../src/components/DetalleProductos';\nimport Error from '../../src/components/Error';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../store/actions/carritoActions';\nimport * as usuarioActions from '../../store/actions/usuarioActions';\nimport {API} from '../../config/index';\nimport Loader from '../../src/components/Loader/index';\n\nconst {traerProductos:carritoTraerProductos} = carritoActions;\nconst {verificarSesion} = usuarioActions;\n\nconst Checkout = (props) => {\n    const [tipoEnvio, setTipoEnvio] = useState({\n        normal:true,\n        express:false,\n        local:false\n    });\n\n    const [zonaEnvio, setZonaEnvio] = useState('');\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        props.carritoTraerProductos();\n    }, []);\n\n    const cambiarTipoDeEnvio = tipoDeEnvio=>{\n        if(tipoDeEnvio==='normal'){\n            return setTipoEnvio({\n                normal:true,\n                express:false,\n                local:false\n            })\n        }\n        if(tipoDeEnvio==='express'){\n            return setTipoEnvio({\n                normal:false,\n                express:true,\n                local:false\n            })\n        }\n        return setTipoEnvio({\n            normal:false,\n            express:false,\n            local:true\n        })\n    }\n\n    const insertarZonaDeEnvio = zona=>{\n        setZonaEnvio(zona);\n    }\n\n    const handleClick = ()=>{\n        if(!props.usuarioReducer.usuario.address || props.usuarioReducer.usuario.address==='') return setError('Es obligatorio completar tu ubicación.');\n        if(zonaEnvio==='') return setError('Es obligatorio completar la zona de envío.');\n        setLoading(true);\n        let tipoDeEnvioActivo;\n        if(tipoEnvio.local){tipoDeEnvioActivo='Local'};\n        if(tipoEnvio.normal){tipoDeEnvioActivo='Domicilio'}\n        if(tipoEnvio.express){tipoDeEnvioActivo='Express'}\n        let data = {\n            envio:{\n                tipo:tipoDeEnvioActivo,\n                idZona:zonaEnvio,\n            },\n            venta:{\n\n            }\n        }\n        // fetch(`${API}/mercadopago`,{\n        //     method:'POST'\n        // }).then(res=>res.json()).then(datamp=>{\n        //     const {response} = datamp.info;\n        //     setLoading(false);\n        //     window.location.assign(response.init_point);\n        // })\n        console.log(data);\n    }\n\n\n    return (\n        (!props.usuarioReducer.logueado)?<div className=\"mt-3\"><Error message=\"No puedes realizar una compra sin tener una sesión activa.\"/></div>:\n        <>\n            {(props.carritoReducer.productos.length===0)?<div className=\"mt-3\"><Error message=\"No hay productos para finalizar la compra.\"/></div>:\n                <>\n                    {(loading)?<div className=\"container-loader\"><Loader/></div>:null}   \n                    <Head title=\"Oliver Pet Shop\"/>\n                    <div className=\"container mb-4\">\n                        <div className=\"row\">\n                            <div className=\"col-12 col-md-8 pt-4\">\n                                <h2>Últimos pasos para terminar tu compra</h2>\n                                {(error)?<Error message={error}/>:null}\n                                <CardUbicacion dataUser={props.usuarioReducer.usuario}/>\n                                <ZonaEnvio setZonaEnvio={insertarZonaDeEnvio}/>\n                                <h2 className=\"mt-5\">Opciones de envío</h2>\n                                <OpcionesEnvio tipoEnvio={tipoEnvio} cambiarTipoDeEnvio={cambiarTipoDeEnvio}/>\n                                <button type=\"button\" className=\"btn btn-primary\" onClick={handleClick} id=\"btn-continuar\">Continuar</button>\n                                <div className=\"divTotalMobile\">\n                                    <span id=\"total\">${props.carritoReducer.subtotal}</span>\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={handleClick}>Continuar</button>\n                                </div>\n                            </div>\n                            <div className=\"col-12 col-md-4 detalleProductos\">\n                                <DetalleProductos data={props.carritoReducer}/>\n                            </div>\n                        </div>\n                        <style jsx>{`\n                            h2{font-size:25px}\n                            button#btn-continuar{\n                                float:right;\n                                margin-top:20px\n                            }\n                            .divTotalMobile{display:none}\n                            @media(max-width:768px){\n                                #btn-continuar{display:none}\n                                .divTotalMobile{\n                                    display:flex;\n                                    justify-content:space-between;\n                                    position: fixed;\n                                    left:0;\n                                    right:0px;\n                                    bottom: 0px;\n                                    background-color: #f7f7f7;\n                                    padding: 16px;\n                                    box-shadow: 0 -2px 8px 2px rgba(0,0,0,.15);\n                                    border-width: 0 1px 1px;\n                                    font-family: 'Quicksand', sans-serif;\n                                } \n                                .detalleProductos{\n                                    display:none\n                                }           \n                            }\n                        `}</style>\n                    </div>\n                </>\n            }\n        </>\n    );\n}\n \nconst mapStateToProps = ({carritoReducer,usuarioReducer})=>{\n    return {\n        carritoReducer,\n        usuarioReducer\n    };\n}\n\nconst mapDispatchToProps = {\n    carritoTraerProductos,\n    verificarSesion\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Checkout);"]},"metadata":{},"sourceType":"module"}