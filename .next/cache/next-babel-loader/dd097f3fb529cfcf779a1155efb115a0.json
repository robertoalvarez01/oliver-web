{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { API } from '../../../config/index';\nimport { ObtenerDia } from '../../../helpers/index';\n\nconst ZonaEnvio = props => {\n  const {\n    0: zonas,\n    1: setZonas\n  } = useState([]);\n  const {\n    0: zonaDelDia,\n    1: setZonaDelDia\n  } = useState('');\n  useEffect(() => {\n    getZonas();\n  }, []);\n\n  const getZonas = async () => {\n    try {\n      const dataUser = JSON.parse(localStorage.getItem('oliverpetshop_usuario'));\n      let myHeaders = new Headers();\n      myHeaders.append(\"token\", dataUser.token);\n      const zonasApi = await fetch(`${API}/zonas`, {\n        headers: myHeaders\n      });\n      const dataZonas = await zonasApi.json();\n      setZonas(dataZonas.data);\n      verificarZonaDelDia(dataZonas.data);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const handleChange = event => {\n    event.persist();\n    props.setZonaEnvio(event.target.value);\n  };\n\n  const verificarZonaDelDia = zonas => {\n    let diaHoy = ObtenerDia(new Date().getDay());\n    let zonasDeHoy = zonas.filter(res => res.dia.includes(`${diaHoy}`));\n\n    if (zonasDeHoy.length > 0) {\n      if (zonasDeHoy.length == 1) {\n        return setZonaDelDia(zonasDeHoy[0].zona);\n      }\n\n      let tempzonas = '';\n      zonasDeHoy.map((zona, key) => {\n        if (key + 1 == zonasDeHoy.length) {\n          tempzonas += zona.zona;\n          return;\n        }\n\n        ;\n        tempzonas += `${zona.zona} - `;\n      });\n      setZonaDelDia(tempzonas);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zona-envios pt-4\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zonaDiaContainer\"\n  }, __jsx(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    className: \"jsx-2969453918\" + \" \" + \"d-block\"\n  }, \"Zona de env\\xEDos de hoy:\"), __jsx(\"span\", {\n    id: \"zonaActiva\",\n    className: \"jsx-2969453918\"\n  }, zonaDelDia)), __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-zona\"\n  }, __jsx(\"form\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-group\"\n  }, __jsx(\"label\", {\n    className: \"jsx-2969453918\"\n  }, \"Seleccione la zona que corresponde con su direcci\\xF3n\"), __jsx(\"select\", {\n    name: \"zona\",\n    onChange: handleChange,\n    className: \"jsx-2969453918\" + \" \" + \"form-control\"\n  }, __jsx(\"option\", {\n    value: \"\",\n    className: \"jsx-2969453918\"\n  }, \"Seleccione una zona\"), zonas.map(zona => __jsx(\"option\", {\n    key: zona.idZona,\n    value: zona.zona,\n    className: \"jsx-2969453918\"\n  }, zona.zona, \" (\", zona.dia, \")\"))))), __jsx(_JSXStyle, {\n    id: \"2969453918\"\n  }, [\".zona-envios.jsx-2969453918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".zonaDiaContainer.jsx-2969453918{text-align:center;padding:5px 10px;background-color:#2e9231;color:white;border-radius:5px;font-family:'Quicksand',sans-serif;width:44%;}\", \"#zonaActiva.jsx-2969453918{text-transform:uppercase;font-size:18px;}\", \"label.jsx-2969453918,select.jsx-2969453918{font-family:'Quicksand',sans-serif;}\", \"@media(max-width:768px){.zona-envios.jsx-2969453918{display:block;}.zonaDiaContainer.jsx-2969453918{margin-bottom:10px;width:100%;}}\"]));\n};\n\nexport default ZonaEnvio;","map":null,"metadata":{},"sourceType":"module"}