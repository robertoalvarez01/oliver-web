{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/ZonaEnvio/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { API } from '../../../config/index';\nimport { ObtenerDia } from '../../../helpers/index';\n\nconst ZonaEnvio = props => {\n  const {\n    0: zonas,\n    1: setZonas\n  } = useState([]);\n  const {\n    0: zonaDelDia,\n    1: setZonaDelDia\n  } = useState('');\n  useEffect(() => {\n    getZonas();\n  }, []);\n\n  const getZonas = async () => {\n    try {\n      const dataUser = JSON.parse(localStorage.getItem('oliverpetshop_usuario'));\n      let myHeaders = new Headers();\n      myHeaders.append(\"token\", dataUser.token);\n      const zonasApi = await fetch(`${API}/zonas`, {\n        headers: myHeaders\n      });\n      const dataZonas = await zonasApi.json();\n      setZonas(dataZonas.data);\n      verificarZonaDelDia(dataZonas.data);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const handleChange = event => {\n    const zonaChecked = zonas.filter(zona => zona.idZona === parseInt(event.target.value));\n    const {\n      precio\n    } = zonaChecked[0];\n    console.log(precio);\n    event.persist();\n    props.setZonaEnvio(event.target.value);\n  };\n\n  const verificarZonaDelDia = zonas => {\n    let diaHoy = ObtenerDia(new Date().getDay());\n    let zonasDeHoy = zonas.filter(res => res.dia.includes(`${diaHoy}`));\n\n    if (zonasDeHoy.length > 0) {\n      if (zonasDeHoy.length == 1) {\n        return setZonaDelDia(zonasDeHoy[0].zona);\n      }\n\n      let tempzonas = '';\n      zonasDeHoy.map((zona, key) => {\n        if (key + 1 == zonasDeHoy.length) {\n          tempzonas += zona.zona;\n          return;\n        }\n\n        ;\n        tempzonas += `${zona.zona} - `;\n      });\n      setZonaDelDia(tempzonas);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zona-envios pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zonaDiaContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    className: \"jsx-2969453918\" + \" \" + \"d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Zona de env\\xEDos de hoy:\"), __jsx(\"span\", {\n    id: \"zonaActiva\",\n    className: \"jsx-2969453918\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, zonaDelDia)), __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-zona\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(\"label\", {\n    className: \"jsx-2969453918\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Seleccione la zona que corresponde con su direcci\\xF3n\"), __jsx(\"select\", {\n    name: \"zona\",\n    onChange: handleChange,\n    id: \"form-zona-envio\",\n    className: \"jsx-2969453918\" + \" \" + \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    className: \"jsx-2969453918\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Seleccione una zona\"), zonas.map(zona => __jsx(\"option\", {\n    key: zona.idZona,\n    value: zona.idZona,\n    className: \"jsx-2969453918\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }, zona.zona, \" (\", zona.dia, \")\"))))), __jsx(_JSXStyle, {\n    id: \"2969453918\",\n    __self: this\n  }, \".zona-envios.jsx-2969453918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.zonaDiaContainer.jsx-2969453918{text-align:center;padding:5px 10px;background-color:#2e9231;color:white;border-radius:5px;font-family:'Quicksand',sans-serif;width:44%;}#zonaActiva.jsx-2969453918{text-transform:uppercase;font-size:18px;}label.jsx-2969453918,select.jsx-2969453918{font-family:'Quicksand',sans-serif;}@media(max-width:768px){.zona-envios.jsx-2969453918{display:block;}.zonaDiaContainer.jsx-2969453918{margin-bottom:10px;width:100%;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvWm9uYUVudmlvL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVFd0IsQUFHaUMsQUFNSyxBQVVPLEFBS1ksQUFNckMsQUFDb0MsY0FEbkMsSUFwQmlCLENBcUIyQixNQVZqRCxLQVVrRCxLQXBCcEIsQUFjN0IsS0FKQSxvQkFUZ0IsWUFDTSxFQVRXLGdCQVVPLG1DQUMzQixVQUNiLHNEQVZELDZGQUFDIiwiZmlsZSI6Ii9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvWm9uYUVudmlvL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVN0YXRlLHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7QVBJfSBmcm9tICcuLi8uLi8uLi9jb25maWcvaW5kZXgnO1xuaW1wb3J0IHtPYnRlbmVyRGlhfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2luZGV4JztcbmNvbnN0IFpvbmFFbnZpbyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IFt6b25hcywgc2V0Wm9uYXNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFt6b25hRGVsRGlhLCBzZXRab25hRGVsRGlhXSA9IHVzZVN0YXRlKCcnKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBnZXRab25hcygpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGdldFpvbmFzID0gYXN5bmMoKT0+e1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YVVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvbGl2ZXJwZXRzaG9wX3VzdWFyaW8nKSk7XG4gICAgICAgICAgICBsZXQgbXlIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgICAgIG15SGVhZGVycy5hcHBlbmQoXCJ0b2tlblwiLCBkYXRhVXNlci50b2tlbik7XG4gICAgICAgICAgICBjb25zdCB6b25hc0FwaSA9IGF3YWl0IGZldGNoKGAke0FQSX0vem9uYXNgLHtoZWFkZXJzOm15SGVhZGVyc30pO1xuICAgICAgICAgICAgY29uc3QgZGF0YVpvbmFzID0gYXdhaXQgem9uYXNBcGkuanNvbigpO1xuICAgICAgICAgICAgc2V0Wm9uYXMoZGF0YVpvbmFzLmRhdGEpO1xuICAgICAgICAgICAgdmVyaWZpY2FyWm9uYURlbERpYShkYXRhWm9uYXMuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBhbGVydChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSBldmVudD0+e1xuICAgICAgICBjb25zdCB6b25hQ2hlY2tlZCA9IHpvbmFzLmZpbHRlcih6b25hPT56b25hLmlkWm9uYSA9PT0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LnZhbHVlKSk7XG4gICAgICAgIGNvbnN0IHtwcmVjaW99ID0gem9uYUNoZWNrZWRbMF07XG4gICAgICAgIGNvbnNvbGUubG9nKHByZWNpbyk7XG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgcHJvcHMuc2V0Wm9uYUVudmlvKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdmVyaWZpY2FyWm9uYURlbERpYSA9ICh6b25hcyk9PntcbiAgICAgICAgbGV0IGRpYUhveSA9IE9idGVuZXJEaWEobmV3IERhdGUoKS5nZXREYXkoKSk7XG4gICAgICAgIGxldCB6b25hc0RlSG95ID0gem9uYXMuZmlsdGVyKHJlcz0+cmVzLmRpYS5pbmNsdWRlcyhgJHtkaWFIb3l9YCkpO1xuICAgICAgICBpZih6b25hc0RlSG95Lmxlbmd0aD4wKXtcbiAgICAgICAgICAgIGlmKHpvbmFzRGVIb3kubGVuZ3RoPT0xKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0Wm9uYURlbERpYSh6b25hc0RlSG95WzBdLnpvbmEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlbXB6b25hcyA9ICcnO1xuICAgICAgICAgICAgem9uYXNEZUhveS5tYXAoKHpvbmEsa2V5KT0+e1xuICAgICAgICAgICAgICAgIGlmKChrZXkrMSk9PXpvbmFzRGVIb3kubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgdGVtcHpvbmFzICs9IHpvbmEuem9uYTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGVtcHpvbmFzICs9IGAke3pvbmEuem9uYX0gLSBgO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHNldFpvbmFEZWxEaWEodGVtcHpvbmFzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInpvbmEtZW52aW9zIHB0LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiem9uYURpYUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImQtYmxvY2tcIiBzdHlsZT17e2ZvbnRXZWlnaHQ6J2JvbGQnfX0+Wm9uYSBkZSBlbnbDrW9zIGRlIGhveTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ6b25hQWN0aXZhXCI+e3pvbmFEZWxEaWF9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tem9uYVwiPlxuICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlNlbGVjY2lvbmUgbGEgem9uYSBxdWUgY29ycmVzcG9uZGUgY29uIHN1IGRpcmVjY2nDs248L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJ6b25hXCIgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gaWQ9XCJmb3JtLXpvbmEtZW52aW9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY2Npb25lIHVuYSB6b25hPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICB7em9uYXMubWFwKHpvbmE9PihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3pvbmEuaWRab25hfSB2YWx1ZT17em9uYS5pZFpvbmF9Pnt6b25hLnpvbmF9ICh7em9uYS5kaWF9KTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAuem9uYS1lbnZpb3N7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47XG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlclxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC56b25hRGlhQ29udGFpbmVye1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyZTkyMzE7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjQ0JTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAjem9uYUFjdGl2YXtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MThweFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhYmVsLHNlbGVjdHtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdRdWlja3NhbmQnLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBAbWVkaWEobWF4LXdpZHRoOjc2OHB4KXtcbiAgICAgICAgICAgICAgICAgICAgLnpvbmEtZW52aW9ze1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpibG9ja1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC56b25hRGlhQ29udGFpbmVye21hcmdpbi1ib3R0b206MTBweDt3aWR0aDoxMDAlfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cbiBcbmV4cG9ydCBkZWZhdWx0IFpvbmFFbnZpbzsiXX0= */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/ZonaEnvio/index.js */\"));\n};\n\nexport default ZonaEnvio;","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/ZonaEnvio/index.js"],"names":["React","useState","useEffect","API","ObtenerDia","ZonaEnvio","props","zonas","setZonas","zonaDelDia","setZonaDelDia","getZonas","dataUser","JSON","parse","localStorage","getItem","myHeaders","Headers","append","token","zonasApi","fetch","headers","dataZonas","json","data","verificarZonaDelDia","error","alert","handleChange","event","zonaChecked","filter","zona","idZona","parseInt","target","value","precio","console","log","persist","setZonaEnvio","diaHoy","Date","getDay","zonasDeHoy","res","dia","includes","length","tempzonas","map","key","fontWeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState,useEffect } from 'react';\nimport {API} from '../../../config/index';\nimport {ObtenerDia} from '../../../helpers/index';\nconst ZonaEnvio = (props) => {\n    const [zonas, setZonas] = useState([]);\n    const [zonaDelDia, setZonaDelDia] = useState('');\n    useEffect(() => {\n        getZonas();\n    }, []);\n\n    const getZonas = async()=>{\n        try {\n            const dataUser = JSON.parse(localStorage.getItem('oliverpetshop_usuario'));\n            let myHeaders = new Headers();\n            myHeaders.append(\"token\", dataUser.token);\n            const zonasApi = await fetch(`${API}/zonas`,{headers:myHeaders});\n            const dataZonas = await zonasApi.json();\n            setZonas(dataZonas.data);\n            verificarZonaDelDia(dataZonas.data);\n        } catch (error) {\n            alert(error);\n        }\n    }\n\n    const handleChange = event=>{\n        const zonaChecked = zonas.filter(zona=>zona.idZona === parseInt(event.target.value));\n        const {precio} = zonaChecked[0];\n        console.log(precio);\n        event.persist();\n        props.setZonaEnvio(event.target.value);\n    }\n\n    const verificarZonaDelDia = (zonas)=>{\n        let diaHoy = ObtenerDia(new Date().getDay());\n        let zonasDeHoy = zonas.filter(res=>res.dia.includes(`${diaHoy}`));\n        if(zonasDeHoy.length>0){\n            if(zonasDeHoy.length==1){\n                return setZonaDelDia(zonasDeHoy[0].zona);\n            }\n            let tempzonas = '';\n            zonasDeHoy.map((zona,key)=>{\n                if((key+1)==zonasDeHoy.length){\n                    tempzonas += zona.zona;\n                    return;\n                };\n                tempzonas += `${zona.zona} - `;\n            })\n            setZonaDelDia(tempzonas);\n        }\n    }\n    return (\n        <div className=\"zona-envios pt-4\">\n            <div className=\"zonaDiaContainer\">\n                <span className=\"d-block\" style={{fontWeight:'bold'}}>Zona de envíos de hoy:</span>\n                <span id=\"zonaActiva\">{zonaDelDia}</span>\n            </div>\n            <div className=\"form-zona\">\n                <form className=\"form-group\">\n                    <label>Seleccione la zona que corresponde con su dirección</label>\n                    <select className=\"form-control\" name=\"zona\" onChange={handleChange} id=\"form-zona-envio\">\n                        <option value=\"\">Seleccione una zona</option>\n                        {zonas.map(zona=>(\n                                <option key={zona.idZona} value={zona.idZona}>{zona.zona} ({zona.dia})</option>\n                            ))\n                        }\n                    </select>\n                </form>\n            </div>\n            \n\n            <style jsx>{`\n                .zona-envios{\n                    display:flex;\n                    justify-content:space-between;\n                    align-items:center\n                }\n\n                .zonaDiaContainer{\n                    text-align:center;\n                    padding: 5px 10px;\n                    background-color: #2e9231;\n                    color: white;\n                    border-radius: 5px;\n                    font-family: 'Quicksand', sans-serif;\n                    width:44%;\n                }\n\n                #zonaActiva{\n                    text-transform:uppercase;\n                    font-size:18px\n                }\n\n                label,select{\n                    font-family: 'Quicksand', sans-serif;\n                }\n                \n                @media(max-width:768px){\n                    .zona-envios{\n                        display:block\n                    }\n                    .zonaDiaContainer{margin-bottom:10px;width:100%}\n                }\n            `}</style>\n        </div>\n    );\n}\n \nexport default ZonaEnvio;"]},"metadata":{},"sourceType":"module"}