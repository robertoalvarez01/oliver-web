{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { ObtenerDia } from '../../../helpers/index';\nimport { connect } from 'react-redux';\nimport * as ventasActions from '../../../store/actions/ventasActions';\nimport * as zonaActions from '../../../store/actions/zonasActions';\nvar traerZonas = zonaActions.traerTodas,\n    seleccionarZona = zonaActions.seleccionar;\nvar setCostoEnvio = ventasActions.setCostoEnvio;\n\nvar ZonaEnvio = function ZonaEnvio(props) {\n  var _useState = useState(''),\n      zonaDelDia = _useState[0],\n      setZonaDelDia = _useState[1];\n\n  var zonas = props.zonasReducer.zonas;\n  useEffect(function () {\n    props.traerZonas();\n  }, []);\n  useEffect(function () {\n    if (zonas.length > 0) {\n      verificarZonaDelDia(zonas);\n    }\n  }, [zonas]);\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    props.seleccionarZona(event.target.value); //ejecutar funcion para modificar el state de ventasReducer con el monto del envio adecuado.\n\n    props.setCostoEnvio();\n  };\n\n  var verificarZonaDelDia = function verificarZonaDelDia(zonas) {\n    var diaHoy = ObtenerDia(new Date().getDay());\n    var zonasDeHoy = zonas.filter(function (res) {\n      return res.dia.includes(\"\".concat(diaHoy));\n    });\n\n    if (zonasDeHoy.length > 0) {\n      if (zonasDeHoy.length == 1) {\n        return setZonaDelDia(zonasDeHoy[0].zona);\n      }\n\n      var tempzonas = '';\n      zonasDeHoy.map(function (zona, key) {\n        if (key + 1 == zonasDeHoy.length) {\n          tempzonas += zona.zona;\n          return;\n        }\n\n        ;\n        tempzonas += \"\".concat(zona.zona, \" - \");\n      });\n      setZonaDelDia(tempzonas);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zona-envios pt-4\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zonaDiaContainer\"\n  }, __jsx(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    className: \"jsx-2969453918\" + \" \" + \"d-block\"\n  }, \"Zona de env\\xEDos de hoy:\"), __jsx(\"span\", {\n    id: \"zonaActiva\",\n    className: \"jsx-2969453918\"\n  }, zonaDelDia)), __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-zona\"\n  }, __jsx(\"form\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-group\"\n  }, __jsx(\"label\", {\n    className: \"jsx-2969453918\"\n  }, \"Seleccione la zona que corresponde con su direcci\\xF3n\"), __jsx(\"select\", {\n    name: \"zona\",\n    onChange: handleChange,\n    id: \"form-zona-envio\",\n    className: \"jsx-2969453918\" + \" \" + \"form-control\"\n  }, __jsx(\"option\", {\n    value: \"\",\n    className: \"jsx-2969453918\"\n  }, \"Seleccione una zona\"), zonas.map(function (zona) {\n    return __jsx(\"option\", {\n      key: zona.idZona,\n      value: zona.idZona,\n      className: \"jsx-2969453918\"\n    }, zona.zona, \" (\", zona.dia, \")\");\n  })))), __jsx(_JSXStyle, {\n    id: \"2969453918\"\n  }, [\".zona-envios.jsx-2969453918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".zonaDiaContainer.jsx-2969453918{text-align:center;padding:5px 10px;background-color:#2e9231;color:white;border-radius:5px;font-family:'Quicksand',sans-serif;width:44%;}\", \"#zonaActiva.jsx-2969453918{text-transform:uppercase;font-size:18px;}\", \"label.jsx-2969453918,select.jsx-2969453918{font-family:'Quicksand',sans-serif;}\", \"@media(max-width:768px){.zona-envios.jsx-2969453918{display:block;}.zonaDiaContainer.jsx-2969453918{margin-bottom:10px;width:100%;}}\"]));\n};\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var carritoReducer = _ref.carritoReducer,\n      zonasReducer = _ref.zonasReducer;\n  return {\n    carritoReducer: carritoReducer,\n    zonasReducer: zonasReducer\n  };\n};\n\nvar mapDispatchToProps = {\n  traerZonas: traerZonas,\n  seleccionarZona: seleccionarZona,\n  setCostoEnvio: setCostoEnvio\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ZonaEnvio);","map":null,"metadata":{},"sourceType":"module"}