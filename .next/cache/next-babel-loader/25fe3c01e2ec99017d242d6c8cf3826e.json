{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport Router from 'next/router';\nimport { faTimes, faBroom, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\nconst {\n  traerTodas: marcasTraerTodas\n} = marcasActions;\nconst {\n  filtrarProductos: productosFiltrarProductos,\n  traerTodos: productosTraerTodos,\n  aplicarFiltro\n} = productosActions;\nconst {\n  traerTodas: categoriasTraerTodas\n} = categoriasActions;\nconst {\n  traerTodas: subcategoriaTraerTodas\n} = subcategoriasActions;\n\nconst Filtro = props => {\n  //manejo de Modal marcas\n  const {\n    0: modalIsOpen,\n    1: setModalIsOpen\n  } = useState(false);\n\n  const onCloseModal = () => {\n    document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n    setModalIsOpen(false);\n  }; //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    try {\n      if (props.marcasReducer.marcas.length === 0) {\n        await props.marcasTraerTodas();\n      }\n\n      if (props.categoriasReducer.categorias.length === 0) {\n        await props.categoriasTraerTodas();\n      }\n\n      if (props.subcategoriaReducer.subcategorias.length === 0) {\n        await props.subcategoriaTraerTodas();\n      }\n\n      if (props.location !== '/productos') {\n        activarFiltroPorUrl();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n  // useEffect(() => {\n  //     switchItemActive();\n  // }, [estadoFiltro]);\n\n\n  const activarFiltroPorUrl = () => {\n    if (props.query.search) {\n      return activarFiltro(Object.keys(props.query)[0], props.query.search);\n    } else {\n      return activarFiltro(props.query.type, props.query.index[1]);\n    }\n  };\n\n  const activarFiltro = (tipoFiltro, key) => {\n    props.aplicarFiltro(tipoFiltro, key);\n  };\n\n  const switchItemActive = () => {// console.log(estadoFiltro);\n    // for (let index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\n    //     const element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\n    //     element.classList.remove(FiltroStyle.active);\n    //     document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\n    // };\n    // if(!estadoFiltro.filtrando) return;\n    // //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\n    // if(estadoFiltro.buscador.trim()===''){\n    //     //recorro el state para obtener las claves y agregar active el elemento correspondiente\n    //     for (const key in estadoFiltro) {\n    //         if(estadoFiltro[key] && estadoFiltro[key]!=='' && estadoFiltro[key]!==true){\n    //             //console.log(estadoFiltro[key]);\n    //             if(document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0]){//pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\n    //                 console.log('!!!');\n    //                 document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0].classList.add(FiltroStyle.active);\n    //                 document.getElementById(`close-${key}-${estadoFiltro[key]}`).classList.remove('d-none');\n    //             }else{\n    //                 if(estadoFiltro.marca!==''){\n    //                     //creo los elementos del item\n    //                     let newItemMarca = document.createElement('li');\n    //                     let divItemMarca = document.createElement('div');\n    //                     let spanItemMarca = document.createElement('span');\n    //                     let iconClose = document.createElement('svg');\n    //                     let marcaName = props.marcasReducer.marcas.filter(res=>res.idMarca == estadoFiltro.marca)[0].marca;\n    //                     //asigno las clases, atributos y eventos necesarios.\n    //                     divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\n    //                     divItemMarca.setAttribute('name',`marca-${estadoFiltro.marca}`);\n    //                     divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\n    //                     spanItemMarca.className = 'text-muted';\n    //                     spanItemMarca.innerHTML = marcaName;\n    //                     iconClose.innerHTML = `\n    //                         <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 352 512\" class=\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\" id=\"close-marca-${estadoFiltro.marca}\">\n    //                             <path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\n    //                         </svg>\n    //                     `;\n    //                     iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\n    //                     //voy ubicando los elementos dentro de cada padre\n    //                     divItemMarca.appendChild(spanItemMarca);\n    //                     newItemMarca.appendChild(divItemMarca);\n    //                     newItemMarca.appendChild(iconClose);\n    //                     //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n    //                     if(document.querySelector(`#listaMarca`)){\n    //                         let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\n    //                         let listaMarcas = document.querySelector(`#listaMarca`);\n    //                         listaMarcas.removeChild(firstItemMarca);\n    //                         //ahora agrego el item creado a la lista\n    //                         listaMarcas.appendChild(newItemMarca);\n    //                     };\n    //                 }\n    //             }\n    //         }\n    //     }\n    // }\n    // //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\n    // if(estadoFiltro.filtrando){\n    //     let urlFiltro = armarUrlFiltro();//armo la url que mando a la api para traer los resultados de lo filtrado.\n    //     props.productosFiltrarProductos(urlFiltro,0,20,8);\n    // };\n  };\n\n  const limpiarFiltro = tipo => {\n    switch (tipo) {\n      case 'categoria':\n        if (estadoFiltro.subcategoria === '' && estadoFiltro.marca === '') {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            categoria: '',\n            filtrando: false\n          }));\n          props.productosTraerTodos({\n            desde: 1,\n            limiteDesktop: 20,\n            limiteMobile: 10\n          });\n\n          if (props.location != 'productos') {\n            Router.push('/productos');\n          }\n        } else {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            categoria: ''\n          }));\n        }\n\n        break;\n\n      case 'subcategoria':\n        if (estadoFiltro.categoria === '' && estadoFiltro.marca === '') {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            subcategoria: '',\n            filtrando: false\n          }));\n          props.productosTraerTodos({\n            desde: 1,\n            limiteDesktop: 20,\n            limiteMobile: 10\n          });\n\n          if (props.location != 'productos') {\n            Router.push('/productos');\n          }\n        } else {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            subcategoria: ''\n          }));\n        }\n\n        break;\n\n      case 'marca':\n        if (estadoFiltro.categoria === '' && estadoFiltro.subcategoria == '') {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            marca: '',\n            filtrando: false\n          }));\n          props.productosTraerTodos({\n            desde: 1,\n            limiteDesktop: 20,\n            limiteMobile: 10\n          });\n\n          if (props.location != 'productos') {\n            Router.push('/productos');\n          }\n        } else {\n          setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n            marca: ''\n          }));\n        }\n\n        break;\n\n      default:\n        setEstadoFiltro({\n          filtrando: false,\n          categoria: '',\n          subcategoria: '',\n          marca: '',\n          buscador: ''\n        });\n        props.productosTraerTodos({\n          desde: 1,\n          limiteDesktop: 20,\n          limiteMobile: 10\n        });\n\n        if (props.location != 'productos') {\n          Router.push('/productos');\n        }\n\n        break;\n    }\n  };\n\n  const closeFiltrosMobile = () => {\n    document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n  };\n\n  const armarUrlFiltro = () => {\n    let url = ''; //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n\n    if (estadoFiltro.buscador !== '') return url += `buscar?busqueda=${estadoFiltro.buscador}`;\n    url += 'filtrar';\n\n    if (estadoFiltro.categoria && estadoFiltro.categoria !== '') {\n      url += `?categoria=${estadoFiltro.categoria}`;\n    }\n\n    if (estadoFiltro.subcategoria && estadoFiltro.subcategoria !== '') {\n      if (estadoFiltro.categoria !== '') {\n        url += `&subcategoria=${estadoFiltro.subcategoria}`;\n      } else {\n        url += `?subcategoria=${estadoFiltro.subcategoria}`;\n      }\n    }\n\n    if (estadoFiltro.marca && estadoFiltro.marca !== '') {\n      if (estadoFiltro.categoria == '' && estadoFiltro.subcategoria == '') {\n        url += `?marca=${estadoFiltro.marca}`;\n      } else {\n        url += `&marca=${estadoFiltro.marca}`;\n      }\n    }\n\n    return url;\n  };\n\n  const showFiltros = () => {\n    let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n    element.classList.toggle(FiltroStyle.show);\n    document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n  };\n\n  const {\n    filtrando,\n    filtros\n  } = props.productosReducer;\n  return __jsx(\"div\", {\n    className: FiltroStyle.filtros__contanier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: FiltroStyle.btn_close_filtro,\n    onClick: showFiltros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, __jsx(FontAwesomeIcon, {\n    id: \"iconFiltroContainer\",\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, props.categoriasReducer.categorias.length == 0 || props.subcategoriaReducer.subcategorias.length == 0 || props.marcasReducer.marcas.length == 0 ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 158\n    }\n  }) : __jsx(React.Fragment, null, filtrando ? __jsx(\"button\", {\n    className: \"boton bg-yellow mb-3\",\n    onClick: limpiarFiltro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 38\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBroom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 29\n    }\n  }), \" Limpiar Filtros\") : null, __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.cerrar_filtro_mobile,\n    onClick: closeFiltrosMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 25\n    }\n  }), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  }, \"Mascota\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 25\n    }\n  }, props.categoriasReducer.categorias.map(cat => __jsx(\"li\", {\n    key: cat.idCategoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro + ` ${filtros.categoria === cat.idCategoria ? 'active' : ''}`,\n    name: `categoria-${cat.idCategoria}`,\n    onClick: () => activarFiltro('categoria', `${cat.idCategoria}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 45\n    }\n  }, cat.categoria)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ' ' + `d-none`,\n    onClick: () => limpiarFiltro('categoria'),\n    id: `close-categoria-${cat.idCategoria}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 41\n    }\n  })))), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, \"Alimentos\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 25\n    }\n  }, props.subcategoriaReducer.subcategorias.map(sc => __jsx(\"li\", {\n    key: sc.idSubCategoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro,\n    name: `subcategoria-${sc.idSubCategoria}`,\n    onClick: () => activarFiltro('subcategoria', `${sc.idSubCategoria}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 45\n    }\n  }, sc.subcategoria)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ' ' + `d-none`,\n    onClick: () => limpiarFiltro('subcategoria'),\n    id: `close-${`subcategoria-${sc.idSubCategoria}`}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  })))), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, \"Marca\"), __jsx(\"ul\", {\n    id: \"listaMarca\",\n    className: FiltroStyle.sinBorderBottom + ' ' + FiltroStyle.lista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 25\n    }\n  }, props.marcasReducer.marcas.map((marca, key) => key > 3 ? false : __jsx(\"li\", {\n    key: marca.idMarca,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro,\n    name: `marca-${marca.idMarca}`,\n    onClick: () => activarFiltro('marca', `${marca.idMarca}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 45\n    }\n  }, marca.marca)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ' ' + `d-none`,\n    onClick: () => limpiarFiltro('marca'),\n    id: `close-marca-${marca.idMarca}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 41\n    }\n  })))), __jsx(\"button\", {\n    onClick: () => setModalIsOpen(true),\n    className: \"boton bg-gris\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 25\n    }\n  }, \"Ver todas\"))), !modalIsOpen ? null : __jsx(Modal, {\n    closeModal: onCloseModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 17\n    }\n  }, __jsx(ModalMarca, {\n    closeModal: onCloseModal,\n    activarFiltro: activarFiltro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 21\n    }\n  })));\n};\n\nconst mapStateToProps = ({\n  marcasReducer,\n  productosReducer,\n  categoriasReducer,\n  subcategoriaReducer\n}) => {\n  return {\n    marcasReducer,\n    productosReducer,\n    categoriasReducer,\n    subcategoriaReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  marcasTraerTodas,\n  productosFiltrarProductos,\n  productosTraerTodos,\n  categoriasTraerTodas,\n  subcategoriaTraerTodas,\n  aplicarFiltro\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filtro);","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js"],"names":["React","useState","useEffect","FiltroStyle","Modal","ModalMarca","Router","faTimes","faBroom","faChevronRight","FontAwesomeIcon","connect","productosActions","marcasActions","categoriasActions","subcategoriasActions","Loader","traerTodas","marcasTraerTodas","filtrarProductos","productosFiltrarProductos","traerTodos","productosTraerTodos","aplicarFiltro","categoriasTraerTodas","subcategoriaTraerTodas","Filtro","props","modalIsOpen","setModalIsOpen","onCloseModal","document","getElementsByTagName","style","overflowY","getData","marcasReducer","marcas","length","categoriasReducer","categorias","subcategoriaReducer","subcategorias","location","activarFiltroPorUrl","error","console","log","query","search","activarFiltro","Object","keys","type","index","tipoFiltro","key","switchItemActive","limpiarFiltro","tipo","estadoFiltro","subcategoria","marca","setEstadoFiltro","categoria","filtrando","desde","limiteDesktop","limiteMobile","push","buscador","closeFiltrosMobile","getElementsByClassName","filtros__contanier","classList","remove","show_filtros","armarUrlFiltro","url","showFiltros","element","toggle","show","getElementById","rotar","filtros","productosReducer","btn_close_filtro","cerrar_filtro_mobile","titulo_filtros","lista","map","cat","idCategoria","item_filtro","icon_close_filtro","sc","idSubCategoria","sinBorderBottom","idMarca","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport Router from 'next/router';\nimport { faTimes,faBroom,faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\n\nconst {traerTodas:marcasTraerTodas} = marcasActions;\nconst {filtrarProductos:productosFiltrarProductos,traerTodos:productosTraerTodos,aplicarFiltro} = productosActions;\nconst {traerTodas:categoriasTraerTodas} = categoriasActions;\nconst {traerTodas:subcategoriaTraerTodas} = subcategoriasActions;\n\nconst Filtro = (props) => {\n\n\n    //manejo de Modal marcas\n    const [modalIsOpen, setModalIsOpen] = useState(false);\n    const onCloseModal = ()=>{\n        document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n        setModalIsOpen(false);\n    }\n\n    //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n    useEffect(() => {\n        getData();\n    },[]);\n        \n    const getData = async()=>{\n        try {\n            if(props.marcasReducer.marcas.length===0){\n                await props.marcasTraerTodas();\n            }\n            if(props.categoriasReducer.categorias.length===0){\n                await props.categoriasTraerTodas();\n            }\n            if(props.subcategoriaReducer.subcategorias.length===0){\n                await props.subcategoriaTraerTodas();\n            }\n            if(props.location !== '/productos'){\n                activarFiltroPorUrl();\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n    // useEffect(() => {\n    //     switchItemActive();\n    // }, [estadoFiltro]);\n\n    const activarFiltroPorUrl = ()=>{\n        if(props.query.search){\n            return activarFiltro(Object.keys(props.query)[0],props.query.search);\n        }else{\n            return activarFiltro(props.query.type,props.query.index[1]);\n        }\n    }\n\n    const activarFiltro = (tipoFiltro,key)=>{\n        props.aplicarFiltro(tipoFiltro,key);\n    }\n\n    const switchItemActive = ()=>{\n        // console.log(estadoFiltro);\n\n        // for (let index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\n        //     const element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\n        //     element.classList.remove(FiltroStyle.active);\n        //     document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\n        // };\n        // if(!estadoFiltro.filtrando) return;\n        // //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\n        // if(estadoFiltro.buscador.trim()===''){\n        //     //recorro el state para obtener las claves y agregar active el elemento correspondiente\n        //     for (const key in estadoFiltro) {\n        //         if(estadoFiltro[key] && estadoFiltro[key]!=='' && estadoFiltro[key]!==true){\n        //             //console.log(estadoFiltro[key]);\n        //             if(document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0]){//pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\n        //                 console.log('!!!');\n        //                 document.getElementsByName(`${key}-${estadoFiltro[key]}`)[0].classList.add(FiltroStyle.active);\n        //                 document.getElementById(`close-${key}-${estadoFiltro[key]}`).classList.remove('d-none');\n        //             }else{\n        //                 if(estadoFiltro.marca!==''){\n        //                     //creo los elementos del item\n        //                     let newItemMarca = document.createElement('li');\n        //                     let divItemMarca = document.createElement('div');\n        //                     let spanItemMarca = document.createElement('span');\n        //                     let iconClose = document.createElement('svg');\n\n        //                     let marcaName = props.marcasReducer.marcas.filter(res=>res.idMarca == estadoFiltro.marca)[0].marca;\n\n        //                     //asigno las clases, atributos y eventos necesarios.\n        //                     divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\n        //                     divItemMarca.setAttribute('name',`marca-${estadoFiltro.marca}`);\n        //                     divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\n        //                     spanItemMarca.className = 'text-muted';\n        //                     spanItemMarca.innerHTML = marcaName;\n    \n        //                     iconClose.innerHTML = `\n        //                         <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"times\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 352 512\" class=\"svg-inline--fa fa-times fa-w-11 Filtro_icon_close_filtro__1xlv5\" id=\"close-marca-${estadoFiltro.marca}\">\n        //                             <path fill=\"currentColor\" d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"></path>\n        //                         </svg>\n        //                     `;\n        //                     iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\n\n        //                     //voy ubicando los elementos dentro de cada padre\n        //                     divItemMarca.appendChild(spanItemMarca);\n        //                     newItemMarca.appendChild(divItemMarca);\n        //                     newItemMarca.appendChild(iconClose);\n                            \n        //                     //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n        //                     if(document.querySelector(`#listaMarca`)){\n        //                         let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\n        //                         let listaMarcas = document.querySelector(`#listaMarca`);\n        //                         listaMarcas.removeChild(firstItemMarca);\n        //                         //ahora agrego el item creado a la lista\n        //                         listaMarcas.appendChild(newItemMarca);\n        //                     };\n        //                 }\n        //             }\n        //         }\n        //     }\n        // }\n        // //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\n        // if(estadoFiltro.filtrando){\n        //     let urlFiltro = armarUrlFiltro();//armo la url que mando a la api para traer los resultados de lo filtrado.\n        //     props.productosFiltrarProductos(urlFiltro,0,20,8);\n        // };\n        \n    }\n\n    const limpiarFiltro = tipo=>{\n        switch (tipo) {\n            case 'categoria':\n                if(estadoFiltro.subcategoria==='' && estadoFiltro.marca===''){\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        categoria:'',\n                        filtrando:false\n                    });\n                    props.productosTraerTodos({desde:1,limiteDesktop:20,limiteMobile:10});\n                    if(props.location!='productos'){\n                        Router.push('/productos');\n                    }\n                }else{\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        categoria:''\n                    });\n                }\n                break;\n            case 'subcategoria':\n                if(estadoFiltro.categoria==='' && estadoFiltro.marca===''){\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        subcategoria:'',\n                        filtrando:false\n                    });\n                    props.productosTraerTodos({desde:1,limiteDesktop:20,limiteMobile:10});\n                    if(props.location!='productos'){\n                        Router.push('/productos');\n                    }\n                }else{\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        subcategoria:''\n                    });\n                }\n                break;\n            case 'marca':\n                if(estadoFiltro.categoria==='' && estadoFiltro.subcategoria==''){\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        marca:'',\n                        filtrando:false\n                    });\n                    props.productosTraerTodos({desde:1,limiteDesktop:20,limiteMobile:10});\n                    if(props.location!='productos'){\n                        Router.push('/productos');\n                    } \n                }else{\n                    setEstadoFiltro({\n                        ...estadoFiltro,\n                        marca:''\n                    });\n                }\n                break;\n            default:\n                setEstadoFiltro({\n                    filtrando:false,\n                    categoria:'',\n                    subcategoria:'',\n                    marca:'',\n                    buscador:''\n                });\n                props.productosTraerTodos({desde:1,limiteDesktop:20,limiteMobile:10});\n                if(props.location!='productos'){\n                    Router.push('/productos');\n                }\n            break;\n        }\n    }\n\n    const closeFiltrosMobile = ()=>{\n        document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n    }\n\n    const armarUrlFiltro = ()=>{\n        let url = '';\n        //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n        if(estadoFiltro.buscador!=='') return url += `buscar?busqueda=${estadoFiltro.buscador}`;\n        url += 'filtrar';\n        \n        if(estadoFiltro.categoria && estadoFiltro.categoria !== ''){\n            url += `?categoria=${estadoFiltro.categoria}`;\n        }\n        if(estadoFiltro.subcategoria && estadoFiltro.subcategoria !== ''){\n            if(estadoFiltro.categoria!== ''){\n                url += `&subcategoria=${estadoFiltro.subcategoria}`; \n            }else{\n                url += `?subcategoria=${estadoFiltro.subcategoria}`;\n            }\n        }\n        if(estadoFiltro.marca && estadoFiltro.marca !== ''){\n            if(estadoFiltro.categoria == '' && estadoFiltro.subcategoria == ''){\n                url += `?marca=${estadoFiltro.marca}`;\n            }else{\n                url += `&marca=${estadoFiltro.marca}`;\n            }\n        }\n        return url;\n    }\n\n    const showFiltros = ()=>{\n        let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n        element.classList.toggle(FiltroStyle.show);\n        document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n    }\n    const {filtrando,filtros} = props.productosReducer;\n    return (\n        <div className={FiltroStyle.filtros__contanier}>\n            <button className={FiltroStyle.btn_close_filtro} onClick={showFiltros}>\n                <FontAwesomeIcon id=\"iconFiltroContainer\" icon={faChevronRight}/>\n            </button>\n            <div>\n                {(props.categoriasReducer.categorias.length==0 || props.subcategoriaReducer.subcategorias.length==0 || props.marcasReducer.marcas.length==0)?<Loader/>:\n                    <>  \n                        {(filtrando)?<button className=\"boton bg-yellow mb-3\" onClick={limpiarFiltro}>\n                            <FontAwesomeIcon icon={faBroom}/> Limpiar Filtros\n                        </button>:null}\n\n                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.cerrar_filtro_mobile} onClick={closeFiltrosMobile}/>\n                        <h4 className={FiltroStyle.titulo_filtros}>Mascota</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.categoriasReducer.categorias.map(cat=>(\n                                    <li key={cat.idCategoria}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.categoria === cat.idCategoria ? 'active':''}`} name={`categoria-${cat.idCategoria}`} onClick={()=>activarFiltro('categoria',`${cat.idCategoria}`)}>\n                                            <span className=\"text-muted\">{cat.categoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('categoria')} id={`close-categoria-${cat.idCategoria}`}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Alimentos</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.subcategoriaReducer.subcategorias.map(sc=>(\n                                    <li key={sc.idSubCategoria}>\n                                        <div className={FiltroStyle.item_filtro} name={`subcategoria-${sc.idSubCategoria}`} onClick={()=>activarFiltro('subcategoria',`${sc.idSubCategoria}`)}>\n                                            <span className=\"text-muted\">{sc.subcategoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('subcategoria')} id={`close-${`subcategoria-${sc.idSubCategoria}`}`}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Marca</h4>\n                        <ul id=\"listaMarca\" className={FiltroStyle.sinBorderBottom+ ' ' + FiltroStyle.lista}>\n                            {\n                                props.marcasReducer.marcas.map((marca,key)=>(\n                                    (key>3)?false:\n                                    <li key={marca.idMarca}>\n                                        <div className={FiltroStyle.item_filtro} name={`marca-${marca.idMarca}`} onClick={()=>activarFiltro('marca',`${marca.idMarca}`)}>\n                                            <span className=\"text-muted\">{marca.marca}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('marca')} id={`close-marca-${marca.idMarca}`}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                        <button onClick={()=>setModalIsOpen(true)} className=\"boton bg-gris\">Ver todas</button>\n                    </>\n                }\n            </div>\n            {(!modalIsOpen)?null:\n                <Modal closeModal={onCloseModal}>\n                    <ModalMarca closeModal={onCloseModal} activarFiltro={activarFiltro}/>\n                </Modal>\n            }\n        </div>\n    );\n}\n\nconst mapStateToProps = ({marcasReducer,productosReducer,categoriasReducer,subcategoriaReducer})=>{\n    return {\n        marcasReducer,\n        productosReducer,\n        categoriasReducer,\n        subcategoriaReducer\n    };\n}\n\nconst mapDispatchToProps = {\n    marcasTraerTodas,\n    productosFiltrarProductos,\n    productosTraerTodos,\n    categoriasTraerTodas,\n    subcategoriaTraerTodas,\n    aplicarFiltro\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Filtro);"]},"metadata":{},"sourceType":"module"}