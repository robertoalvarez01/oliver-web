{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { connect } from 'react-redux';\nimport * as usuarioActions from '../../../store/actions/usuarioActions';\n\nvar FormModificarPw = function FormModificarPw(props) {\n  _s();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(null),\n      actionSuccess = _useState3[0],\n      setActionSuccess = _useState3[1];\n\n  var sendEmail = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _props$usuarioReducer, idUsuario, token, headers, request, dataRequest;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _props$usuarioReducer = props.usuarioReducer.usuario, idUsuario = _props$usuarioReducer.idUsuario, token = _props$usuarioReducer.token;\n              headers = new Headers();\n\n              if (token) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 4:\n              setLoading(true);\n              headers.append('token', token);\n              headers.append(\"Content-Type\", \"application/json\");\n              _context.next = 9;\n              return fetch(\"\".concat(API, \"resetPassword\"), {\n                method: 'POST',\n                headers: headers,\n                body: JSON.stringify({\n                  idUsuario: idUsuario\n                })\n              });\n\n            case 9:\n              request = _context.sent;\n\n              if (!(request.status != 200)) {\n                _context.next = 13;\n                break;\n              }\n\n              setLoading(false);\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 13:\n              _context.next = 15;\n              return request.json();\n\n            case 15:\n              dataRequest = _context.sent;\n              setLoading(false);\n\n              if (!dataRequest.ok) {\n                _context.next = 19;\n                break;\n              }\n\n              return _context.abrupt(\"return\", console.log(dataRequest));\n\n            case 19:\n              return _context.abrupt(\"return\", setError('Ups.. ha ocurrido un error.'));\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendEmail() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  console.log(props);\n  return __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"containerResetPass\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, error ? __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"alert alert-danger text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 51\n    }\n  }, error) : null), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"alert alert-info text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, actionSuccess ? actionSuccess : \"Estaremos enviando un email con los pasos para poder realizar el proceso de modificaci\\xF3n de contrase\\xF1a\"), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"col-12 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, loading ? __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 28\n    }\n  }) : __jsx(\"button\", {\n    onClick: sendEmail,\n    type: \"button\",\n    className: \"jsx-204570501\" + \" \" + \"boton bg-yellow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 38\n    }\n  }, \"Enviar email\")), __jsx(_JSXStyle, {\n    id: \"204570501\",\n    __self: _this\n  }, \".containerResetPass.jsx-204570501{font-family:'Quicksand',sans-serif!important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlDd0IsQUFHbUUsNkNBQ2xEIiwiZmlsZSI6Ii9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCAqICBhcyB1c3VhcmlvQWN0aW9ucyBmcm9tICcuLi8uLi8uLi9zdG9yZS9hY3Rpb25zL3VzdWFyaW9BY3Rpb25zJztcblxuY29uc3QgRm9ybU1vZGlmaWNhclB3ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2FjdGlvblN1Y2Nlc3MsIHNldEFjdGlvblN1Y2Nlc3NdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICBjb25zdCBzZW5kRW1haWwgPSBhc3luYyAoKT0+e1xuICAgICAgICBjb25zdCB7aWRVc3VhcmlvLHRva2VufSA9IHByb3BzLnVzdWFyaW9SZWR1Y2VyLnVzdWFyaW87XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgaWYoIXRva2VuKSByZXR1cm4gc2V0RXJyb3IoJ1Vwcy4uIGhhIG9jdXJyaWRvIHVuIGVycm9yLicpO1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZCgndG9rZW4nLHRva2VuKTtcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgZmV0Y2goYCR7QVBJfXJlc2V0UGFzc3dvcmRgLHtcbiAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTpKU09OLnN0cmluZ2lmeSh7aWRVc3VhcmlvfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHJlcXVlc3Quc3RhdHVzIT0yMDApe1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gc2V0RXJyb3IoJ1Vwcy4uIGhhIG9jdXJyaWRvIHVuIGVycm9yLicpOyAgIFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFSZXF1ZXN0ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBpZihkYXRhUmVxdWVzdC5vayl7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZGF0YVJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRFcnJvcignVXBzLi4gaGEgb2N1cnJpZG8gdW4gZXJyb3IuJyk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhwcm9wcyk7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJSZXNldFBhc3NcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57KGVycm9yKT88ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlciB0ZXh0LWNlbnRlclwiPntlcnJvcn08L2Rpdj46bnVsbH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtaW5mbyB0ZXh0LWNlbnRlclwiPnsoYWN0aW9uU3VjY2Vzcyk/YWN0aW9uU3VjY2VzczpgRXN0YXJlbW9zIGVudmlhbmRvIHVuIGVtYWlsIGNvbiBsb3MgcGFzb3MgcGFyYSBwb2RlciByZWFsaXphciBlbCBwcm9jZXNvIGRlIG1vZGlmaWNhY2nDs24gZGUgY29udHJhc2XDsWFgfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7KGxvYWRpbmcpPzxMb2FkZXIvPjo8YnV0dG9uIG9uQ2xpY2s9e3NlbmRFbWFpbH0gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJvdG9uIGJnLXllbGxvd1wiPkVudmlhciBlbWFpbDwvYnV0dG9uPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgICAgICAgIC5jb250YWluZXJSZXNldFBhc3N7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUXVpY2tzYW5kJywgc2Fucy1zZXJpZiFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoe3VzdWFyaW9SZWR1Y2VyfSk9PntcbiAgICByZXR1cm4ge3VzdWFyaW9SZWR1Y2VyfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcyx1c3VhcmlvQWN0aW9ucykoRm9ybU1vZGlmaWNhclB3KTsiXX0= */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js */\"));\n};\n\n_s(FormModificarPw, \"dN94oop7ngzAR5GVNB5GDD5W8yc=\");\n\n_c = FormModificarPw;\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var usuarioReducer = _ref2.usuarioReducer;\n  return {\n    usuarioReducer: usuarioReducer\n  };\n};\n\nexport default connect(mapStateToProps, usuarioActions)(FormModificarPw);\n\nvar _c;\n\n$RefreshReg$(_c, \"FormModificarPw\");","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js"],"names":["useState","connect","usuarioActions","FormModificarPw","props","loading","setLoading","error","setError","actionSuccess","setActionSuccess","sendEmail","usuarioReducer","usuario","idUsuario","token","headers","Headers","append","fetch","API","method","body","JSON","stringify","request","status","json","dataRequest","ok","console","log","mapStateToProps"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport {connect} from 'react-redux';\nimport *  as usuarioActions from '../../../store/actions/usuarioActions';\n\nconst FormModificarPw = (props) => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [actionSuccess, setActionSuccess] = useState(null);\n\n    const sendEmail = async ()=>{\n        const {idUsuario,token} = props.usuarioReducer.usuario;\n        let headers = new Headers();\n        if(!token) return setError('Ups.. ha ocurrido un error.');\n        setLoading(true);\n        headers.append('token',token);\n        headers.append(\"Content-Type\", \"application/json\");\n        const request = await fetch(`${API}resetPassword`,{\n            method:'POST',\n            headers,\n            body:JSON.stringify({idUsuario})\n        });\n        if(request.status!=200){\n            setLoading(false);\n            return setError('Ups.. ha ocurrido un error.');   \n        }\n        const dataRequest = await request.json();\n        setLoading(false);\n        if(dataRequest.ok){\n            return console.log(dataRequest);\n        }\n        return setError('Ups.. ha ocurrido un error.');\n    };\n    \n    console.log(props);\n    return (\n        <div className=\"containerResetPass\">\n            <div className=\"text-center\">{(error)?<div className=\"alert alert-danger text-center\">{error}</div>:null}</div>\n            <div className=\"alert alert-info text-center\">{(actionSuccess)?actionSuccess:`Estaremos enviando un email con los pasos para poder realizar el proceso de modificación de contraseña`}</div>\n            <div className=\"col-12 text-center\">\n                {(loading)?<Loader/>:<button onClick={sendEmail} type=\"button\" className=\"boton bg-yellow\">Enviar email</button>}\n            </div>\n            <style jsx>{`\n                .containerResetPass{\n                    font-family: 'Quicksand', sans-serif!important;\n                }\n            `}</style>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({usuarioReducer})=>{\n    return {usuarioReducer}\n}\n\nexport default connect(mapStateToProps,usuarioActions)(FormModificarPw);"]},"metadata":{},"sourceType":"module"}