{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { ObtenerDia } from '../../../helpers/index';\nimport { connect } from 'react-redux';\nimport * as ventasActions from '../../../store/actions/ventasActions';\nimport * as zonaActions from '../../../store/actions/zonasActions';\nconst {\n  traerTodas: traerZonas,\n  seleccionar: seleccionarZona\n} = zonaActions;\nconst {\n  setCostoEnvio\n} = ventasActions;\n\nconst ZonaEnvio = props => {\n  const {\n    0: zonaDelDia,\n    1: setZonaDelDia\n  } = useState('');\n  const {\n    zonas\n  } = props.zonasReducer;\n  useEffect(() => {\n    props.traerZonas();\n  }, []);\n  useEffect(() => {\n    if (zonas.length > 0) {\n      verificarZonaDelDia(zonas);\n    }\n  }, [zonas]);\n\n  const handleChange = event => {\n    event.persist();\n    props.seleccionarZona(event.target.value); //ejecutar funcion para modificar el state de ventasReducer con el monto del envio adecuado.\n\n    props.setCostoEnvio();\n  };\n\n  const verificarZonaDelDia = zonas => {\n    let diaHoy = ObtenerDia(new Date().getDay());\n    let zonasDeHoy = zonas.filter(res => res.dia.includes(`${diaHoy}`));\n\n    if (zonasDeHoy.length > 0) {\n      if (zonasDeHoy.length == 1) {\n        return setZonaDelDia(zonasDeHoy[0].zona);\n      }\n\n      let tempzonas = '';\n      zonasDeHoy.map((zona, key) => {\n        if (key + 1 == zonasDeHoy.length) {\n          tempzonas += zona.zona;\n          return;\n        }\n\n        ;\n        tempzonas += `${zona.zona} - `;\n      });\n      setZonaDelDia(tempzonas);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zona-envios pt-4\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"zonaDiaContainer\"\n  }, __jsx(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    className: \"jsx-2969453918\" + \" \" + \"d-block\"\n  }, \"Zona de env\\xEDos de hoy:\"), __jsx(\"span\", {\n    id: \"zonaActiva\",\n    className: \"jsx-2969453918\"\n  }, zonaDelDia)), __jsx(\"div\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-zona\"\n  }, __jsx(\"form\", {\n    className: \"jsx-2969453918\" + \" \" + \"form-group\"\n  }, __jsx(\"label\", {\n    className: \"jsx-2969453918\"\n  }, \"Seleccione la zona que corresponde con su direcci\\xF3n\"), __jsx(\"select\", {\n    name: \"zona\",\n    onChange: handleChange,\n    id: \"form-zona-envio\",\n    className: \"jsx-2969453918\" + \" \" + \"form-control\"\n  }, __jsx(\"option\", {\n    value: \"\",\n    className: \"jsx-2969453918\"\n  }, \"Seleccione una zona\"), zonas.map(zona => __jsx(\"option\", {\n    key: zona.idZona,\n    value: zona.idZona,\n    className: \"jsx-2969453918\"\n  }, zona.zona, \" (\", zona.dia, \")\"))))), __jsx(_JSXStyle, {\n    id: \"2969453918\"\n  }, [\".zona-envios.jsx-2969453918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".zonaDiaContainer.jsx-2969453918{text-align:center;padding:5px 10px;background-color:#2e9231;color:white;border-radius:5px;font-family:'Quicksand',sans-serif;width:44%;}\", \"#zonaActiva.jsx-2969453918{text-transform:uppercase;font-size:18px;}\", \"label.jsx-2969453918,select.jsx-2969453918{font-family:'Quicksand',sans-serif;}\", \"@media(max-width:768px){.zona-envios.jsx-2969453918{display:block;}.zonaDiaContainer.jsx-2969453918{margin-bottom:10px;width:100%;}}\"]));\n};\n\nconst mapStateToProps = ({\n  carritoReducer,\n  zonasReducer\n}) => {\n  return {\n    carritoReducer,\n    zonasReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  traerZonas,\n  seleccionarZona,\n  setCostoEnvio\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ZonaEnvio);","map":null,"metadata":{},"sourceType":"module"}