{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\franc\\\\Documents\\\\oliver-sitio\\\\src\\\\components\\\\Filtro\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport Modal from '../Modal';\nimport ModalMarca from '../ModalMarca';\nimport { faTimes, faBroom, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as subproductosActions from '../../../store/actions/subproductosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\nvar marcasTraerTodas = marcasActions.traerTodas;\nvar subproductosFiltrarProductos = subproductosActions.filtrarProductos;\nvar categoriasTraerTodas = categoriasActions.traerTodas;\nvar subcategoriaTraerTodas = subcategoriasActions.traerTodas;\n\nvar Filtro = function Filtro(props) {\n  _s();\n\n  //state for the filters\n  var _useState = useState({\n    filtrando: false,\n    mascota: '',\n    subcategoria: '',\n    marca: '',\n    buscador: ''\n  }),\n      estadoFiltro = _useState[0],\n      setEstadoFiltro = _useState[1]; //manejo de Modal marcas\n\n\n  var _useState2 = useState(false),\n      modalIsOpen = _useState2[0],\n      setModalIsOpen = _useState2[1];\n\n  var onCloseModal = function onCloseModal() {\n    document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\n    setModalIsOpen(false);\n  }; //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(props.marcasReducer.marcas.length === 0)) {\n                _context.next = 3;\n                break;\n              }\n\n              _context.next = 3;\n              return props.marcasTraerTodas();\n\n            case 3:\n              if (!(props.categoriasReducer.categorias.length === 0)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 6;\n              return props.categoriasTraerTodas();\n\n            case 6:\n              if (!(props.subcategoriaReducer.subcategorias.length === 0)) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return props.subcategoriaTraerTodas();\n\n            case 9:\n              if (props.location !== '/productos') {\n                console.log('activar filtro por url');\n                console.log(props.query);\n                activarFiltroPorUrl();\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\n\n\n  useEffect(function () {\n    switchItemActive();\n  }, [estadoFiltro]); // const formatearString = string=>{\n  //     let newString = string.replace(\"-\",\" \").toLowerCase();\n  //     return newString;\n  // }\n\n  var activarFiltroPorUrl = function activarFiltroPorUrl() {\n    switch (props.query.type) {\n      case 'categoria':\n        return activarFiltro('mascota', 'perro');\n\n      case 'subcategoria':\n        return activarFiltro('subcategoria', props.query.index[1]);\n\n      case 'marca':\n        return activarFiltro('marca', 'sabrositos');\n      // case '/productos/search/:query':\n      //     const {match:{params:{query}}} = props.location;\n      //     return activarFiltro('buscador',query);\n\n      default:\n        break;\n    }\n  };\n\n  var activarFiltro = function activarFiltro(tipoFiltro, nameItem) {\n    switch (tipoFiltro) {\n      case 'mascota':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          mascota: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'subcategoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          subcategoria: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'marca':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          marca: nameItem,\n          buscador: '',\n          filtrando: true\n        }));\n        break;\n\n      case 'buscador':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          buscador: nameItem,\n          filtrando: true\n        }));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var switchItemActive = function switchItemActive() {\n    // console.log(estadoFiltro);\n    for (var index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\n      var element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\n      element.classList.remove(FiltroStyle.active);\n      document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\n    }\n\n    ; //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\n\n    if (estadoFiltro.buscador.trim() === '') {\n      //recorro el state para obtener las claves y agregar active el elemento correspondiente\n      for (var key in estadoFiltro) {\n        console.log(estadoFiltro[key]);\n\n        if (estadoFiltro[key] && estadoFiltro[key] !== '' && estadoFiltro[key] !== true) {\n          if (document.getElementsByName(\"subcategoria-\".concat(estadoFiltro[key]))[0]) {\n            //pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\n            document.getElementsByName(\"subcategoria-\".concat(estadoFiltro[key]))[0].classList.add(FiltroStyle.active);\n            document.getElementById(\"close-subcategoria-\".concat(estadoFiltro[key])).classList.remove('d-none');\n          } else {//creo los elementos del item\n            // let newItemMarca = document.createElement('li');\n            // let divItemMarca = document.createElement('div');\n            // let spanItemMarca = document.createElement('span');\n            // let iconClose = document.createElement('svg');\n            // let pathIconClose = document.createElement('path');\n            // //asigno las clases, atributos y eventos necesarios.\n            // divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\n            // divItemMarca.setAttribute('name',`${estadoFiltro.marca}`);\n            // divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\n            // spanItemMarca.className = 'text-muted';\n            // spanItemMarca.innerHTML = estadoFiltro.marca;\n            // iconClose.setAttribute('aria-hidden',true);\n            // iconClose.setAttribute('focusable',false);\n            // iconClose.setAttribute('data-prefix','fas');\n            // iconClose.setAttribute('data-icon','times');\n            // iconClose.setAttribute('role','img');\n            // iconClose.setAttribute('xmlns','http://www.w3.org/2000/svg');\n            // iconClose.setAttribute('viewBox','0 0 352 512');\n            // iconClose.className = `svg-inline--fa fa-times fa-w-11 ${FiltroStyle.icon_close_filtro}`;\n            // iconClose.setAttribute('id',`close-${estadoFiltro.marca}`);\n            // iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\n            // pathIconClose.setAttribute('fill','currentColor');\n            // pathIconClose.setAttribute('d','M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z');\n            // iconClose.appendChild(pathIconClose);\n            // //voy ubicando los elementos dentro de cada padre\n            // divItemMarca.appendChild(spanItemMarca);\n            // newItemMarca.appendChild(divItemMarca);\n            // newItemMarca.appendChild(iconClose);\n            // //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\n            // let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\n            // let listaMarcas = document.querySelector(`#listaMarca`);\n            // listaMarcas.removeChild(firstItemMarca);\n            // //ahora agrego el item creado a la lista\n            // listaMarcas.appendChild(newItemMarca);\n          }\n        }\n      }\n    } //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\n\n\n    if (estadoFiltro.filtrando) {\n      var urlFiltro = armarUrlFiltro(); //armo la url que mando a la api para traer los resultados de lo filtrado.\n\n      props.subproductosFiltrarProductos(urlFiltro);\n    }\n\n    ;\n  };\n\n  var limpiarFiltro = function limpiarFiltro(tipo) {\n    switch (tipo) {\n      case 'mascota':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          mascota: ''\n        }));\n        break;\n\n      case 'subcategoria':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          subcategoria: ''\n        }));\n        break;\n\n      case 'marca':\n        setEstadoFiltro(_objectSpread(_objectSpread({}, estadoFiltro), {}, {\n          marca: ''\n        }));\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var closeFiltrosMobile = function closeFiltrosMobile() {\n    document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n  };\n\n  var armarUrlFiltro = function armarUrlFiltro() {\n    var url = 'filtrar'; //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\n\n    if (estadoFiltro.buscador !== '') return url += \"?buscar=\".concat(estadoFiltro.buscador);\n    var mascota = estadoFiltro.mascota,\n        subcategoria = estadoFiltro.subcategoria,\n        marca = estadoFiltro.marca;\n\n    if (mascota && mascota !== '') {\n      url += \"?mascota=\".concat(estadoFiltro.mascota);\n    }\n\n    if (estadoFiltro.subcategoria && estadoFiltro.subcategoria !== '') {\n      if (mascota !== '') {\n        url += \"&subcategoria=\".concat(estadoFiltro.subcategoria);\n      } else {\n        url += \"?subcategoria=\".concat(estadoFiltro.subcategoria);\n      }\n    }\n\n    if (marca && marca !== '') {\n      if (mascota !== '' && subcategoria !== '') {\n        url += \"?marca=\".concat(estadoFiltro.marca);\n      } else {\n        url += \"&marca=\".concat(estadoFiltro.marca);\n      }\n    }\n\n    return url;\n  };\n\n  var showFiltros = function showFiltros() {\n    var element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n    element.classList.toggle(FiltroStyle.show);\n    document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n  }; //console.log(props);\n\n\n  return __jsx(\"div\", {\n    className: FiltroStyle.filtros__contanier,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: FiltroStyle.btn_close_filtro,\n    onClick: showFiltros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, __jsx(FontAwesomeIcon, {\n    id: \"iconFiltroContainer\",\n    icon: faChevronRight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }, props.categoriasReducer.categorias.length == 0 || props.subcategoriaReducer.subcategorias.length == 0 || props.marcasReducer.marcas.length == 0 ? __jsx(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 158\n    }\n  }) : __jsx(React.Fragment, null, estadoFiltro.filtrando ? __jsx(\"button\", {\n    className: \"boton bg-yellow mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 51\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBroom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 29\n    }\n  }), \" Limpiar Filtros\") : null, __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.cerrar_filtro_mobile,\n    onClick: closeFiltrosMobile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 25\n    }\n  }), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }, \"Mascota\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 25\n    }\n  }, props.categoriasReducer.categorias.map(function (cat) {\n    return __jsx(\"li\", {\n      key: cat.idCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: cat.categoria.toLowerCase(),\n      onClick: function onClick() {\n        return activarFiltro('mascota', \"\".concat(cat.categoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 45\n      }\n    }, cat.categoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('mascota');\n      },\n      id: \"close-\".concat(cat.categoria.toLowerCase()),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }, \"Alimentos\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 25\n    }\n  }, props.subcategoriaReducer.subcategorias.map(function (sc) {\n    return __jsx(\"li\", {\n      key: sc.idSubCategoria,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: \"subcategoria-\".concat(sc.idSubCategoria),\n      onClick: function onClick() {\n        return activarFiltro('subcategoria', \"\".concat(sc.subcategoria));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 45\n      }\n    }, sc.subcategoria)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('subcategoria');\n      },\n      id: \"close-\".concat(\"subcategoria-\".concat(sc.idSubCategoria)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 25\n    }\n  }, \"Marca\"), __jsx(\"ul\", {\n    id: \"listaMarca\",\n    className: FiltroStyle.sinBorderBottom + ' ' + FiltroStyle.lista,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 25\n    }\n  }, props.marcasReducer.marcas.map(function (marca, key) {\n    return key > 3 ? false : __jsx(\"li\", {\n      key: marca.idMarca,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: FiltroStyle.item_filtro,\n      name: marca.marca.toLowerCase(),\n      onClick: function onClick() {\n        return activarFiltro('marca', \"\".concat(marca.marca));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 41\n      }\n    }, __jsx(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 45\n      }\n    }, marca.marca)), __jsx(FontAwesomeIcon, {\n      icon: faTimes,\n      className: FiltroStyle.icon_close_filtro + ' ' + \"d-none\",\n      onClick: function onClick() {\n        return limpiarFiltro('marca');\n      },\n      id: \"close-\".concat(marca.marca.toLowerCase()),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 41\n      }\n    }));\n  })), __jsx(\"button\", {\n    onClick: function onClick() {\n      return setModalIsOpen(true);\n    },\n    className: \"boton bg-gris\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 25\n    }\n  }, \"Ver todas\"))), !modalIsOpen ? null : __jsx(Modal, {\n    closeModal: onCloseModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 17\n    }\n  }, __jsx(ModalMarca, {\n    closeModal: onCloseModal,\n    activarFiltro: activarFiltro,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(Filtro, \"G8zzx24AHdSBz1LSelpETG9rBn4=\");\n\n_c = Filtro;\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var marcasReducer = _ref2.marcasReducer,\n      subproductosReducer = _ref2.subproductosReducer,\n      categoriasReducer = _ref2.categoriasReducer,\n      subcategoriaReducer = _ref2.subcategoriaReducer;\n  return {\n    marcasReducer: marcasReducer,\n    subproductosReducer: subproductosReducer,\n    categoriasReducer: categoriasReducer,\n    subcategoriaReducer: subcategoriaReducer\n  };\n};\n\nvar mapDispatchToProps = {\n  marcasTraerTodas: marcasTraerTodas,\n  subproductosFiltrarProductos: subproductosFiltrarProductos,\n  categoriasTraerTodas: categoriasTraerTodas,\n  subcategoriaTraerTodas: subcategoriaTraerTodas\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filtro);\n\nvar _c;\n\n$RefreshReg$(_c, \"Filtro\");","map":{"version":3,"sources":["C:/Users/franc/Documents/oliver-sitio/src/components/Filtro/index.js"],"names":["React","useState","useEffect","FiltroStyle","Modal","ModalMarca","faTimes","faBroom","faChevronRight","FontAwesomeIcon","connect","subproductosActions","marcasActions","categoriasActions","subcategoriasActions","Loader","marcasTraerTodas","traerTodas","subproductosFiltrarProductos","filtrarProductos","categoriasTraerTodas","subcategoriaTraerTodas","Filtro","props","filtrando","mascota","subcategoria","marca","buscador","estadoFiltro","setEstadoFiltro","modalIsOpen","setModalIsOpen","onCloseModal","document","getElementsByTagName","style","overflowY","getData","marcasReducer","marcas","length","categoriasReducer","categorias","subcategoriaReducer","subcategorias","location","console","log","query","activarFiltroPorUrl","switchItemActive","type","activarFiltro","index","tipoFiltro","nameItem","getElementsByClassName","item_filtro","element","classList","remove","active","icon_close_filtro","add","trim","key","getElementsByName","getElementById","urlFiltro","armarUrlFiltro","limpiarFiltro","tipo","closeFiltrosMobile","filtros__contanier","show_filtros","url","showFiltros","toggle","show","rotar","btn_close_filtro","cerrar_filtro_mobile","titulo_filtros","lista","map","cat","idCategoria","categoria","toLowerCase","sc","idSubCategoria","sinBorderBottom","idMarca","mapStateToProps","subproductosReducer","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,SAASC,OAAT,EAAiBC,OAAjB,EAAyBC,cAAzB,QAA+C,mCAA/C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,mBAAZ,MAAqC,4CAArC;AACA,OAAO,KAAKC,aAAZ,MAA+B,sCAA/B;AACA,OAAO,KAAKC,iBAAZ,MAAmC,yCAAnC;AACA,OAAO,KAAKC,oBAAZ,MAAsC,4CAAtC;AACA,OAAOC,MAAP,MAAmB,WAAnB;IAEkBC,gB,GAAoBJ,a,CAA/BK,U;IACiBC,4B,GAAgCP,mB,CAAjDQ,gB;IACWC,oB,GAAwBP,iB,CAAnCI,U;IACWI,sB,GAA0BP,oB,CAArCG,U;;AAEP,IAAMK,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AAAA;;AAEtB;AAFsB,kBAGkBtB,QAAQ,CAAC;AAC7CuB,IAAAA,SAAS,EAAC,KADmC;AAE7CC,IAAAA,OAAO,EAAC,EAFqC;AAG7CC,IAAAA,YAAY,EAAC,EAHgC;AAI7CC,IAAAA,KAAK,EAAC,EAJuC;AAK7CC,IAAAA,QAAQ,EAAC;AALoC,GAAD,CAH1B;AAAA,MAGfC,YAHe;AAAA,MAGDC,eAHC,iBAWtB;;;AAXsB,mBAYgB7B,QAAQ,CAAC,KAAD,CAZxB;AAAA,MAYf8B,WAZe;AAAA,MAYFC,cAZE;;AAatB,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAI;AACrBC,IAAAA,QAAQ,CAACC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,KAAzC,CAA+CC,SAA/C,GAA2D,QAA3D;AACAL,IAAAA,cAAc,CAAC,KAAD,CAAd;AACH,GAHD,CAbsB,CAkBtB;;;AACA9B,EAAAA,SAAS,CAAC,YAAM;AACZoC,IAAAA,OAAO;AACV,GAFQ,EAEP,EAFO,CAAT;;AAIA,MAAMA,OAAO;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA,oBACTf,KAAK,CAACgB,aAAN,CAAoBC,MAApB,CAA2BC,MAA3B,KAAoC,CAD3B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEFlB,KAAK,CAACP,gBAAN,EAFE;;AAAA;AAAA,oBAITO,KAAK,CAACmB,iBAAN,CAAwBC,UAAxB,CAAmCF,MAAnC,KAA4C,CAJnC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAKFlB,KAAK,CAACH,oBAAN,EALE;;AAAA;AAAA,oBAOTG,KAAK,CAACqB,mBAAN,CAA0BC,aAA1B,CAAwCJ,MAAxC,KAAiD,CAPxC;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAQFlB,KAAK,CAACF,sBAAN,EARE;;AAAA;AAUZ,kBAAGE,KAAK,CAACuB,QAAN,KAAmB,YAAtB,EAAmC;AAC/BC,gBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAYzB,KAAK,CAAC0B,KAAlB;AACAC,gBAAAA,mBAAmB;AACtB;;AAdW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPZ,OAAO;AAAA;AAAA;AAAA,KAAb,CAvBsB,CAwCtB;;;AACApC,EAAAA,SAAS,CAAC,YAAM;AACZiD,IAAAA,gBAAgB;AACnB,GAFQ,EAEN,CAACtB,YAAD,CAFM,CAAT,CAzCsB,CA6CtB;AACA;AACA;AACA;;AAEA,MAAMqB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAI;AAC5B,YAAQ3B,KAAK,CAAC0B,KAAN,CAAYG,IAApB;AACI,WAAK,WAAL;AACI,eAAOC,aAAa,CAAC,SAAD,EAAW,OAAX,CAApB;;AACJ,WAAK,cAAL;AACI,eAAOA,aAAa,CAAC,cAAD,EAAgB9B,KAAK,CAAC0B,KAAN,CAAYK,KAAZ,CAAkB,CAAlB,CAAhB,CAApB;;AACJ,WAAK,OAAL;AACI,eAAOD,aAAa,CAAC,OAAD,EAAS,YAAT,CAApB;AACJ;AACA;AACA;;AACA;AACI;AAXR;AAaH,GAdD;;AAgBA,MAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACE,UAAD,EAAYC,QAAZ,EAAuB;AACzC,YAAQD,UAAR;AACI,WAAK,SAAL;AACIzB,QAAAA,eAAe,iCACRD,YADQ;AAEXJ,UAAAA,OAAO,EAAC+B,QAFG;AAGX5B,UAAAA,QAAQ,EAAC,EAHE;AAIXJ,UAAAA,SAAS,EAAC;AAJC,WAAf;AAMA;;AACJ,WAAK,cAAL;AACIM,QAAAA,eAAe,iCACRD,YADQ;AAEXH,UAAAA,YAAY,EAAC8B,QAFF;AAGX5B,UAAAA,QAAQ,EAAC,EAHE;AAIXJ,UAAAA,SAAS,EAAC;AAJC,WAAf;AAMA;;AACJ,WAAK,OAAL;AACIM,QAAAA,eAAe,iCACRD,YADQ;AAEXF,UAAAA,KAAK,EAAC6B,QAFK;AAGX5B,UAAAA,QAAQ,EAAC,EAHE;AAIXJ,UAAAA,SAAS,EAAC;AAJC,WAAf;AAMA;;AACJ,WAAK,UAAL;AACIM,QAAAA,eAAe,iCACRD,YADQ;AAEXD,UAAAA,QAAQ,EAAC4B,QAFE;AAGXhC,UAAAA,SAAS,EAAC;AAHC,WAAf;AAKA;;AACJ;AACI;AAjCR;AAmCH,GApCD;;AAsCA,MAAM2B,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAI;AACzB;AAEA,SAAK,IAAIG,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGpB,QAAQ,CAACuB,sBAAT,CAAgCtD,WAAW,CAACuD,WAA5C,EAAyDjB,MAArF,EAA6Fa,KAAK,EAAlG,EAAsG;AAClG,UAAMK,OAAO,GAAGzB,QAAQ,CAACuB,sBAAT,CAAgCtD,WAAW,CAACuD,WAA5C,EAAyDJ,KAAzD,CAAhB;AACAK,MAAAA,OAAO,CAACC,SAAR,CAAkBC,MAAlB,CAAyB1D,WAAW,CAAC2D,MAArC;AACA5B,MAAAA,QAAQ,CAACuB,sBAAT,CAAgCtD,WAAW,CAAC4D,iBAA5C,EAA+DT,KAA/D,EAAsEM,SAAtE,CAAgFI,GAAhF,CAAoF,QAApF;AACH;;AAAA,KAPwB,CASzB;;AACA,QAAGnC,YAAY,CAACD,QAAb,CAAsBqC,IAAtB,OAA+B,EAAlC,EAAqC;AACjC;AACA,WAAK,IAAMC,GAAX,IAAkBrC,YAAlB,EAAgC;AAC5BkB,QAAAA,OAAO,CAACC,GAAR,CAAYnB,YAAY,CAACqC,GAAD,CAAxB;;AACA,YAAGrC,YAAY,CAACqC,GAAD,CAAZ,IAAqBrC,YAAY,CAACqC,GAAD,CAAZ,KAAoB,EAAzC,IAA+CrC,YAAY,CAACqC,GAAD,CAAZ,KAAoB,IAAtE,EAA2E;AACvE,cAAGhC,QAAQ,CAACiC,iBAAT,wBAA2CtC,YAAY,CAACqC,GAAD,CAAvD,GAAgE,CAAhE,CAAH,EAAsE;AAAC;AACnEhC,YAAAA,QAAQ,CAACiC,iBAAT,wBAA2CtC,YAAY,CAACqC,GAAD,CAAvD,GAAgE,CAAhE,EAAmEN,SAAnE,CAA6EI,GAA7E,CAAiF7D,WAAW,CAAC2D,MAA7F;AACA5B,YAAAA,QAAQ,CAACkC,cAAT,8BAA8CvC,YAAY,CAACqC,GAAD,CAA1D,GAAmEN,SAAnE,CAA6EC,MAA7E,CAAoF,QAApF;AACH,WAHD,MAGK,CACD;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ;AACJ;AACJ,KAjEwB,CAkEzB;;;AACA,QAAGhC,YAAY,CAACL,SAAhB,EAA0B;AACtB,UAAI6C,SAAS,GAAGC,cAAc,EAA9B,CADsB,CACW;;AACjC/C,MAAAA,KAAK,CAACL,4BAAN,CAAmCmD,SAAnC;AACH;;AAAA;AACJ,GAvED;;AAyEA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI,EAAE;AACxB,YAAQA,IAAR;AACI,WAAK,SAAL;AACI1C,QAAAA,eAAe,iCACRD,YADQ;AAEXJ,UAAAA,OAAO,EAAC;AAFG,WAAf;AAIA;;AACJ,WAAK,cAAL;AACIK,QAAAA,eAAe,iCACRD,YADQ;AAEXH,UAAAA,YAAY,EAAC;AAFF,WAAf;AAIA;;AACJ,WAAK,OAAL;AACII,QAAAA,eAAe,iCACRD,YADQ;AAEXF,UAAAA,KAAK,EAAC;AAFK,WAAf;AAIA;;AACJ;AACI;AApBR;AAsBH,GAvBD;;AAyBA,MAAM8C,kBAAkB,GAAG,SAArBA,kBAAqB,GAAI;AAC3BvC,IAAAA,QAAQ,CAACuB,sBAAT,CAAgCtD,WAAW,CAACuE,kBAA5C,EAAgE,CAAhE,EAAmEd,SAAnE,CAA6EC,MAA7E,CAAoF1D,WAAW,CAACwE,YAAhG;AACH,GAFD;;AAIA,MAAML,cAAc,GAAG,SAAjBA,cAAiB,GAAI;AACvB,QAAIM,GAAG,GAAG,SAAV,CADuB,CAEvB;;AACA,QAAG/C,YAAY,CAACD,QAAb,KAAwB,EAA3B,EAA+B,OAAOgD,GAAG,sBAAe/C,YAAY,CAACD,QAA5B,CAAV;AAE/B,QAAIH,OAAO,GAAGI,YAAY,CAACJ,OAA3B;AAAA,QACIC,YAAY,GAAGG,YAAY,CAACH,YADhC;AAAA,QAEIC,KAAK,GAAGE,YAAY,CAACF,KAFzB;;AAGA,QAAGF,OAAO,IAAIA,OAAO,KAAK,EAA1B,EAA6B;AACzBmD,MAAAA,GAAG,uBAAgB/C,YAAY,CAACJ,OAA7B,CAAH;AACH;;AACD,QAAGI,YAAY,CAACH,YAAb,IAA6BG,YAAY,CAACH,YAAb,KAA8B,EAA9D,EAAiE;AAC7D,UAAGD,OAAO,KAAI,EAAd,EAAiB;AACbmD,QAAAA,GAAG,4BAAqB/C,YAAY,CAACH,YAAlC,CAAH;AACH,OAFD,MAEK;AACDkD,QAAAA,GAAG,4BAAqB/C,YAAY,CAACH,YAAlC,CAAH;AACH;AACJ;;AACD,QAAGC,KAAK,IAAIA,KAAK,KAAK,EAAtB,EAAyB;AACrB,UAAGF,OAAO,KAAK,EAAZ,IAAkBC,YAAY,KAAK,EAAtC,EAAyC;AACrCkD,QAAAA,GAAG,qBAAc/C,YAAY,CAACF,KAA3B,CAAH;AACH,OAFD,MAEK;AACDiD,QAAAA,GAAG,qBAAc/C,YAAY,CAACF,KAA3B,CAAH;AACH;AACJ;;AACD,WAAOiD,GAAP;AACH,GA1BD;;AA4BA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAI;AACpB,QAAIlB,OAAO,GAAGzB,QAAQ,CAACuB,sBAAT,CAAgCtD,WAAW,CAACuE,kBAA5C,EAAgE,CAAhE,CAAd;AACAf,IAAAA,OAAO,CAACC,SAAR,CAAkBkB,MAAlB,CAAyB3E,WAAW,CAAC4E,IAArC;AACA7C,IAAAA,QAAQ,CAACkC,cAAT,CAAwB,qBAAxB,EAA+CR,SAA/C,CAAyDkB,MAAzD,CAAgE3E,WAAW,CAAC6E,KAA5E;AACH,GAJD,CA1OsB,CAgPtB;;;AACA,SACI;AAAK,IAAA,SAAS,EAAE7E,WAAW,CAACuE,kBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAEvE,WAAW,CAAC8E,gBAA/B;AAAiD,IAAA,OAAO,EAAEJ,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,eAAD;AAAiB,IAAA,EAAE,EAAC,qBAApB;AAA0C,IAAA,IAAI,EAAErE,cAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMe,KAAK,CAACmB,iBAAN,CAAwBC,UAAxB,CAAmCF,MAAnC,IAA2C,CAA3C,IAAgDlB,KAAK,CAACqB,mBAAN,CAA0BC,aAA1B,CAAwCJ,MAAxC,IAAgD,CAAhG,IAAqGlB,KAAK,CAACgB,aAAN,CAAoBC,MAApB,CAA2BC,MAA3B,IAAmC,CAAzI,GAA4I,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5I,GACG,4BACMZ,YAAY,CAACL,SAAd,GAAyB;AAAQ,IAAA,SAAS,EAAC,sBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACtB,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAEjB,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADsB,qBAAzB,GAES,IAHd,EAII,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAED,OAAvB;AAAgC,IAAA,SAAS,EAAEH,WAAW,CAAC+E,oBAAvD;AAA6E,IAAA,OAAO,EAAET,kBAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAI,IAAA,SAAS,EAAEtE,WAAW,CAACgF,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALJ,EAMI;AAAI,IAAA,SAAS,EAAEhF,WAAW,CAACiF,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ7D,KAAK,CAACmB,iBAAN,CAAwBC,UAAxB,CAAmC0C,GAAnC,CAAuC,UAAAC,GAAG;AAAA,WACtC;AAAI,MAAA,GAAG,EAAEA,GAAG,CAACC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAEpF,WAAW,CAACuD,WAA5B;AAAyC,MAAA,IAAI,EAAE4B,GAAG,CAACE,SAAJ,CAAcC,WAAd,EAA/C;AAA4E,MAAA,OAAO,EAAE;AAAA,eAAIpC,aAAa,CAAC,SAAD,YAAciC,GAAG,CAACE,SAAlB,EAAjB;AAAA,OAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BF,GAAG,CAACE,SAAlC,CADJ,CADJ,EAII,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAElF,OAAvB;AAAgC,MAAA,SAAS,EAAEH,WAAW,CAAC4D,iBAAZ,GAAgC,GAAhC,WAA3C;AAA2F,MAAA,OAAO,EAAE;AAAA,eAAIQ,aAAa,CAAC,SAAD,CAAjB;AAAA,OAApG;AAAkI,MAAA,EAAE,kBAAWe,GAAG,CAACE,SAAJ,CAAcC,WAAd,EAAX,CAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADsC;AAAA,GAA1C,CAFR,CANJ,EAmBI;AAAI,IAAA,SAAS,EAAEtF,WAAW,CAACgF,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAnBJ,EAoBI;AAAI,IAAA,SAAS,EAAEhF,WAAW,CAACiF,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ7D,KAAK,CAACqB,mBAAN,CAA0BC,aAA1B,CAAwCwC,GAAxC,CAA4C,UAAAK,EAAE;AAAA,WAC1C;AAAI,MAAA,GAAG,EAAEA,EAAE,CAACC,cAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAExF,WAAW,CAACuD,WAA5B;AAAyC,MAAA,IAAI,yBAAkBgC,EAAE,CAACC,cAArB,CAA7C;AAAoF,MAAA,OAAO,EAAE;AAAA,eAAItC,aAAa,CAAC,cAAD,YAAmBqC,EAAE,CAAChE,YAAtB,EAAjB;AAAA,OAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BgE,EAAE,CAAChE,YAAjC,CADJ,CADJ,EAII,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAEpB,OAAvB;AAAgC,MAAA,SAAS,EAAEH,WAAW,CAAC4D,iBAAZ,GAAgC,GAAhC,WAA3C;AAA2F,MAAA,OAAO,EAAE;AAAA,eAAIQ,aAAa,CAAC,cAAD,CAAjB;AAAA,OAApG;AAAuI,MAAA,EAAE,yCAA2BmB,EAAE,CAACC,cAA9B,EAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAD0C;AAAA,GAA9C,CAFR,CApBJ,EAiCI;AAAI,IAAA,SAAS,EAAExF,WAAW,CAACgF,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAjCJ,EAkCI;AAAI,IAAA,EAAE,EAAC,YAAP;AAAoB,IAAA,SAAS,EAAEhF,WAAW,CAACyF,eAAZ,GAA6B,GAA7B,GAAmCzF,WAAW,CAACiF,KAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ7D,KAAK,CAACgB,aAAN,CAAoBC,MAApB,CAA2B6C,GAA3B,CAA+B,UAAC1D,KAAD,EAAOuC,GAAP;AAAA,WAC1BA,GAAG,GAAC,CAAL,GAAQ,KAAR,GACA;AAAI,MAAA,GAAG,EAAEvC,KAAK,CAACkE,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAE1F,WAAW,CAACuD,WAA5B;AAAyC,MAAA,IAAI,EAAE/B,KAAK,CAACA,KAAN,CAAY8D,WAAZ,EAA/C;AAA0E,MAAA,OAAO,EAAE;AAAA,eAAIpC,aAAa,CAAC,OAAD,YAAY1B,KAAK,CAACA,KAAlB,EAAjB;AAAA,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BA,KAAK,CAACA,KAApC,CADJ,CADJ,EAII,MAAC,eAAD;AAAiB,MAAA,IAAI,EAAErB,OAAvB;AAAgC,MAAA,SAAS,EAAEH,WAAW,CAAC4D,iBAAZ,GAAgC,GAAhC,WAA3C;AAA2F,MAAA,OAAO,EAAE;AAAA,eAAIQ,aAAa,CAAC,OAAD,CAAjB;AAAA,OAApG;AAAgI,MAAA,EAAE,kBAAW5C,KAAK,CAACA,KAAN,CAAY8D,WAAZ,EAAX,CAAlI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CAF2B;AAAA,GAA/B,CAFR,CAlCJ,EA+CI;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAIzD,cAAc,CAAC,IAAD,CAAlB;AAAA,KAAjB;AAA2C,IAAA,SAAS,EAAC,eAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA/CJ,CAFR,CAJJ,EAyDM,CAACD,WAAF,GAAe,IAAf,GACG,MAAC,KAAD;AAAO,IAAA,UAAU,EAAEE,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,UAAU,EAAEA,YAAxB;AAAsC,IAAA,aAAa,EAAEoB,aAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA1DR,CADJ;AAiEH,CAlTD;;GAAM/B,M;;KAAAA,M;;AAoTN,IAAMwE,eAAe,GAAG,SAAlBA,eAAkB,QAA6E;AAAA,MAA3EvD,aAA2E,SAA3EA,aAA2E;AAAA,MAA7DwD,mBAA6D,SAA7DA,mBAA6D;AAAA,MAAzCrD,iBAAyC,SAAzCA,iBAAyC;AAAA,MAAvBE,mBAAuB,SAAvBA,mBAAuB;AACjG,SAAO;AACHL,IAAAA,aAAa,EAAbA,aADG;AAEHwD,IAAAA,mBAAmB,EAAnBA,mBAFG;AAGHrD,IAAAA,iBAAiB,EAAjBA,iBAHG;AAIHE,IAAAA,mBAAmB,EAAnBA;AAJG,GAAP;AAMH,CAPD;;AASA,IAAMoD,kBAAkB,GAAG;AACvBhF,EAAAA,gBAAgB,EAAhBA,gBADuB;AAEvBE,EAAAA,4BAA4B,EAA5BA,4BAFuB;AAGvBE,EAAAA,oBAAoB,EAApBA,oBAHuB;AAIvBC,EAAAA,sBAAsB,EAAtBA;AAJuB,CAA3B;AAOA,eAAeX,OAAO,CAACoF,eAAD,EAAiBE,kBAAjB,CAAP,CAA4C1E,MAA5C,CAAf","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport FiltroStyle from './Filtro.module.css';\r\nimport Modal from '../Modal';\r\nimport ModalMarca from '../ModalMarca';\r\nimport { faTimes,faBroom,faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { connect } from 'react-redux';\r\nimport * as subproductosActions from '../../../store/actions/subproductosActions';\r\nimport * as marcasActions from '../../../store/actions/marcasActions';\r\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\r\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\r\nimport Loader from '../Loader';\r\n\r\nconst {traerTodas:marcasTraerTodas} = marcasActions;\r\nconst {filtrarProductos:subproductosFiltrarProductos} = subproductosActions;\r\nconst {traerTodas:categoriasTraerTodas} = categoriasActions;\r\nconst {traerTodas:subcategoriaTraerTodas} = subcategoriasActions;\r\n\r\nconst Filtro = (props) => {\r\n\r\n    //state for the filters\r\n    const [estadoFiltro, setEstadoFiltro] = useState({\r\n        filtrando:false,\r\n        mascota:'',\r\n        subcategoria:'',\r\n        marca:'',\r\n        buscador:''\r\n    });\r\n\r\n    //manejo de Modal marcas\r\n    const [modalIsOpen, setModalIsOpen] = useState(false);\r\n    const onCloseModal = ()=>{\r\n        document.getElementsByTagName('body')[0].style.overflowY = 'scroll';\r\n        setModalIsOpen(false);\r\n    }\r\n\r\n    //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\r\n    useEffect(() => {\r\n        getData();\r\n    },[]);\r\n        \r\n    const getData = async()=>{\r\n        if(props.marcasReducer.marcas.length===0){\r\n            await props.marcasTraerTodas();\r\n        }\r\n        if(props.categoriasReducer.categorias.length===0){\r\n            await props.categoriasTraerTodas();\r\n        }\r\n        if(props.subcategoriaReducer.subcategorias.length===0){\r\n            await props.subcategoriaTraerTodas();\r\n        }\r\n        if(props.location !== '/productos'){\r\n            console.log('activar filtro por url');\r\n            console.log(props.query);\r\n            activarFiltroPorUrl();\r\n        }\r\n    }\r\n\r\n    //loop de efecto para hacer render cada vez que se agrega o elimina un filtro\r\n    useEffect(() => {\r\n        switchItemActive();\r\n    }, [estadoFiltro]);\r\n\r\n    // const formatearString = string=>{\r\n    //     let newString = string.replace(\"-\",\" \").toLowerCase();\r\n    //     return newString;\r\n    // }\r\n\r\n    const activarFiltroPorUrl = ()=>{\r\n        switch (props.query.type){\r\n            case 'categoria':\r\n                return activarFiltro('mascota','perro');\r\n            case 'subcategoria':\r\n                return activarFiltro('subcategoria',props.query.index[1]);\r\n            case 'marca':\r\n                return activarFiltro('marca','sabrositos');\r\n            // case '/productos/search/:query':\r\n            //     const {match:{params:{query}}} = props.location;\r\n            //     return activarFiltro('buscador',query);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const activarFiltro = (tipoFiltro,nameItem)=>{\r\n        switch (tipoFiltro) {\r\n            case 'mascota':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    mascota:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                });\r\n                break;\r\n            case 'subcategoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    subcategoria:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                })\r\n                break;\r\n            case 'marca':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    marca:nameItem,\r\n                    buscador:'',\r\n                    filtrando:true\r\n                })\r\n                break;\r\n            case 'buscador':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    buscador:nameItem,\r\n                    filtrando:true\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const switchItemActive = ()=>{\r\n        // console.log(estadoFiltro);\r\n\r\n        for (let index = 0; index < document.getElementsByClassName(FiltroStyle.item_filtro).length; index++) {\r\n            const element = document.getElementsByClassName(FiltroStyle.item_filtro)[index];\r\n            element.classList.remove(FiltroStyle.active);\r\n            document.getElementsByClassName(FiltroStyle.icon_close_filtro)[index].classList.add('d-none');\r\n        };\r\n\r\n        //si no hay nada en buscador, puedo setear un active en algun elemento de la lista\r\n        if(estadoFiltro.buscador.trim()===''){\r\n            //recorro el state para obtener las claves y agregar active el elemento correspondiente\r\n            for (const key in estadoFiltro) {\r\n                console.log(estadoFiltro[key]);\r\n                if(estadoFiltro[key] && estadoFiltro[key]!=='' && estadoFiltro[key]!==true){\r\n                    if(document.getElementsByName(`subcategoria-${estadoFiltro[key]}`)[0]){//pregunto si existe el elemento con el name del filtro para agregarle el active, si no existe lo creo. (si no existe es porque viene desde modal de marcas)\r\n                        document.getElementsByName(`subcategoria-${estadoFiltro[key]}`)[0].classList.add(FiltroStyle.active);\r\n                        document.getElementById(`close-subcategoria-${estadoFiltro[key]}`).classList.remove('d-none');\r\n                    }else{\r\n                        //creo los elementos del item\r\n                        // let newItemMarca = document.createElement('li');\r\n                        // let divItemMarca = document.createElement('div');\r\n                        // let spanItemMarca = document.createElement('span');\r\n                        // let iconClose = document.createElement('svg');\r\n                        // let pathIconClose = document.createElement('path');\r\n    \r\n                        // //asigno las clases, atributos y eventos necesarios.\r\n                        // divItemMarca.className =`${FiltroStyle.item_filtro} ${FiltroStyle.active}`;\r\n                        // divItemMarca.setAttribute('name',`${estadoFiltro.marca}`);\r\n                        // divItemMarca.addEventListener('click',()=>activarFiltro('marca',estadoFiltro.marca));\r\n                        // spanItemMarca.className = 'text-muted';\r\n                        // spanItemMarca.innerHTML = estadoFiltro.marca;\r\n\r\n\r\n                        // iconClose.setAttribute('aria-hidden',true);\r\n                        // iconClose.setAttribute('focusable',false);\r\n                        // iconClose.setAttribute('data-prefix','fas');\r\n                        // iconClose.setAttribute('data-icon','times');\r\n                        // iconClose.setAttribute('role','img');\r\n                        // iconClose.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n                        // iconClose.setAttribute('viewBox','0 0 352 512');\r\n                        // iconClose.className = `svg-inline--fa fa-times fa-w-11 ${FiltroStyle.icon_close_filtro}`;\r\n                        // iconClose.setAttribute('id',`close-${estadoFiltro.marca}`);\r\n                        // iconClose.addEventListener('click',()=>limpiarFiltro('marca'));\r\n\r\n                        // pathIconClose.setAttribute('fill','currentColor');\r\n                        // pathIconClose.setAttribute('d','M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z');\r\n\r\n                        // iconClose.appendChild(pathIconClose);\r\n                        \r\n    \r\n                        // //voy ubicando los elementos dentro de cada padre\r\n                        // divItemMarca.appendChild(spanItemMarca);\r\n                        // newItemMarca.appendChild(divItemMarca);\r\n                        // newItemMarca.appendChild(iconClose);\r\n                        \r\n                        // //Obtengo el primer item de la lista y lo elimino, para tener siempre la misma cantidad de marcas en la lista.\r\n                        // let firstItemMarca = document.querySelector(`#listaMarca`).children[0];\r\n                        // let listaMarcas = document.querySelector(`#listaMarca`);\r\n                        // listaMarcas.removeChild(firstItemMarca);\r\n                        // //ahora agrego el item creado a la lista\r\n                        // listaMarcas.appendChild(newItemMarca);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //la primera vez que se carga el componente, filtrando es false, por eso pregunto para que no se ejecuta la funcion de ir a filtrar apenas se monte el componente. Sino que se ejecute cuando de verdad se quiera filtrar.\r\n        if(estadoFiltro.filtrando){\r\n            let urlFiltro = armarUrlFiltro();//armo la url que mando a la api para traer los resultados de lo filtrado.\r\n            props.subproductosFiltrarProductos(urlFiltro);\r\n        };\r\n    }\r\n\r\n    const limpiarFiltro = tipo=>{\r\n        switch (tipo) {\r\n            case 'mascota':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    mascota:''\r\n                });\r\n                break;\r\n            case 'subcategoria':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    subcategoria:''\r\n                });\r\n                break;\r\n            case 'marca':\r\n                setEstadoFiltro({\r\n                    ...estadoFiltro,\r\n                    marca:''\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const closeFiltrosMobile = ()=>{\r\n        document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\r\n    }\r\n\r\n    const armarUrlFiltro = ()=>{\r\n        let url = 'filtrar';\r\n        //si buscador viene true, es porque viene desde el buscador del menu o modal de buscador(mobile).\r\n        if(estadoFiltro.buscador!=='') return url += `?buscar=${estadoFiltro.buscador}`;\r\n\r\n        let mascota = estadoFiltro.mascota,\r\n            subcategoria = estadoFiltro.subcategoria,\r\n            marca = estadoFiltro.marca;\r\n        if(mascota && mascota !== ''){\r\n            url += `?mascota=${estadoFiltro.mascota}`;\r\n        }\r\n        if(estadoFiltro.subcategoria && estadoFiltro.subcategoria !== ''){\r\n            if(mascota!== ''){\r\n                url += `&subcategoria=${estadoFiltro.subcategoria}`; \r\n            }else{\r\n                url += `?subcategoria=${estadoFiltro.subcategoria}`;\r\n            }\r\n        }\r\n        if(marca && marca !== ''){\r\n            if(mascota !== '' && subcategoria !== ''){\r\n                url += `?marca=${estadoFiltro.marca}`;\r\n            }else{\r\n                url += `&marca=${estadoFiltro.marca}`;\r\n            }\r\n        }\r\n        return url;\r\n    }\r\n\r\n    const showFiltros = ()=>{\r\n        let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\r\n        element.classList.toggle(FiltroStyle.show);\r\n        document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\r\n    }\r\n\r\n    //console.log(props);\r\n    return (\r\n        <div className={FiltroStyle.filtros__contanier}>\r\n            <button className={FiltroStyle.btn_close_filtro} onClick={showFiltros}>\r\n                <FontAwesomeIcon id=\"iconFiltroContainer\" icon={faChevronRight}/>\r\n            </button>\r\n            <div>\r\n                {(props.categoriasReducer.categorias.length==0 || props.subcategoriaReducer.subcategorias.length==0 || props.marcasReducer.marcas.length==0)?<Loader/>:\r\n                    <>  \r\n                        {(estadoFiltro.filtrando)?<button className=\"boton bg-yellow mb-3\">\r\n                            <FontAwesomeIcon icon={faBroom}/> Limpiar Filtros\r\n                        </button>:null}\r\n                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.cerrar_filtro_mobile} onClick={closeFiltrosMobile}/>\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Mascota</h4>\r\n                        <ul className={FiltroStyle.lista}>\r\n                            {\r\n                                props.categoriasReducer.categorias.map(cat=>(\r\n                                    <li key={cat.idCategoria}>\r\n                                        <div className={FiltroStyle.item_filtro} name={cat.categoria.toLowerCase()} onClick={()=>activarFiltro('mascota',`${cat.categoria}`)}>\r\n                                            <span className=\"text-muted\">{cat.categoria}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('mascota')} id={`close-${cat.categoria.toLowerCase()}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Alimentos</h4>\r\n                        <ul className={FiltroStyle.lista}>\r\n                            {\r\n                                props.subcategoriaReducer.subcategorias.map(sc=>(\r\n                                    <li key={sc.idSubCategoria}>\r\n                                        <div className={FiltroStyle.item_filtro} name={`subcategoria-${sc.idSubCategoria}`} onClick={()=>activarFiltro('subcategoria',`${sc.subcategoria}`)}>\r\n                                            <span className=\"text-muted\">{sc.subcategoria}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('subcategoria')} id={`close-${`subcategoria-${sc.idSubCategoria}`}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n\r\n                        <h4 className={FiltroStyle.titulo_filtros}>Marca</h4>\r\n                        <ul id=\"listaMarca\" className={FiltroStyle.sinBorderBottom+ ' ' + FiltroStyle.lista}>\r\n                            {\r\n                                props.marcasReducer.marcas.map((marca,key)=>(\r\n                                    (key>3)?false:\r\n                                    <li key={marca.idMarca}>\r\n                                        <div className={FiltroStyle.item_filtro} name={marca.marca.toLowerCase()} onClick={()=>activarFiltro('marca',`${marca.marca}`)}>\r\n                                            <span className=\"text-muted\">{marca.marca}</span>\r\n                                        </div>\r\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ' ' + `d-none`} onClick={()=>limpiarFiltro('marca')} id={`close-${marca.marca.toLowerCase()}`}/>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                        <button onClick={()=>setModalIsOpen(true)} className=\"boton bg-gris\">Ver todas</button>\r\n                    </>\r\n                }\r\n            </div>\r\n            {(!modalIsOpen)?null:\r\n                <Modal closeModal={onCloseModal}>\r\n                    <ModalMarca closeModal={onCloseModal} activarFiltro={activarFiltro}/>\r\n                </Modal>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({marcasReducer,subproductosReducer,categoriasReducer,subcategoriaReducer})=>{\r\n    return {\r\n        marcasReducer,\r\n        subproductosReducer,\r\n        categoriasReducer,\r\n        subcategoriaReducer\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    marcasTraerTodas,\r\n    subproductosFiltrarProductos,\r\n    categoriasTraerTodas,\r\n    subcategoriaTraerTodas\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Filtro);"]},"metadata":{},"sourceType":"module"}