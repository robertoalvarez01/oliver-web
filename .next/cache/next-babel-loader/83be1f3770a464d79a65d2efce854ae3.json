{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\franc\\\\Documents\\\\oliver-2\\\\sitio-desa\\\\pages\\\\procesarVenta\\\\[[...params]].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from '../../src/components/Head';\nimport Loader from '../../src/components/Loader';\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport * as carritoActions from '../../store/actions/carritoActions';\nimport * as enviosActions from '../../store/actions/enviosActions';\nimport { useEffect } from 'react';\nconst {\n  guardar: enviosGuardar\n} = enviosActions;\nconst {\n  traerProductos: carritoTraerProductos\n} = carritoActions;\n\nconst ProcesarVenta = props => {\n  useEffect(() => {\n    if (props.usuarioReducer.logueado) {\n      getData();\n    }\n  }, [props.usuarioReducer]);\n\n  const getData = async () => {\n    const dataEnvio = JSON.parse(localStorage.getItem('dataEnvio'));\n    props.enviosGuardar(dataEnvio);\n    props.carritoTraerProductos();\n    const {\n      idUsuario\n    } = props.usuarioReducer.usuario;\n    const {\n      subtotal,\n      porcentaje_descuento,\n      descuento,\n      total,\n      productos\n    } = props.carritoReducer;\n    const {\n      zona,\n      tipo\n    } = dataEnvio;\n    let dataToRequest = {\n      envio: {\n        idZona: zona,\n        tipo\n      },\n      venta: {\n        subtotal,\n        porcentaje_descuento,\n        descuento,\n        total,\n        idUsuario,\n        productos\n      }\n    };\n    return registrarVenta(dataToRequest);\n  };\n\n  const registrarVenta = async data => {};\n\n  console.log(props);\n  const router = useRouter();\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    title: \"Finalizacion de compra\",\n    metadesc: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-84757851\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"84757851\",\n    __self: this\n  }, \"div.jsx-84757851{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center width:100%;-webkit-box-align:center width:100%;-ms-flex-align:center width:100%;align-items:center width:100%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZnJhbmNcXERvY3VtZW50c1xcb2xpdmVyLTJcXHNpdGlvLWRlc2FcXHBhZ2VzXFxwcm9jZXNhclZlbnRhXFxbWy4uLnBhcmFtc11dLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVEd0IsQUFHaUMsMEVBRUYseUlBQ2QiLCJmaWxlIjoiQzpcXFVzZXJzXFxmcmFuY1xcRG9jdW1lbnRzXFxvbGl2ZXItMlxcc2l0aW8tZGVzYVxccGFnZXNcXHByb2Nlc2FyVmVudGFcXFtbLi4ucGFyYW1zXV0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZCBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9IZWFkJztcclxuaW1wb3J0IExvYWRlciBmcm9tICcuLi8uLi9zcmMvY29tcG9uZW50cy9Mb2FkZXInO1xyXG5pbXBvcnQge3VzZVJvdXRlcn0gZnJvbSAnbmV4dC9yb3V0ZXInO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0ICogYXMgY2Fycml0b0FjdGlvbnMgZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy9jYXJyaXRvQWN0aW9ucyc7XHJcbmltcG9ydCAqIGFzIGVudmlvc0FjdGlvbnMgZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy9lbnZpb3NBY3Rpb25zJztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuY29uc3Qge2d1YXJkYXI6ZW52aW9zR3VhcmRhcn0gPSBlbnZpb3NBY3Rpb25zO1xyXG5jb25zdCB7dHJhZXJQcm9kdWN0b3M6Y2Fycml0b1RyYWVyUHJvZHVjdG9zfSA9IGNhcnJpdG9BY3Rpb25zO1xyXG5cclxuY29uc3QgUHJvY2VzYXJWZW50YSA9IChwcm9wcykgPT4ge1xyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZihwcm9wcy51c3VhcmlvUmVkdWNlci5sb2d1ZWFkbyl7XHJcbiAgICAgICAgICAgIGdldERhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcHJvcHMudXN1YXJpb1JlZHVjZXJdKTtcclxuXHJcbiAgICBjb25zdCBnZXREYXRhID0gYXN5bmMoKT0+e1xyXG4gICAgICAgIGNvbnN0IGRhdGFFbnZpbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RhdGFFbnZpbycpKTtcclxuICAgICAgICBwcm9wcy5lbnZpb3NHdWFyZGFyKGRhdGFFbnZpbyk7XHJcbiAgICAgICAgcHJvcHMuY2Fycml0b1RyYWVyUHJvZHVjdG9zKCk7XHJcbiAgICAgICAgY29uc3Qge2lkVXN1YXJpb30gPSBwcm9wcy51c3VhcmlvUmVkdWNlci51c3VhcmlvO1xyXG4gICAgICAgIGNvbnN0IHtzdWJ0b3RhbCxwb3JjZW50YWplX2Rlc2N1ZW50byxkZXNjdWVudG8sdG90YWwscHJvZHVjdG9zfSA9IHByb3BzLmNhcnJpdG9SZWR1Y2VyO1xyXG4gICAgICAgIGNvbnN0IHt6b25hLHRpcG99ID0gZGF0YUVudmlvO1xyXG4gICAgICAgIGxldCBkYXRhVG9SZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICBlbnZpbzp7XHJcbiAgICAgICAgICAgICAgICBpZFpvbmE6em9uYSxcclxuICAgICAgICAgICAgICAgIHRpcG9cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmVudGE6e1xyXG4gICAgICAgICAgICAgICAgc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICBwb3JjZW50YWplX2Rlc2N1ZW50byxcclxuICAgICAgICAgICAgICAgIGRlc2N1ZW50byxcclxuICAgICAgICAgICAgICAgIHRvdGFsLFxyXG4gICAgICAgICAgICAgICAgaWRVc3VhcmlvLFxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdG9zXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJhclZlbnRhKGRhdGFUb1JlcXVlc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlZ2lzdHJhclZlbnRhID0gYXN5bmMgZGF0YT0+e1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhwcm9wcyk7XHJcbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPEhlYWQgdGl0bGU9XCJGaW5hbGl6YWNpb24gZGUgY29tcHJhXCIgbWV0YWRlc2M9XCJcIi8+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8TG9hZGVyLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICBkaXZ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5Qcm9jZXNhclZlbnRhLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jKHtxdWVyeX0pPT57XHJcbiAgICBjb25zdCB7Y29sbGVjdGlvbl9pZCxjb2xsZWN0aW9uX3N0YXR1cyxleHRlcm5hbF9yZWZlcmVuY2UsbWVyY2hhbnQsYWNjb3VudF9pZCxtZXJjaGFudF9vcmRlcl9pZCxwYXltZW50X2lkLHBheW1lbnRfdHlwZSxwcmVmZXJlbmNlX2lkLHByb2Nlc3NpbmdfbW9kZSxzaXRlX2lkLHN0YXR1c30gPSBxdWVyeTtcclxuICAgIHJldHVybiB7Y29sbGVjdGlvbl9pZCxjb2xsZWN0aW9uX3N0YXR1cyxleHRlcm5hbF9yZWZlcmVuY2UsbWVyY2hhbnQsYWNjb3VudF9pZCxtZXJjaGFudF9vcmRlcl9pZCxwYXltZW50X2lkLHBheW1lbnRfdHlwZSxwcmVmZXJlbmNlX2lkLHByb2Nlc3NpbmdfbW9kZSxzaXRlX2lkLHN0YXR1c307XHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7Y2Fycml0b1JlZHVjZXIsZW52aW9zUmVkdWNlcix1c3VhcmlvUmVkdWNlcn0pPT57XHJcbiAgICByZXR1cm4ge2NhcnJpdG9SZWR1Y2VyLGVudmlvc1JlZHVjZXIsdXN1YXJpb1JlZHVjZXJ9XHJcbn07XHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IHtcclxuICAgIGVudmlvc0d1YXJkYXIsXHJcbiAgICBjYXJyaXRvVHJhZXJQcm9kdWN0b3NcclxufVxyXG4gXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLG1hcERpc3BhdGNoVG9Qcm9wcykoUHJvY2VzYXJWZW50YSk7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\franc\\\\\\\\Documents\\\\\\\\oliver-2\\\\\\\\sitio-desa\\\\\\\\pages\\\\\\\\procesarVenta\\\\\\\\[[...params]].js */\"));\n};\n\nProcesarVenta.getInitialProps = async ({\n  query\n}) => {\n  const {\n    collection_id,\n    collection_status,\n    external_reference,\n    merchant,\n    account_id,\n    merchant_order_id,\n    payment_id,\n    payment_type,\n    preference_id,\n    processing_mode,\n    site_id,\n    status\n  } = query;\n  return {\n    collection_id,\n    collection_status,\n    external_reference,\n    merchant,\n    account_id,\n    merchant_order_id,\n    payment_id,\n    payment_type,\n    preference_id,\n    processing_mode,\n    site_id,\n    status\n  };\n};\n\nconst mapStateToProps = ({\n  carritoReducer,\n  enviosReducer,\n  usuarioReducer\n}) => {\n  return {\n    carritoReducer,\n    enviosReducer,\n    usuarioReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  enviosGuardar,\n  carritoTraerProductos\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProcesarVenta);","map":{"version":3,"sources":["C:/Users/franc/Documents/oliver-2/sitio-desa/pages/procesarVenta/[[...params]].js"],"names":["Head","Loader","useRouter","connect","carritoActions","enviosActions","useEffect","guardar","enviosGuardar","traerProductos","carritoTraerProductos","ProcesarVenta","props","usuarioReducer","logueado","getData","dataEnvio","JSON","parse","localStorage","getItem","idUsuario","usuario","subtotal","porcentaje_descuento","descuento","total","productos","carritoReducer","zona","tipo","dataToRequest","envio","idZona","venta","registrarVenta","data","console","log","router","getInitialProps","query","collection_id","collection_status","external_reference","merchant","account_id","merchant_order_id","payment_id","payment_type","preference_id","processing_mode","site_id","status","mapStateToProps","enviosReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import Head from '../../src/components/Head';\r\nimport Loader from '../../src/components/Loader';\r\nimport {useRouter} from 'next/router';\r\nimport {connect} from 'react-redux';\r\nimport * as carritoActions from '../../store/actions/carritoActions';\r\nimport * as enviosActions from '../../store/actions/enviosActions';\r\nimport { useEffect } from 'react';\r\n\r\nconst {guardar:enviosGuardar} = enviosActions;\r\nconst {traerProductos:carritoTraerProductos} = carritoActions;\r\n\r\nconst ProcesarVenta = (props) => {\r\n    useEffect(() => {\r\n        if(props.usuarioReducer.logueado){\r\n            getData();\r\n        }\r\n    }, [props.usuarioReducer]);\r\n\r\n    const getData = async()=>{\r\n        const dataEnvio = JSON.parse(localStorage.getItem('dataEnvio'));\r\n        props.enviosGuardar(dataEnvio);\r\n        props.carritoTraerProductos();\r\n        const {idUsuario} = props.usuarioReducer.usuario;\r\n        const {subtotal,porcentaje_descuento,descuento,total,productos} = props.carritoReducer;\r\n        const {zona,tipo} = dataEnvio;\r\n        let dataToRequest = {\r\n            envio:{\r\n                idZona:zona,\r\n                tipo\r\n            },\r\n            venta:{\r\n                subtotal,\r\n                porcentaje_descuento,\r\n                descuento,\r\n                total,\r\n                idUsuario,\r\n                productos\r\n            }\r\n        }\r\n        return registrarVenta(dataToRequest);\r\n    }\r\n\r\n    const registrarVenta = async data=>{\r\n\r\n    }\r\n\r\n    console.log(props);\r\n    const router = useRouter();\r\n    return (\r\n        <>\r\n            <Head title=\"Finalizacion de compra\" metadesc=\"\"/>\r\n            <div>\r\n                <Loader/>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n                div{\r\n                    display:flex;\r\n                    align-items:center\r\n                    width:100%;\r\n                }    \r\n            `}</style>\r\n        </>\r\n    );\r\n}\r\n\r\nProcesarVenta.getInitialProps = async({query})=>{\r\n    const {collection_id,collection_status,external_reference,merchant,account_id,merchant_order_id,payment_id,payment_type,preference_id,processing_mode,site_id,status} = query;\r\n    return {collection_id,collection_status,external_reference,merchant,account_id,merchant_order_id,payment_id,payment_type,preference_id,processing_mode,site_id,status};\r\n}\r\n\r\nconst mapStateToProps = ({carritoReducer,enviosReducer,usuarioReducer})=>{\r\n    return {carritoReducer,enviosReducer,usuarioReducer}\r\n};\r\nconst mapDispatchToProps = {\r\n    enviosGuardar,\r\n    carritoTraerProductos\r\n}\r\n \r\nexport default connect(mapStateToProps,mapDispatchToProps)(ProcesarVenta);"]},"metadata":{},"sourceType":"module"}