{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from '../Loader/index';\nimport { API } from '../../../config/index';\n\nconst FormModificarPw = props => {\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const {\n    0: actionSuccess,\n    1: setActionSuccess\n  } = useState(null);\n\n  const sendEmail = async () => {\n    const {\n      idUsuario,\n      token\n    } = props.usuarioReducer.usuario;\n    let headers = new Headers();\n    if (!token) return setError('Ups.. ha ocurrido un error.');\n    setLoading(true);\n    headers.append('token', token);\n    headers.append(\"Content-Type\", \"application/json\");\n    const request = await fetch(`${API}resetPassword`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({\n        idUsuario\n      })\n    });\n\n    if (request.status != 200) {\n      setLoading(false);\n      return setError('Ups.. ha ocurrido un error.');\n    }\n\n    const dataRequest = await request.json();\n    setLoading(false);\n\n    if (dataRequest.ok) {\n      return setActionSuccess(dataRequest.info);\n    }\n\n    return setError('Ups.. ha ocurrido un error.');\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"containerResetPass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, error ? __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"alert alert-danger text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 51\n    }\n  }, error) : null), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + `alert alert-${actionSuccess ? `info` : `warning`} text-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, actionSuccess ? __jsx(\"b\", {\n    className: \"jsx-204570501\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 109\n    }\n  }, actionSuccess) : `Estaremos enviando un email con los pasos para poder realizar el proceso de modificación de contraseña`), __jsx(\"div\", {\n    className: \"jsx-204570501\" + \" \" + \"col-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, loading ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 28\n    }\n  }) : null, !actionSuccess && !loading ? __jsx(\"button\", {\n    onClick: sendEmail,\n    type: \"button\",\n    className: \"jsx-204570501\" + \" \" + \"boton bg-yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 47\n    }\n  }, \"Enviar email\") : null), __jsx(_JSXStyle, {\n    id: \"204570501\",\n    __self: this\n  }, \".containerResetPass.jsx-204570501{font-family:'Quicksand',sans-serif!important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBDd0IsQUFHbUUsNkNBQ2xEIiwiZmlsZSI6Ii9ob21lL2ZyYW5jby9kZXNhcnJvbGxvL3Byb3llY3RvX29saXZlci9vbGl2ZXItd2ViLW5leHQvc3JjL2NvbXBvbmVudHMvZm9ybU1vZGlmaWNhclB3L2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vTG9hZGVyL2luZGV4JztcbmltcG9ydCB7QVBJfSBmcm9tICcuLi8uLi8uLi9jb25maWcvaW5kZXgnO1xuXG5jb25zdCBGb3JtTW9kaWZpY2FyUHcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYWN0aW9uU3VjY2Vzcywgc2V0QWN0aW9uU3VjY2Vzc10gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIGNvbnN0IHNlbmRFbWFpbCA9IGFzeW5jICgpPT57XG4gICAgICAgIGNvbnN0IHtpZFVzdWFyaW8sdG9rZW59ID0gcHJvcHMudXN1YXJpb1JlZHVjZXIudXN1YXJpbztcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBpZighdG9rZW4pIHJldHVybiBzZXRFcnJvcignVXBzLi4gaGEgb2N1cnJpZG8gdW4gZXJyb3IuJyk7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKCd0b2tlbicsdG9rZW4pO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaChgJHtBUEl9cmVzZXRQYXNzd29yZGAse1xuICAgICAgICAgICAgbWV0aG9kOidQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OkpTT04uc3RyaW5naWZ5KHtpZFVzdWFyaW99KVxuICAgICAgICB9KTtcbiAgICAgICAgaWYocmVxdWVzdC5zdGF0dXMhPTIwMCl7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBzZXRFcnJvcignVXBzLi4gaGEgb2N1cnJpZG8gdW4gZXJyb3IuJyk7ICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YVJlcXVlc3QgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIGlmKGRhdGFSZXF1ZXN0Lm9rKXtcbiAgICAgICAgICAgIHJldHVybiBzZXRBY3Rpb25TdWNjZXNzKGRhdGFSZXF1ZXN0LmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRFcnJvcignVXBzLi4gaGEgb2N1cnJpZG8gdW4gZXJyb3IuJyk7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclJlc2V0UGFzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnsoZXJyb3IpPzxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIHRleHQtY2VudGVyXCI+e2Vycm9yfTwvZGl2PjpudWxsfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhbGVydCBhbGVydC0keyhhY3Rpb25TdWNjZXNzKT9gaW5mb2A6YHdhcm5pbmdgfSB0ZXh0LWNlbnRlcmB9PnsoYWN0aW9uU3VjY2Vzcyk/PGI+e2FjdGlvblN1Y2Nlc3N9PC9iPjpgRXN0YXJlbW9zIGVudmlhbmRvIHVuIGVtYWlsIGNvbiBsb3MgcGFzb3MgcGFyYSBwb2RlciByZWFsaXphciBlbCBwcm9jZXNvIGRlIG1vZGlmaWNhY2nDs24gZGUgY29udHJhc2XDsWFgfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7KGxvYWRpbmcpPzxMb2FkZXIvPjpudWxsfVxuICAgICAgICAgICAgICAgIHsoIWFjdGlvblN1Y2Nlc3MgJiYgIWxvYWRpbmcpPzxidXR0b24gb25DbGljaz17c2VuZEVtYWlsfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYm90b24gYmcteWVsbG93XCI+RW52aWFyIGVtYWlsPC9idXR0b24+Om51bGx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICAuY29udGFpbmVyUmVzZXRQYXNze1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWYhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9PC9zdHlsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHt1c3VhcmlvUmVkdWNlcn0pPT57XG4gICAgcmV0dXJuIHt1c3VhcmlvUmVkdWNlcn1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsbnVsbCkoRm9ybU1vZGlmaWNhclB3KTsiXX0= */\\n/*@ sourceURL=/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js */\"));\n};\n\nconst mapStateToProps = ({\n  usuarioReducer\n}) => {\n  return {\n    usuarioReducer\n  };\n};\n\nexport default connect(mapStateToProps, null)(FormModificarPw);","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/formModificarPw/index.js"],"names":["useState","connect","Loader","API","FormModificarPw","props","loading","setLoading","error","setError","actionSuccess","setActionSuccess","sendEmail","idUsuario","token","usuarioReducer","usuario","headers","Headers","append","request","fetch","method","body","JSON","stringify","status","dataRequest","json","ok","info","mapStateToProps"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport {connect} from 'react-redux';\nimport Loader from '../Loader/index';\nimport {API} from '../../../config/index';\n\nconst FormModificarPw = (props) => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [actionSuccess, setActionSuccess] = useState(null);\n\n    const sendEmail = async ()=>{\n        const {idUsuario,token} = props.usuarioReducer.usuario;\n        let headers = new Headers();\n        if(!token) return setError('Ups.. ha ocurrido un error.');\n        setLoading(true);\n        headers.append('token',token);\n        headers.append(\"Content-Type\", \"application/json\");\n        const request = await fetch(`${API}resetPassword`,{\n            method:'POST',\n            headers,\n            body:JSON.stringify({idUsuario})\n        });\n        if(request.status!=200){\n            setLoading(false);\n            return setError('Ups.. ha ocurrido un error.');   \n        }\n        const dataRequest = await request.json();\n        setLoading(false);\n        if(dataRequest.ok){\n            return setActionSuccess(dataRequest.info);\n        }\n        return setError('Ups.. ha ocurrido un error.');\n    };\n    \n    return (\n        <div className=\"containerResetPass\">\n            <div className=\"text-center\">{(error)?<div className=\"alert alert-danger text-center\">{error}</div>:null}</div>\n            <div className={`alert alert-${(actionSuccess)?`info`:`warning`} text-center`}>{(actionSuccess)?<b>{actionSuccess}</b>:`Estaremos enviando un email con los pasos para poder realizar el proceso de modificación de contraseña`}</div>\n            <div className=\"col-12 text-center\">\n                {(loading)?<Loader/>:null}\n                {(!actionSuccess && !loading)?<button onClick={sendEmail} type=\"button\" className=\"boton bg-yellow\">Enviar email</button>:null}\n            </div>\n            <style jsx>{`\n                .containerResetPass{\n                    font-family: 'Quicksand', sans-serif!important;\n                }\n            `}</style>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({usuarioReducer})=>{\n    return {usuarioReducer}\n}\n\nexport default connect(mapStateToProps,null)(FormModificarPw);"]},"metadata":{},"sourceType":"module"}