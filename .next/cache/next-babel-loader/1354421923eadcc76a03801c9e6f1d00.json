{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { API } from '../../config/index';\nimport { TRAER_TODOS, TRAER_UNO, LOADING, ERROR, TRAER_PROMOCIONES, ORDENAR_PRODUCTOS, FILTRANDO } from '../types/productosTypes';\nexport var traerTodos = function traerTodos() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context.prev = 1;\n              return _context.abrupt(\"return\", fetch(\"\".concat(API, \"/producto?desde=1&limite=30\")).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_TODOS,\n                  payload: data.data\n                });\n              }));\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context.t0\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 5]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var traerPorId = function traerPorId(id) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context2.prev = 1;\n              return _context2.abrupt(\"return\", fetch(\"\".concat(API, \"/producto/\").concat(id)).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_UNO,\n                  payload: data\n                });\n              }));\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context2.t0\n              });\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 5]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var traerPromociones = function traerPromociones() {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context3.prev = 1;\n              return _context3.abrupt(\"return\", fetch(\"\".concat(API, \"/producto?desde=1&limite=8\")).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_PROMOCIONES,\n                  payload: data.data\n                });\n              }));\n\n            case 5:\n              _context3.prev = 5;\n              _context3.t0 = _context3[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context3.t0\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 5]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var ordenarProductos = function ordenarProductos(productosOrdenados) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n\n              try {\n                dispatch({\n                  type: ORDENAR_PRODUCTOS,\n                  payload: productosOrdenados\n                });\n              } catch (error) {\n                dispatch({\n                  type: ERROR,\n                  payload: error\n                });\n              }\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var filtrarProductos = function filtrarProductos(url) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var urlFiltro;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log('filtrando');\n              console.log(url);\n              dispatch({\n                type: LOADING\n              });\n              _context5.prev = 3;\n              urlFiltro = url.includes('buscar?busqueda') ? \"productos/\".concat(url) : \"productos/filtro/\".concat(url);\n              return _context5.abrupt(\"return\", fetch(\"\".concat(API).concat(urlFiltro)).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: FILTRANDO,\n                  payload: data.data\n                });\n              }));\n\n            case 8:\n              _context5.prev = 8;\n              _context5.t0 = _context5[\"catch\"](3);\n              dispatch({\n                type: ERROR,\n                payload: _context5.t0\n              });\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[3, 8]]);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/franc/Documents/oliver-2/sitio-desa/store/actions/productosActions.js"],"names":["API","TRAER_TODOS","TRAER_UNO","LOADING","ERROR","TRAER_PROMOCIONES","ORDENAR_PRODUCTOS","FILTRANDO","traerTodos","dispatch","type","fetch","then","res","json","data","payload","traerPorId","id","traerPromociones","ordenarProductos","productosOrdenados","error","filtrarProductos","url","console","log","urlFiltro","includes"],"mappings":"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","sourcesContent":["import {API} from '../../config/index';\r\nimport {TRAER_TODOS,TRAER_UNO,LOADING,ERROR,TRAER_PROMOCIONES,ORDENAR_PRODUCTOS,FILTRANDO} from '../types/productosTypes';\r\nexport const traerTodos = ()=>async (dispatch)=>{\r\n    dispatch({\r\n        type:LOADING\r\n    });\r\n    try {\r\n        return fetch(`${API}/producto?desde=1&limite=30`).then(res=>res.json()).then(data=>{\r\n            dispatch({\r\n                type:TRAER_TODOS,\r\n                payload:data.data\r\n            });\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ERROR,\r\n            payload:error\r\n        })\r\n    }\r\n}\r\n\r\nexport const traerPorId = id=>async(dispatch)=>{\r\n    dispatch({\r\n        type:LOADING\r\n    });\r\n    try {\r\n        return fetch(`${API}/producto/${id}`).then(res=>res.json()).then(data=>{\r\n            dispatch({\r\n                type:TRAER_UNO,\r\n                payload:data\r\n            });\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ERROR,\r\n            payload:error\r\n        })\r\n    }\r\n}\r\n\r\nexport const traerPromociones = ()=>async(dispatch)=>{\r\n    dispatch({\r\n        type:LOADING\r\n    });\r\n    try {\r\n        return fetch(`${API}/producto?desde=1&limite=8`).then(res=>res.json()).then(data=>{\r\n            dispatch({\r\n                type:TRAER_PROMOCIONES,\r\n                payload:data.data\r\n            });\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ERROR,\r\n            payload:error\r\n        })\r\n    }\r\n}\r\n\r\nexport const ordenarProductos = productosOrdenados=>async dispatch=>{\r\n    dispatch({\r\n        type:LOADING\r\n    });\r\n    try {\r\n        dispatch({\r\n            type:ORDENAR_PRODUCTOS,\r\n            payload:productosOrdenados\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ERROR,\r\n            payload:error\r\n        })\r\n    }\r\n}\r\n\r\nexport const filtrarProductos = url=>async dispatch=>{\r\n    console.log('filtrando');\r\n    console.log(url);\r\n    dispatch({\r\n        type:LOADING\r\n    });\r\n    try {\r\n        let urlFiltro = (url.includes('buscar?busqueda'))?`productos/${url}`:`productos/filtro/${url}`;\r\n        return fetch(`${API}${urlFiltro}`).then(res=>res.json()).then(data=>{\r\n            dispatch({\r\n                type:FILTRANDO,\r\n                payload:data.data\r\n            })\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type:ERROR,\r\n            payload:error\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}