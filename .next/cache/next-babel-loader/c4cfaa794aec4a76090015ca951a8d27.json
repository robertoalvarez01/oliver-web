{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\franc\\\\Documents\\\\oliver-2\\\\sitio-desa\\\\src\\\\components\\\\Productos\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport CardProducto from '../CardProducto';\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport ProductosStyle from './Productos.module.css';\nimport Loader from '../Loader';\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FiltroStyle from '../Filtro/Filtro.module.css';\nimport { isMobile } from '../../../helpers';\n\nconst Productos = props => {\n  const {\n    0: filtro,\n    1: setFiltro\n  } = useState('');\n  const {\n    0: rangoProducto,\n    1: setRangoProducto\n  } = useState({\n    desde: 1,\n    limiteDesktop: 20,\n    limiteMobile: 10\n  });\n  useEffect(() => {\n    if (props.location !== '/productos') {\n      if (props.query.search) {\n        mostrarSolapaFiltro(props.query.search);\n      } else {\n        mostrarSolapaFiltro(props.query.index[0]);\n      }\n    } else {\n      getProductos();\n    }\n  }, []);\n  useEffect(() => {\n    if (rangoProducto.desde > 1) {\n      props.traerMas(rangoProducto, props.productos);\n    }\n  }, [rangoProducto]);\n\n  const showFiltrosMobile = () => {\n    document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\n  };\n\n  const getProductos = async () => {\n    try {\n      await props.traerTodos(rangoProducto);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const mostrarSolapaFiltro = filtro => {\n    setFiltro(filtro);\n  };\n\n  const handleChangeOrdenProductos = event => {\n    if (event.target.value === 'asc') {\n      props.productos.sort((a, b) => {\n        if (a.precioUnidad > b.precioUnidad) return 1;\n        if (a.precioUnidad < b.precioUnidad) return -1;\n        return 0;\n      });\n    } else {\n      props.productos.sort((a, b) => {\n        if (a.precioUnidad < b.precioUnidad) return 1;\n        if (a.precioUnidad > b.precioUnidad) return -1;\n        return 0;\n      });\n    }\n\n    ;\n    return props.ordenarProductos(props.productos);\n  }; //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\n\n\n  if (props.location == '/productos' && filtro != '') {\n    setFiltro('');\n  }\n\n  const cargarMas = () => {\n    if (isMobile()) {\n      setRangoProducto(_objectSpread(_objectSpread({}, rangoProducto), {}, {\n        desde: rangoProducto.desde + rangoProducto.limiteMobile - 1\n      }));\n    } else {\n      setRangoProducto(_objectSpread(_objectSpread({}, rangoProducto), {}, {\n        desde: rangoProducto.desde + rangoProducto.limiteDesktop - 1\n      }));\n    }\n  };\n\n  const handleScrollFeedProductos = event => {\n    let feedProductos = document.querySelector('.feedProductos');\n    let botonCargarMas = document.querySelector('.btn-vermas');\n    let alturaTotalFeed = feedProductos.scrollHeight;\n    let alturaActual = feedProductos.scrollTop;\n    let porcentajeSuficiente = alturaTotalFeed * 85 / 100;\n    console.log(porcentajeSuficiente);\n    console.log(alturaActual);\n\n    if (alturaActual >= porcentajeSuficiente) {\n      return botonCargarMas.classList.remove('d-none');\n    } else {\n      return botonCargarMas.classList.add('d-none');\n    }\n  };\n\n  return __jsx(React.Fragment, null, props.loading || !props.productos ? __jsx(\"div\", {\n    className: \"jsx-2778668712\" + \" \" + \"col-12 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 50\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 86\n    }\n  })) : __jsx(React.Fragment, null, filtro !== '' ? __jsx(\"span\", {\n    id: \"label__filtro-busqueda\",\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.label__filtro_busqueda || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }), __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.item_filtro_busqueda || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    id: \"valor-busqueda\",\n    className: \"jsx-2778668712\" + \" \" + \"text-mutedd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, filtro))) : null, __jsx(\"div\", {\n    style: {\n      padding: '0px 15px'\n    },\n    className: \"jsx-2778668712\" + \" \" + \"row justify-content-between my-2 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    className: \"jsx-2778668712\" + \" \" + \"txt-yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 50\n    }\n  }, props.productos.length), \" productos encontrados\"), __jsx(\"div\", {\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.ordenarProductos + ' ' + `d-flex align-items-center` || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-2778668712\" + \" \" + \"txt-yellow text-bold mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"Ordenar por: \"), __jsx(\"select\", {\n    onChange: handleChangeOrdenProductos,\n    className: \"jsx-2778668712\" + \" \" + (ProductosStyle.select_ordenar || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    value: \"desc\",\n    className: \"jsx-2778668712\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, \"Mayor precio\"), __jsx(\"option\", {\n    value: \"asc\",\n    className: \"jsx-2778668712\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, \"Menor precio\"))), __jsx(\"button\", {\n    onClick: showFiltrosMobile,\n    className: \"jsx-2778668712\" + \" \" + (`boton bg-yellow mt-3 d-none` + ' ' + ProductosStyle.boton_filtrar_mobile || \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"Filtrar\")), __jsx(\"div\", {\n    onScroll: handleScrollFeedProductos,\n    className: \"jsx-2778668712\" + \" \" + \"row feedProductos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, !props.productos ? null : props.productos.map(prd => __jsx(\"div\", {\n    key: prd.idProducto,\n    className: \"jsx-2778668712\" + \" \" + \"col-6 col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, __jsx(CardProducto, {\n    imagen: prd.foto,\n    prd: prd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  })))), props.productos && props.productos.length >= 20 ? __jsx(\"button\", {\n    onClick: cargarMas,\n    className: \"jsx-2778668712\" + \" \" + \"boton bg-yellow btn-vermas d-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, props.loading_mas ? 'Obteniendo productos...' : 'Cargar m치s') : null), __jsx(_JSXStyle, {\n    id: \"2778668712\",\n    __self: this\n  }, \".feedProductos.jsx-2778668712{height:75vh;overflow-y:scroll;}.btn-vermas.jsx-2778668712{position:relative;top:12px;}.feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:5px;}.feedProductos.jsx-2778668712::-webkit-scrollbar-thumb{background:#FFB347;border-radius:4px;}.feedProductos.jsx-2778668712::-webkit-scrollbar-thumb.jsx-2778668712:hover{background:#b3b3b3;box-shadow:0 0 2px 1px rgba(0,0,0,0.2);}@media(max-width:768px){.feedProductos.jsx-2778668712{height:65vh;overflow-y:scroll;}.feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:10px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZnJhbmNcXERvY3VtZW50c1xcb2xpdmVyLTJcXHNpdGlvLWRlc2FcXHNyY1xcY29tcG9uZW50c1xcUHJvZHVjdG9zXFxpbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErSXdCLEFBR2dDLEFBSU0sQUFJUCxBQUtTLEFBSUEsQUFLSixBQUlELFVBaEJuQixBQWtCSSxFQTNCa0IsQUFzQkksTUFqQjFCLENBUXVCLEFBSXdCLEVBUjlDLENBa0JJLEtBdEJKLEdBSkEsQUFzQkksT0FUSixxQkFJQSIsImZpbGUiOiJDOlxcVXNlcnNcXGZyYW5jXFxEb2N1bWVudHNcXG9saXZlci0yXFxzaXRpby1kZXNhXFxzcmNcXGNvbXBvbmVudHNcXFByb2R1Y3Rvc1xcaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IENhcmRQcm9kdWN0byBmcm9tICcuLi9DYXJkUHJvZHVjdG8nO1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0ICogYXMgcHJvZHVjdG9zQWN0aW9ucyBmcm9tICcuLi8uLi8uLi9zdG9yZS9hY3Rpb25zL3Byb2R1Y3Rvc0FjdGlvbnMnO1xyXG5pbXBvcnQgUHJvZHVjdG9zU3R5bGUgZnJvbSAnLi9Qcm9kdWN0b3MubW9kdWxlLmNzcyc7XHJcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vTG9hZGVyJztcclxuaW1wb3J0IHsgZmFTZWFyY2ggfSBmcm9tIFwiQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zXCI7XHJcbmltcG9ydCB7IEZvbnRBd2Vzb21lSWNvbiB9IGZyb20gXCJAZm9ydGF3ZXNvbWUvcmVhY3QtZm9udGF3ZXNvbWVcIjtcclxuaW1wb3J0IEZpbHRyb1N0eWxlIGZyb20gJy4uL0ZpbHRyby9GaWx0cm8ubW9kdWxlLmNzcyc7XHJcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycyc7XHJcblxyXG5jb25zdCBQcm9kdWN0b3MgPSAocHJvcHMpID0+IHtcclxuXHJcbiAgICBjb25zdCBbZmlsdHJvLCBzZXRGaWx0cm9dID0gdXNlU3RhdGUoJycpO1xyXG4gICAgY29uc3QgW3JhbmdvUHJvZHVjdG8sIHNldFJhbmdvUHJvZHVjdG9dID0gdXNlU3RhdGUoe1xyXG4gICAgICAgIGRlc2RlOjEsXHJcbiAgICAgICAgbGltaXRlRGVza3RvcDoyMCxcclxuICAgICAgICBsaW1pdGVNb2JpbGU6MTBcclxuICAgIH0pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYocHJvcHMubG9jYXRpb24gIT09ICcvcHJvZHVjdG9zJyl7XHJcbiAgICAgICAgICAgIGlmKHByb3BzLnF1ZXJ5LnNlYXJjaCl7XHJcbiAgICAgICAgICAgICAgICBtb3N0cmFyU29sYXBhRmlsdHJvKHByb3BzLnF1ZXJ5LnNlYXJjaCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbW9zdHJhclNvbGFwYUZpbHRybyhwcm9wcy5xdWVyeS5pbmRleFswXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZ2V0UHJvZHVjdG9zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYocmFuZ29Qcm9kdWN0by5kZXNkZT4xKXtcclxuICAgICAgICAgICAgcHJvcHMudHJhZXJNYXMocmFuZ29Qcm9kdWN0byxwcm9wcy5wcm9kdWN0b3MpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtyYW5nb1Byb2R1Y3RvXSlcclxuXHJcbiAgICBjb25zdCBzaG93RmlsdHJvc01vYmlsZSA9ICgpPT57XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnRmlsdHJvX2ZpbHRyb3NfX2NvbnRhbmllcl9fM2tuWGYnKVswXS5jbGFzc0xpc3QuYWRkKEZpbHRyb1N0eWxlLnNob3dfZmlsdHJvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2V0UHJvZHVjdG9zID0gYXN5bmMgKCk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBwcm9wcy50cmFlclRvZG9zKHJhbmdvUHJvZHVjdG8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IG1vc3RyYXJTb2xhcGFGaWx0cm8gPSBmaWx0cm89PntcclxuICAgICAgICBzZXRGaWx0cm8oZmlsdHJvKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2VPcmRlblByb2R1Y3RvcyA9IGV2ZW50PT57XHJcbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnYXNjJyl7XHJcbiAgICAgICAgICAgIHByb3BzLnByb2R1Y3Rvcy5zb3J0KChhLGIpPT57XHJcbiAgICAgICAgICAgICAgICBpZihhLnByZWNpb1VuaWRhZCA+IGIucHJlY2lvVW5pZGFkKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIGlmKGEucHJlY2lvVW5pZGFkIDwgYi5wcmVjaW9VbmlkYWQpIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBwcm9wcy5wcm9kdWN0b3Muc29ydCgoYSxiKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoYS5wcmVjaW9VbmlkYWQgPCBiLnByZWNpb1VuaWRhZCkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICBpZihhLnByZWNpb1VuaWRhZCA+IGIucHJlY2lvVW5pZGFkKSByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBwcm9wcy5vcmRlbmFyUHJvZHVjdG9zKHByb3BzLnByb2R1Y3Rvcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vb2N1bHRhciBsYSBjaGFwaXRhIHF1ZSBpbmRpY2EgZWwgbm9tYnJlIGRlbCBmaWx0cm8gYWN0aXZvIGN1YW5kbyBzZSByZXN0YWJsZWNlbiBsb3MgZmlsdHJvcy5cclxuICAgIGlmKHByb3BzLmxvY2F0aW9uPT0nL3Byb2R1Y3RvcycgJiYgZmlsdHJvIT0nJyl7XHJcbiAgICAgICAgc2V0RmlsdHJvKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjYXJnYXJNYXMgPSAoKT0+e1xyXG4gICAgICAgIGlmKGlzTW9iaWxlKCkpe1xyXG4gICAgICAgICAgICBzZXRSYW5nb1Byb2R1Y3RvKHtcclxuICAgICAgICAgICAgICAgIC4uLnJhbmdvUHJvZHVjdG8sXHJcbiAgICAgICAgICAgICAgICBkZXNkZTogcmFuZ29Qcm9kdWN0by5kZXNkZSArIHJhbmdvUHJvZHVjdG8ubGltaXRlTW9iaWxlIC0gMSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc2V0UmFuZ29Qcm9kdWN0byh7XHJcbiAgICAgICAgICAgICAgICAuLi5yYW5nb1Byb2R1Y3RvLFxyXG4gICAgICAgICAgICAgICAgZGVzZGU6IHJhbmdvUHJvZHVjdG8uZGVzZGUgKyByYW5nb1Byb2R1Y3RvLmxpbWl0ZURlc2t0b3AgLSAxXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbEZlZWRQcm9kdWN0b3MgPSBldmVudD0+e1xyXG4gICAgICAgIGxldCBmZWVkUHJvZHVjdG9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlZWRQcm9kdWN0b3MnKTtcclxuICAgICAgICBsZXQgYm90b25DYXJnYXJNYXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLXZlcm1hcycpO1xyXG4gICAgICAgIGxldCBhbHR1cmFUb3RhbEZlZWQgPSBmZWVkUHJvZHVjdG9zLnNjcm9sbEhlaWdodDtcclxuICAgICAgICBsZXQgYWx0dXJhQWN0dWFsID0gZmVlZFByb2R1Y3Rvcy5zY3JvbGxUb3A7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHBvcmNlbnRhamVTdWZpY2llbnRlID0gKGFsdHVyYVRvdGFsRmVlZCAqIDg1KSAvIDEwMDtcclxuICAgICAgICBjb25zb2xlLmxvZyhwb3JjZW50YWplU3VmaWNpZW50ZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYWx0dXJhQWN0dWFsKTtcclxuICAgICAgICBpZihhbHR1cmFBY3R1YWw+PXBvcmNlbnRhamVTdWZpY2llbnRlKXtcclxuICAgICAgICAgICAgcmV0dXJuIGJvdG9uQ2FyZ2FyTWFzLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gYm90b25DYXJnYXJNYXMuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgeyhwcm9wcy5sb2FkaW5nIHx8ICFwcm9wcy5wcm9kdWN0b3MpPzxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIHRleHQtY2VudGVyXCI+PExvYWRlci8+PC9kaXY+OlxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgeyhmaWx0cm8hPT0nJyk/XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJsYWJlbF9fZmlsdHJvLWJ1c3F1ZWRhXCIgY2xhc3NOYW1lPXtQcm9kdWN0b3NTdHlsZS5sYWJlbF9fZmlsdHJvX2J1c3F1ZWRhfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvbnRBd2Vzb21lSWNvbiBpY29uPXtmYVNlYXJjaH0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1Byb2R1Y3Rvc1N0eWxlLml0ZW1fZmlsdHJvX2J1c3F1ZWRhfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRkXCIgaWQ9XCJ2YWxvci1idXNxdWVkYVwiPntmaWx0cm99PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgOm51bGx9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBteS0yIGFsaWduLWl0ZW1zLWNlbnRlclwiIHN0eWxlPXt7cGFkZGluZzonMHB4IDE1cHgnfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPjxiIGNsYXNzTmFtZT1cInR4dC15ZWxsb3dcIj57cHJvcHMucHJvZHVjdG9zLmxlbmd0aH08L2I+IHByb2R1Y3RvcyBlbmNvbnRyYWRvczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17UHJvZHVjdG9zU3R5bGUub3JkZW5hclByb2R1Y3RvcyArICcgJyArIGBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyYH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInR4dC15ZWxsb3cgdGV4dC1ib2xkIG1yLTJcIj5PcmRlbmFyIHBvcjogPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT17UHJvZHVjdG9zU3R5bGUuc2VsZWN0X29yZGVuYXJ9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2VPcmRlblByb2R1Y3Rvc30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGVzY1wiPk1heW9yIHByZWNpbzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFzY1wiPk1lbm9yIHByZWNpbzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3Nob3dGaWx0cm9zTW9iaWxlfSBjbGFzc05hbWU9e2Bib3RvbiBiZy15ZWxsb3cgbXQtMyBkLW5vbmVgICsgJyAnICsgUHJvZHVjdG9zU3R5bGUuYm90b25fZmlsdHJhcl9tb2JpbGV9PkZpbHRyYXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmVlZFByb2R1Y3Rvc1wiIG9uU2Nyb2xsPXtoYW5kbGVTY3JvbGxGZWVkUHJvZHVjdG9zfT5cclxuICAgICAgICAgICAgICAgICAgICB7IXByb3BzLnByb2R1Y3RvcyA/IG51bGwgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5wcm9kdWN0b3MubWFwKHByZD0+KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3ByZC5pZFByb2R1Y3RvfSBjbGFzc05hbWU9XCJjb2wtNiBjb2wtbWQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkUHJvZHVjdG8gaW1hZ2VuPXtwcmQuZm90b30gcHJkPXtwcmR9Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgeyhwcm9wcy5wcm9kdWN0b3MgJiYgcHJvcHMucHJvZHVjdG9zLmxlbmd0aD49MjApP1xyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJib3RvbiBiZy15ZWxsb3cgYnRuLXZlcm1hcyBkLW5vbmVcIiBvbkNsaWNrPXtjYXJnYXJNYXN9PnsocHJvcHMubG9hZGluZ19tYXMpPydPYnRlbmllbmRvIHByb2R1Y3Rvcy4uLic6J0NhcmdhciBtw6FzJ308L2J1dHRvbj46bnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAuZmVlZFByb2R1Y3Rvc3tcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6NzV2aDtcclxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OnNjcm9sbDtcclxuICAgICAgICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgICAgICAgICAuYnRuLXZlcm1hc3tcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6MTJweFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLmZlZWRQcm9kdWN0b3M6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogOHB4OyAgICAgLyogVGFtYcOxbyBkZWwgc2Nyb2xsIGVuIHZlcnRpY2FsICovXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjVweFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC5mZWVkUHJvZHVjdG9zOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI0ZGQjM0NztcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAuZmVlZFByb2R1Y3Rvczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNiM2IzYjM7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQG1lZGlhKG1heC13aWR0aDo3NjhweCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLmZlZWRQcm9kdWN0b3N7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDo2NXZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdy15OnNjcm9sbDtcclxuICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIC5mZWVkUHJvZHVjdG9zOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4cHg7ICAgICAvKiBUYW1hw7FvIGRlbCBzY3JvbGwgZW4gdmVydGljYWwgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjEwcHhcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9XHJcbiAgICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApO1xyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSByZWR1Y2Vycz0+e1xyXG4gICAgcmV0dXJuIHJlZHVjZXJzLnByb2R1Y3Rvc1JlZHVjZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLHByb2R1Y3Rvc0FjdGlvbnMpKFByb2R1Y3Rvcyk7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\franc\\\\\\\\Documents\\\\\\\\oliver-2\\\\\\\\sitio-desa\\\\\\\\src\\\\\\\\components\\\\\\\\Productos\\\\\\\\index.js */\"));\n};\n\nconst mapStateToProps = reducers => {\n  return reducers.productosReducer;\n};\n\nexport default connect(mapStateToProps, productosActions)(Productos);","map":{"version":3,"sources":["C:/Users/franc/Documents/oliver-2/sitio-desa/src/components/Productos/index.js"],"names":["React","useState","useEffect","CardProducto","connect","productosActions","ProductosStyle","Loader","faSearch","FontAwesomeIcon","FiltroStyle","isMobile","Productos","props","filtro","setFiltro","rangoProducto","setRangoProducto","desde","limiteDesktop","limiteMobile","location","query","search","mostrarSolapaFiltro","index","getProductos","traerMas","productos","showFiltrosMobile","document","getElementsByClassName","classList","add","show_filtros","traerTodos","error","console","log","handleChangeOrdenProductos","event","target","value","sort","a","b","precioUnidad","ordenarProductos","cargarMas","handleScrollFeedProductos","feedProductos","querySelector","botonCargarMas","alturaTotalFeed","scrollHeight","alturaActual","scrollTop","porcentajeSuficiente","remove","loading","label__filtro_busqueda","item_filtro_busqueda","padding","length","select_ordenar","boton_filtrar_mobile","map","prd","idProducto","foto","loading_mas","mapStateToProps","reducers","productosReducer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CardProducto from '../CardProducto';\r\nimport {connect} from 'react-redux';\r\nimport * as productosActions from '../../../store/actions/productosActions';\r\nimport ProductosStyle from './Productos.module.css';\r\nimport Loader from '../Loader';\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport FiltroStyle from '../Filtro/Filtro.module.css';\r\nimport { isMobile } from '../../../helpers';\r\n\r\nconst Productos = (props) => {\r\n\r\n    const [filtro, setFiltro] = useState('');\r\n    const [rangoProducto, setRangoProducto] = useState({\r\n        desde:1,\r\n        limiteDesktop:20,\r\n        limiteMobile:10\r\n    });\r\n\r\n    useEffect(() => {\r\n        if(props.location !== '/productos'){\r\n            if(props.query.search){\r\n                mostrarSolapaFiltro(props.query.search);\r\n            }else{\r\n                mostrarSolapaFiltro(props.query.index[0]);\r\n            }\r\n        }else{\r\n            getProductos();\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(rangoProducto.desde>1){\r\n            props.traerMas(rangoProducto,props.productos);\r\n        }\r\n    }, [rangoProducto])\r\n\r\n    const showFiltrosMobile = ()=>{\r\n        document.getElementsByClassName('Filtro_filtros__contanier__3knXf')[0].classList.add(FiltroStyle.show_filtros);\r\n    }\r\n\r\n    const getProductos = async ()=>{\r\n        try {\r\n            await props.traerTodos(rangoProducto);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    \r\n    const mostrarSolapaFiltro = filtro=>{\r\n        setFiltro(filtro);\r\n    }\r\n\r\n    const handleChangeOrdenProductos = event=>{\r\n        if(event.target.value === 'asc'){\r\n            props.productos.sort((a,b)=>{\r\n                if(a.precioUnidad > b.precioUnidad) return 1;\r\n                if(a.precioUnidad < b.precioUnidad) return -1;\r\n                return 0;\r\n            })\r\n        }else{\r\n            props.productos.sort((a,b)=>{\r\n                if(a.precioUnidad < b.precioUnidad) return 1;\r\n                if(a.precioUnidad > b.precioUnidad) return -1;\r\n                return 0;\r\n            })\r\n        };\r\n        return props.ordenarProductos(props.productos);\r\n    }\r\n    \r\n    //ocultar la chapita que indica el nombre del filtro activo cuando se restablecen los filtros.\r\n    if(props.location=='/productos' && filtro!=''){\r\n        setFiltro('');\r\n    }\r\n\r\n    const cargarMas = ()=>{\r\n        if(isMobile()){\r\n            setRangoProducto({\r\n                ...rangoProducto,\r\n                desde: rangoProducto.desde + rangoProducto.limiteMobile - 1,\r\n            })\r\n        }else{\r\n            setRangoProducto({\r\n                ...rangoProducto,\r\n                desde: rangoProducto.desde + rangoProducto.limiteDesktop - 1\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleScrollFeedProductos = event=>{\r\n        let feedProductos = document.querySelector('.feedProductos');\r\n        let botonCargarMas = document.querySelector('.btn-vermas');\r\n        let alturaTotalFeed = feedProductos.scrollHeight;\r\n        let alturaActual = feedProductos.scrollTop;\r\n        \r\n        let porcentajeSuficiente = (alturaTotalFeed * 85) / 100;\r\n        console.log(porcentajeSuficiente);\r\n        console.log(alturaActual);\r\n        if(alturaActual>=porcentajeSuficiente){\r\n            return botonCargarMas.classList.remove('d-none');\r\n        }else{\r\n            return botonCargarMas.classList.add('d-none');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {(props.loading || !props.productos)?<div className=\"col-12 text-center\"><Loader/></div>:\r\n            <>\r\n                {(filtro!=='')?\r\n                    <span id=\"label__filtro-busqueda\" className={ProductosStyle.label__filtro_busqueda}>\r\n                        <FontAwesomeIcon icon={faSearch}/>\r\n                        <span className={ProductosStyle.item_filtro_busqueda}>\r\n                            <span className=\"text-mutedd\" id=\"valor-busqueda\">{filtro}</span>\r\n                        </span>\r\n                    </span>\r\n                :null}\r\n                <div className=\"row justify-content-between my-2 align-items-center\" style={{padding:'0px 15px'}}>\r\n                    <span className=\"text-muted\"><b className=\"txt-yellow\">{props.productos.length}</b> productos encontrados</span>\r\n                    <div className={ProductosStyle.ordenarProductos + ' ' + `d-flex align-items-center`}>\r\n                        <span className=\"txt-yellow text-bold mr-2\">Ordenar por: </span>\r\n                        <select className={ProductosStyle.select_ordenar} onChange={handleChangeOrdenProductos}>\r\n                            <option value=\"desc\">Mayor precio</option>\r\n                            <option value=\"asc\">Menor precio</option>\r\n                        </select>\r\n                    </div>\r\n                    <button onClick={showFiltrosMobile} className={`boton bg-yellow mt-3 d-none` + ' ' + ProductosStyle.boton_filtrar_mobile}>Filtrar</button>\r\n                </div>\r\n                <div className=\"row feedProductos\" onScroll={handleScrollFeedProductos}>\r\n                    {!props.productos ? null :\r\n                        props.productos.map(prd=>(\r\n                            <div key={prd.idProducto} className=\"col-6 col-md-3\">\r\n                                <CardProducto imagen={prd.foto} prd={prd}/>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n                {(props.productos && props.productos.length>=20)?\r\n                <button className=\"boton bg-yellow btn-vermas d-none\" onClick={cargarMas}>{(props.loading_mas)?'Obteniendo productos...':'Cargar m치s'}</button>:null\r\n                }\r\n            </>\r\n            }\r\n            <style jsx>{`\r\n                .feedProductos{\r\n                    height:75vh;\r\n                    overflow-y:scroll;\r\n                }    \r\n                .btn-vermas{\r\n                    position:relative;\r\n                    top:12px\r\n                }\r\n                .feedProductos::-webkit-scrollbar {\r\n                    width: 8px;     /* Tama침o del scroll en vertical */\r\n                    height:5px\r\n                }\r\n\r\n                .feedProductos::-webkit-scrollbar-thumb {\r\n                    background: #FFB347;\r\n                    border-radius: 4px;\r\n                }\r\n                .feedProductos::-webkit-scrollbar-thumb:hover {\r\n                    background: #b3b3b3;\r\n                    box-shadow: 0 0 2px 1px rgba(0, 0, 0, 0.2);\r\n                }\r\n                @media(max-width:768px){\r\n                    .feedProductos{\r\n                        height:65vh;\r\n                        overflow-y:scroll;\r\n                    } \r\n                    .feedProductos::-webkit-scrollbar {\r\n                        width: 8px;     /* Tama침o del scroll en vertical */\r\n                        height:10px\r\n                    }\r\n                }\r\n            `}\r\n            </style>\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = reducers=>{\r\n    return reducers.productosReducer;\r\n}\r\n\r\nexport default connect(mapStateToProps,productosActions)(Productos);"]},"metadata":{},"sourceType":"module"}