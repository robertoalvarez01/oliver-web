{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { API } from '../../config/index';\nimport { isMobile } from '../../helpers/index';\nimport { TRAER_TODOS, TRAER_UNO, LOADING, ERROR, TRAER_PROMOCIONES, ORDENAR_PRODUCTOS, FILTRANDO, LOADING_MAS, TRAER_MAS, TRAER_OFERTAS, APLICAR_FILTRO_CATEGORIA, APLICAR_FILTRO_SUBCATEGORIA, APLICAR_FILTRO_MARCA, APLICAR_FILTRO_BUSCADOR, APLICAR_FILTRO_ORDEN, ELIMINAR_FILTRO_CATEGORIA, ELIMINAR_FILTRO_SUBCATEGORIA, ELIMINAR_FILTRO_MARCA, ELIMINAR_FILTRO_BUSCADOR, ELIMINAR_FILTRO_ORDEN } from '../types/productosTypes';\nexport var traerTodos = function traerTodos(_ref) {\n  var desde = _ref.desde,\n      limiteDesktop = _ref.limiteDesktop,\n      limiteMobile = _ref.limiteMobile;\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var url;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context.prev = 1;\n              url = \"\".concat(API, \"/producto?desde=\").concat(desde, \"&limite=\").concat(limiteDesktop);\n\n              if (isMobile()) {\n                url = \"\".concat(API, \"/producto?desde=\").concat(desde, \"&limite=\").concat(limiteMobile);\n              }\n\n              return _context.abrupt(\"return\", fetch(url).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_TODOS,\n                  payload: data.data\n                });\n              }));\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context.t0\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var traerMas = function traerMas(rangoProducto, prevProductos) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var url;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch({\n                type: LOADING_MAS\n              });\n              _context2.prev = 1;\n              url = \"\".concat(API, \"/producto?desde=\").concat(rangoProducto.desde, \"&limite=\").concat(rangoProducto.limiteDesktop);\n\n              if (isMobile()) {\n                url = \"\".concat(API, \"/producto?desde=\").concat(rangoProducto.desde, \"&limite=\").concat(rangoProducto.limiteMobile);\n              }\n\n              return _context2.abrupt(\"return\", fetch(url).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                var updateproductos = [].concat(_toConsumableArray(prevProductos), _toConsumableArray(data.data));\n                dispatch({\n                  type: TRAER_MAS,\n                  payload: updateproductos\n                });\n              }));\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context2.t0\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 7]]);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var traerPorId = function traerPorId(id) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context3.prev = 1;\n              return _context3.abrupt(\"return\", fetch(\"\".concat(API, \"/producto/\").concat(id)).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_UNO,\n                  payload: data\n                });\n              }));\n\n            case 5:\n              _context3.prev = 5;\n              _context3.t0 = _context3[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context3.t0\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 5]]);\n    }));\n\n    return function (_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var traerPromociones = function traerPromociones() {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var url;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n              _context4.prev = 1;\n              url = \"\".concat(API, \"/subproductos/ofertas?desde=0&limite=9\");\n\n              if (isMobile()) {\n                url = \"\".concat(API, \"/subproductos/ofertas?desde=0&limite=6\");\n              }\n\n              return _context4.abrupt(\"return\", fetch(url).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: TRAER_OFERTAS,\n                  payload: data.data\n                });\n              }));\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context4.t0.message\n              });\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 7]]);\n    }));\n\n    return function (_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var ordenarProductos = function ordenarProductos(productosOrdenados) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dispatch({\n                type: LOADING\n              });\n\n              try {\n                dispatch({\n                  type: ORDENAR_PRODUCTOS,\n                  payload: productosOrdenados\n                });\n              } catch (error) {\n                dispatch({\n                  type: ERROR,\n                  payload: error\n                });\n              }\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var filtrarProductos = function filtrarProductos(url, desde, limiteDesktop, limiteMobile) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var urlFiltro;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              //console.log('filtrando');\n              //console.log(url);\n              dispatch({\n                type: LOADING\n              });\n              _context6.prev = 1;\n              urlFiltro = url.includes('buscar?busqueda') ? \"productos/\".concat(url, \"&\") : \"productos/filtro/\".concat(url, \"&\");\n\n              if (isMobile()) {\n                urlFiltro += \"desde=\".concat(desde, \"&limite=\").concat(limiteMobile);\n              } else {\n                urlFiltro += \"desde=\".concat(desde, \"&limite=\").concat(limiteDesktop);\n              }\n\n              return _context6.abrupt(\"return\", fetch(\"\".concat(API, \"/\").concat(urlFiltro)).then(function (res) {\n                return res.json();\n              }).then(function (data) {\n                dispatch({\n                  type: FILTRANDO,\n                  payload: data.data\n                });\n              }));\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](1);\n              dispatch({\n                type: ERROR,\n                payload: _context6.t0\n              });\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[1, 7]]);\n    }));\n\n    return function (_x6) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n};\nexport var aplicarFiltro = function aplicarFiltro(tipo, valor) {\n  return function (dispatch) {\n    switch (tipo) {\n      case 'categoria':\n        dispatch({\n          type: APLICAR_FILTRO_CATEGORIA,\n          payload: valor\n        });\n        break;\n\n      case 'subcategoria':\n        dispatch({\n          type: APLICAR_FILTRO_SUBCATEGORIA,\n          payload: valor\n        });\n        break;\n\n      case 'marca':\n        dispatch({\n          type: APLICAR_FILTRO_MARCA,\n          payload: valor\n        });\n        break;\n\n      case 'search':\n        dispatch({\n          type: APLICAR_FILTRO_BUSCADOR,\n          payload: valor\n        });\n        break;\n\n      case 'orden':\n        dispatch({\n          type: APLICAR_FILTRO_ORDEN,\n          payload: valor\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n};\nexport var quitarFiltro = function quitarFiltro(tipo) {\n  return function (dispatch) {\n    switch (tipo) {\n      case 'categoria':\n        dispatch({\n          type: ELIMINAR_FILTRO_CATEGORIA\n        });\n        break;\n\n      case 'subcategoria':\n        dispatch({\n          type: ELIMINAR_FILTRO_SUBCATEGORIA\n        });\n        break;\n\n      case 'marca':\n        dispatch({\n          type: ELIMINAR_FILTRO_MARCA\n        });\n        break;\n\n      case 'buscador':\n        dispatch({\n          type: ELIMINAR_FILTRO_BUSCADOR\n        });\n        break;\n\n      case 'orden':\n        dispatch({\n          type: ELIMINAR_FILTRO_ORDEN\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n};","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/store/actions/productosActions.js"],"names":["API","isMobile","TRAER_TODOS","TRAER_UNO","LOADING","ERROR","TRAER_PROMOCIONES","ORDENAR_PRODUCTOS","FILTRANDO","LOADING_MAS","TRAER_MAS","TRAER_OFERTAS","APLICAR_FILTRO_CATEGORIA","APLICAR_FILTRO_SUBCATEGORIA","APLICAR_FILTRO_MARCA","APLICAR_FILTRO_BUSCADOR","APLICAR_FILTRO_ORDEN","ELIMINAR_FILTRO_CATEGORIA","ELIMINAR_FILTRO_SUBCATEGORIA","ELIMINAR_FILTRO_MARCA","ELIMINAR_FILTRO_BUSCADOR","ELIMINAR_FILTRO_ORDEN","traerTodos","desde","limiteDesktop","limiteMobile","dispatch","type","url","fetch","then","res","json","data","payload","traerMas","rangoProducto","prevProductos","updateproductos","traerPorId","id","traerPromociones","message","ordenarProductos","productosOrdenados","error","filtrarProductos","urlFiltro","includes","aplicarFiltro","tipo","valor","quitarFiltro"],"mappings":"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","sourcesContent":["import {API} from '../../config/index';\nimport {isMobile} from '../../helpers/index';\nimport {TRAER_TODOS,TRAER_UNO,LOADING,ERROR,TRAER_PROMOCIONES,ORDENAR_PRODUCTOS,FILTRANDO,LOADING_MAS,TRAER_MAS, TRAER_OFERTAS, APLICAR_FILTRO_CATEGORIA, APLICAR_FILTRO_SUBCATEGORIA, APLICAR_FILTRO_MARCA, APLICAR_FILTRO_BUSCADOR, APLICAR_FILTRO_ORDEN, ELIMINAR_FILTRO_CATEGORIA, ELIMINAR_FILTRO_SUBCATEGORIA, ELIMINAR_FILTRO_MARCA, ELIMINAR_FILTRO_BUSCADOR, ELIMINAR_FILTRO_ORDEN} from '../types/productosTypes';\n\nexport const traerTodos = ({desde,limiteDesktop,limiteMobile})=>async (dispatch)=>{\n    dispatch({\n        type:LOADING\n    });\n    try {\n        let url = `${API}/producto?desde=${desde}&limite=${limiteDesktop}`;\n        if(isMobile()){\n            url = `${API}/producto?desde=${desde}&limite=${limiteMobile}`;\n        }\n        return fetch(url).then(res=>res.json()).then(data=>{\n            dispatch({\n                type:TRAER_TODOS,\n                payload:data.data\n            });\n        })\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const traerMas = (rangoProducto,prevProductos)=>async (dispatch)=>{\n    dispatch({\n        type:LOADING_MAS\n    });\n    try {\n        let url = `${API}/producto?desde=${rangoProducto.desde}&limite=${rangoProducto.limiteDesktop}`;\n        if(isMobile()){\n            url = `${API}/producto?desde=${rangoProducto.desde}&limite=${rangoProducto.limiteMobile}`;\n        }\n        return fetch(url).then(res=>res.json()).then(data=>{\n            let updateproductos = [...prevProductos,...data.data];\n            dispatch({\n                type:TRAER_MAS,\n                payload:updateproductos\n            });\n        })\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const traerPorId = id=>async(dispatch)=>{\n    dispatch({\n        type:LOADING\n    });\n    try {\n        return fetch(`${API}/producto/${id}`).then(res=>res.json()).then(data=>{\n            dispatch({\n                type:TRAER_UNO,\n                payload:data\n            });\n        })\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const traerPromociones = ()=>async(dispatch)=>{\n    dispatch({\n        type:LOADING\n    });\n    try {\n        let url = `${API}/subproductos/ofertas?desde=0&limite=9`;\n        if(isMobile()){\n            url = `${API}/subproductos/ofertas?desde=0&limite=6`;\n        }\n        return fetch(url).then(res=>res.json()).then(data=>{\n            dispatch({\n                type:TRAER_OFERTAS,\n                payload:data.data\n            });\n        })\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error.message\n        })\n    }\n}\n\nexport const ordenarProductos = productosOrdenados=>async dispatch=>{\n    dispatch({\n        type:LOADING\n    });\n    try {\n        dispatch({\n            type:ORDENAR_PRODUCTOS,\n            payload:productosOrdenados\n        });\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const filtrarProductos = (url,desde,limiteDesktop,limiteMobile)=>async dispatch=>{\n    //console.log('filtrando');\n    //console.log(url);\n    dispatch({\n        type:LOADING\n    });\n    try {\n        let urlFiltro = (url.includes('buscar?busqueda'))?`productos/${url}&`:`productos/filtro/${url}&`;\n        if(isMobile()){\n            urlFiltro += `desde=${desde}&limite=${limiteMobile}`;\n        }else{\n            urlFiltro += `desde=${desde}&limite=${limiteDesktop}`;\n        }\n        return fetch(`${API}/${urlFiltro}`).then(res=>res.json()).then(data=>{\n            dispatch({\n                type:FILTRANDO,\n                payload:data.data\n            })\n        })\n    } catch (error) {\n        dispatch({\n            type:ERROR,\n            payload:error\n        })\n    }\n}\n\nexport const aplicarFiltro = (tipo,valor)=>dispatch=>{\n    switch (tipo) {\n        case 'categoria':\n            dispatch({\n                type:APLICAR_FILTRO_CATEGORIA,\n                payload:valor\n            })\n            break;\n        case 'subcategoria':\n            dispatch({\n                type:APLICAR_FILTRO_SUBCATEGORIA,\n                payload:valor\n            })\n            break;\n        case 'marca':\n            dispatch({\n                type:APLICAR_FILTRO_MARCA,\n                payload:valor\n            })\n            break;\n        case 'search':\n            dispatch({\n                type:APLICAR_FILTRO_BUSCADOR,\n                payload:valor\n            })\n            break;\n        case 'orden':\n            dispatch({\n                type:APLICAR_FILTRO_ORDEN,\n                payload:valor\n            })\n            break;\n        default:\n            break;\n    }\n}\n\nexport const quitarFiltro = (tipo)=>dispatch=>{\n    switch (tipo) {\n        case 'categoria':\n            dispatch({\n                type:ELIMINAR_FILTRO_CATEGORIA\n            })\n            break;\n        case 'subcategoria':\n            dispatch({\n                type:ELIMINAR_FILTRO_SUBCATEGORIA\n            })\n            break;\n        case 'marca':\n            dispatch({\n                type:ELIMINAR_FILTRO_MARCA\n            })\n            break;\n        case 'buscador':\n            dispatch({\n                type:ELIMINAR_FILTRO_BUSCADOR\n            })\n            break;\n        case 'orden':\n            dispatch({\n                type:ELIMINAR_FILTRO_ORDEN\n            })\n            break;\n        default:\n            break;\n    }\n}"]},"metadata":{},"sourceType":"module"}