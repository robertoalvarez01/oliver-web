{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport CardProductoModule from './CardProducto.module.css';\nimport Link from 'next/link';\nimport { slug, isMobile } from '../../../helpers/index';\nimport { PUBLIC_URL } from '../../../config/index';\nimport Router from 'next/router';\nimport ImagenLoader from '../Loader/ImagenLoader';\n\nvar CardProducto = function CardProducto(_ref) {\n  var imagen = _ref.imagen,\n      prd = _ref.prd;\n\n  var _useState = useState(false),\n      isProductoDetalle = _useState[0],\n      setIsProductoDetalle = _useState[1];\n\n  var _useState2 = useState(true),\n      loadingImagen = _useState2[0],\n      setLoadingImagen = _useState2[1];\n\n  useEffect(function () {\n    var router = Router.router;\n\n    if (router.route == '/producto/[...producto]') {\n      setIsProductoDetalle(true);\n    }\n  }, []);\n\n  var procesarNombre = function procesarNombre(nombre) {\n    var nombreProcesado = nombre;\n\n    if (isMobile()) {\n      if (nombreProcesado.length > 25) {\n        nombreProcesado = nombre.substring(0, 22) + '...';\n      }\n    } else {\n      if (nombreProcesado.length > 45) {\n        nombreProcesado = nombre.substring(0, 40) + '...';\n      }\n    }\n\n    return nombreProcesado;\n  };\n\n  var handleLoad = function handleLoad(e) {\n    var imagen = e.target;\n    setLoadingImagen(false);\n    imagen.classList.remove('d-none');\n  };\n\n  return !isProductoDetalle ? __jsx(Link, {\n    href: \"\".concat(PUBLIC_URL, \"/producto/\").concat(slug(prd.producto), \"/\").concat(prd.idProducto)\n  }, __jsx(\"a\", null, __jsx(\"div\", {\n    className: CardProductoModule.container__producto + ' ' + \"my-3\"\n  }, __jsx(\"section\", {\n    className: CardProductoModule.header__card\n  }, __jsx(\"img\", {\n    src: imagen,\n    alt: \"prd\",\n    className: CardProductoModule.img + ' d-none',\n    onLoad: handleLoad\n  }), loadingImagen ? __jsx(ImagenLoader, null) : null), __jsx(\"section\", {\n    className: CardProductoModule.body__card\n  }, __jsx(\"span\", {\n    className: \"d-block text-muted\"\n  }, prd.marca), __jsx(\"h6\", {\n    className: CardProductoModule.nombre__producto + ' ' + \"text-muted\"\n  }, procesarNombre(prd.producto)), prd.peso != null ? __jsx(\"span\", {\n    className: CardProductoModule.cantidad + \" d-none\"\n  }, prd.peso, \" KG\") : null, __jsx(\"h3\", {\n    className: CardProductoModule.precio + ' ' + \"text-black\"\n  }, \"$\", prd.precioFinal)), prd.descuento ? __jsx(\"span\", {\n    className: CardProductoModule.label__descuento + ' ' + \"bg-red\"\n  }, prd.descuento, \"% Off\") : null))) : __jsx(\"a\", {\n    href: \"\".concat(PUBLIC_URL, \"/producto/\").concat(slug(prd.producto), \"/\").concat(prd.idProducto)\n  }, __jsx(\"div\", {\n    className: CardProductoModule.container__producto + ' ' + \"my-3\"\n  }, __jsx(\"section\", {\n    className: CardProductoModule.header__card\n  }, __jsx(\"img\", {\n    src: imagen,\n    alt: \"prd\",\n    className: CardProductoModule.img + ' d-none',\n    onLoad: handleLoad\n  }), loadingImagen ? __jsx(ImagenLoader, null) : null), __jsx(\"section\", {\n    className: CardProductoModule.body__card\n  }, __jsx(\"span\", {\n    className: CardProductoModule.label__marca + ' ' + \"d-block text-muted\"\n  }, prd.marca), __jsx(\"h6\", {\n    className: CardProductoModule.nombre__producto + ' ' + \"text-muted\"\n  }, procesarNombre(prd.producto)), __jsx(\"span\", {\n    className: CardProductoModule.cantidad + \" d-none\"\n  }, prd.peso, \" KG\"), __jsx(\"h3\", {\n    className: CardProductoModule.precio + ' ' + \"text-black\"\n  }, \"$\", prd.precioFinal)), __jsx(\"span\", {\n    className: CardProductoModule.label__descuento + ' ' + \"bg-red\"\n  }, \"15% Off\")));\n};\n\nexport default CardProducto;","map":null,"metadata":{},"sourceType":"module"}