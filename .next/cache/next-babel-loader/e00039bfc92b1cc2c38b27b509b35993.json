{"ast":null,"code":"var _jsxFileName = \"/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport { faTimes, faBroom, faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\nconst {\n  traerTodas: marcasTraerTodas\n} = marcasActions;\nconst {\n  aplicarFiltro,\n  quitarFiltro,\n  restablecerFiltros\n} = productosActions;\nconst {\n  traerTodas: categoriasTraerTodas\n} = categoriasActions;\nconst {\n  traerTodas: subcategoriaTraerTodas\n} = subcategoriasActions;\n\nconst Filtro = props => {\n  //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    try {\n      if (props.marcasReducer.marcas.length === 0) {\n        await props.marcasTraerTodas();\n      }\n\n      if (props.categoriasReducer.categorias.length === 0) {\n        await props.categoriasTraerTodas();\n      }\n\n      if (props.subcategoriaReducer.subcategorias.length === 0) {\n        await props.subcategoriaTraerTodas();\n      }\n\n      if (props.location !== '/productos') {\n        activarFiltroPorUrl();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const activarFiltroPorUrl = () => {\n    if (props.query.search) {\n      return activarFiltro(Object.keys(props.query)[0], props.query.search);\n    } else {\n      return activarFiltro(props.query.type, props.query.index[1]);\n    }\n  };\n\n  const activarFiltro = (tipoFiltro, key, fromModal = false) => {\n    props.aplicarFiltro(tipoFiltro, key);\n  };\n\n  const limpiarFiltro = tipo => {\n    props.quitarFiltro(tipo);\n  };\n\n  const closeFiltrosMobile = () => {\n    document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n  };\n\n  const showFiltros = () => {\n    let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n    element.classList.toggle(FiltroStyle.show);\n    document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n  };\n\n  const handleRestablecer = () => {\n    props.restablecerFiltros;\n  };\n\n  const {\n    filtrando,\n    filtros\n  } = props.productosReducer;\n  return __jsx(\"div\", {\n    className: FiltroStyle.filtros__contanier,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: FiltroStyle.btn_close_filtro,\n    onClick: showFiltros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, __jsx(FontAwesomeIcon, {\n    id: \"iconFiltroContainer\",\n    icon: faChevronRight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, props.categoriasReducer.categorias.length == 0 || props.subcategoriaReducer.subcategorias.length == 0 || props.marcasReducer.marcas.length == 0 ? __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 158\n    }\n  }) : __jsx(React.Fragment, null, filtrando ? __jsx(\"button\", {\n    className: \"boton bg-yellow mb-3\",\n    onClick: handleRestablecer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 38\n    }\n  }, __jsx(FontAwesomeIcon, {\n    icon: faBroom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }), \" Limpiar Filtros\") : null, __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.cerrar_filtro_mobile,\n    onClick: closeFiltrosMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Mascota\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, props.categoriasReducer.categorias.map(cat => __jsx(\"li\", {\n    key: cat.idCategoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro + ` ${filtros.categoria == cat.idCategoria ? FiltroStyle.active : ''}`,\n    onClick: () => activarFiltro('categoria', `${cat.idCategoria}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 45\n    }\n  }, cat.categoria)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ` ${filtros.categoria == cat.idCategoria ? '' : 'd-none'}`,\n    onClick: () => limpiarFiltro('categoria'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 41\n    }\n  })))), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, \"Alimentos\"), __jsx(\"ul\", {\n    className: FiltroStyle.lista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, props.subcategoriaReducer.subcategorias.map(sc => __jsx(\"li\", {\n    key: sc.idSubCategoria,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? FiltroStyle.active : ''}`,\n    onClick: () => activarFiltro('subcategoria', `${sc.idSubCategoria}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 45\n    }\n  }, sc.subcategoria)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? '' : 'd-none'}`,\n    onClick: () => limpiarFiltro('subcategoria'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 41\n    }\n  })))), __jsx(\"h4\", {\n    className: FiltroStyle.titulo_filtros,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, \"Marca\"), __jsx(\"ul\", {\n    id: \"listaMarca\",\n    className: FiltroStyle.sinBorderBottom + ' ' + FiltroStyle.lista + ` ${FiltroStyle.listaMarca}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, props.marcasReducer.marcas.map((marca, key) => __jsx(\"li\", {\n    key: marca.idMarca,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: FiltroStyle.item_filtro + ` ${filtros.marca == marca.idMarca ? FiltroStyle.active : ''}`,\n    onClick: () => activarFiltro('marca', `${marca.idMarca}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 45\n    }\n  }, marca.marca)), __jsx(FontAwesomeIcon, {\n    icon: faTimes,\n    className: FiltroStyle.icon_close_filtro + ` ${filtros.marca == marca.idMarca ? '' : 'd-none'}`,\n    onClick: () => limpiarFiltro('marca'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  })))))));\n};\n\nconst mapStateToProps = ({\n  marcasReducer,\n  productosReducer,\n  categoriasReducer,\n  subcategoriaReducer\n}) => {\n  return {\n    marcasReducer,\n    productosReducer,\n    categoriasReducer,\n    subcategoriaReducer\n  };\n};\n\nconst mapDispatchToProps = {\n  marcasTraerTodas,\n  categoriasTraerTodas,\n  subcategoriaTraerTodas,\n  aplicarFiltro,\n  quitarFiltro,\n  restablecerFiltros\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filtro);","map":{"version":3,"sources":["/home/franco/desarrollo/proyecto_oliver/oliver-web-next/src/components/Filtro/index.js"],"names":["React","useEffect","FiltroStyle","faTimes","faBroom","faChevronRight","FontAwesomeIcon","connect","productosActions","marcasActions","categoriasActions","subcategoriasActions","Loader","traerTodas","marcasTraerTodas","aplicarFiltro","quitarFiltro","restablecerFiltros","categoriasTraerTodas","subcategoriaTraerTodas","Filtro","props","getData","marcasReducer","marcas","length","categoriasReducer","categorias","subcategoriaReducer","subcategorias","location","activarFiltroPorUrl","error","console","log","query","search","activarFiltro","Object","keys","type","index","tipoFiltro","key","fromModal","limpiarFiltro","tipo","closeFiltrosMobile","document","getElementsByClassName","filtros__contanier","classList","remove","show_filtros","showFiltros","element","toggle","show","getElementById","rotar","handleRestablecer","filtrando","filtros","productosReducer","btn_close_filtro","cerrar_filtro_mobile","titulo_filtros","lista","map","cat","idCategoria","item_filtro","categoria","active","icon_close_filtro","sc","idSubCategoria","subcategoria","sinBorderBottom","listaMarca","marca","idMarca","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport FiltroStyle from './Filtro.module.css';\nimport { faTimes,faBroom,faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { connect } from 'react-redux';\nimport * as productosActions from '../../../store/actions/productosActions';\nimport * as marcasActions from '../../../store/actions/marcasActions';\nimport * as categoriasActions from '../../../store/actions/categoriasAction';\nimport * as subcategoriasActions from '../../../store/actions/subcategoriasAction';\nimport Loader from '../Loader';\n\nconst {traerTodas:marcasTraerTodas} = marcasActions;\nconst {aplicarFiltro,quitarFiltro,restablecerFiltros} = productosActions;\nconst {traerTodas:categoriasTraerTodas} = categoriasActions;\nconst {traerTodas:subcategoriaTraerTodas} = subcategoriasActions;\n\nconst Filtro = (props) => {\n\n    //loop de efecto para ejecutar solo una vez cuando el componente se monte en el caso de que se este filtrando directo desde la url\n    useEffect(() => {\n        getData();\n    },[]);\n        \n    const getData = async()=>{\n        try {\n            if(props.marcasReducer.marcas.length===0){\n                await props.marcasTraerTodas();\n            }\n            if(props.categoriasReducer.categorias.length===0){\n                await props.categoriasTraerTodas();\n            }\n            if(props.subcategoriaReducer.subcategorias.length===0){\n                await props.subcategoriaTraerTodas();\n            }\n            if(props.location !== '/productos'){\n                activarFiltroPorUrl();\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    const activarFiltroPorUrl = ()=>{\n        if(props.query.search){\n            return activarFiltro(Object.keys(props.query)[0],props.query.search);\n        }else{\n            return activarFiltro(props.query.type,props.query.index[1]);\n        }\n    }\n\n    const activarFiltro = (tipoFiltro,key,fromModal=false)=>{\n        props.aplicarFiltro(tipoFiltro,key);\n    }\n\n    const limpiarFiltro = tipo=>{\n        props.quitarFiltro(tipo)\n    }\n\n    const closeFiltrosMobile = ()=>{\n        document.getElementsByClassName(FiltroStyle.filtros__contanier)[0].classList.remove(FiltroStyle.show_filtros);\n    }\n\n    const showFiltros = ()=>{\n        let element = document.getElementsByClassName(FiltroStyle.filtros__contanier)[0];\n        element.classList.toggle(FiltroStyle.show);\n        document.getElementById('iconFiltroContainer').classList.toggle(FiltroStyle.rotar);\n    }\n\n    const handleRestablecer = ()=>{\n        props.restablecerFiltros\n    }\n\n    const {filtrando,filtros} = props.productosReducer;\n    \n    return (\n        <div className={FiltroStyle.filtros__contanier}>\n            <button className={FiltroStyle.btn_close_filtro} onClick={showFiltros}>\n                <FontAwesomeIcon id=\"iconFiltroContainer\" icon={faChevronRight}/>\n            </button>\n            <div>\n                {(props.categoriasReducer.categorias.length==0 || props.subcategoriaReducer.subcategorias.length==0 || props.marcasReducer.marcas.length==0)?<Loader/>:\n                    <>  \n                        {(filtrando)?<button className=\"boton bg-yellow mb-3\" onClick={handleRestablecer}>\n                            <FontAwesomeIcon icon={faBroom}/> Limpiar Filtros\n                        </button>:null}\n\n                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.cerrar_filtro_mobile} onClick={closeFiltrosMobile}/>\n                        <h4 className={FiltroStyle.titulo_filtros}>Mascota</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.categoriasReducer.categorias.map(cat=>(\n                                    <li key={cat.idCategoria}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.categoria == cat.idCategoria ? FiltroStyle.active:''}`} onClick={()=>activarFiltro('categoria',`${cat.idCategoria}`)}>\n                                            <span className=\"text-muted\">{cat.categoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.categoria == cat.idCategoria ?'':'d-none'}`} onClick={()=>limpiarFiltro('categoria')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Alimentos</h4>\n                        <ul className={FiltroStyle.lista}>\n                            {\n                                props.subcategoriaReducer.subcategorias.map(sc=>(\n                                    <li key={sc.idSubCategoria}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? FiltroStyle.active:''}`} onClick={()=>activarFiltro('subcategoria',`${sc.idSubCategoria}`)}>\n                                            <span className=\"text-muted\">{sc.subcategoria}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.subcategoria == sc.idSubCategoria ? '' : 'd-none'}`} onClick={()=>limpiarFiltro('subcategoria')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n\n                        <h4 className={FiltroStyle.titulo_filtros}>Marca</h4>\n                        <ul id=\"listaMarca\" className={FiltroStyle.sinBorderBottom+ ' ' + FiltroStyle.lista + ` ${FiltroStyle.listaMarca}`}>\n                            {\n                                props.marcasReducer.marcas.map((marca,key)=>(\n                                    <li key={marca.idMarca}>\n                                        <div className={FiltroStyle.item_filtro + ` ${filtros.marca == marca.idMarca ? FiltroStyle.active : ''}`} onClick={()=>activarFiltro('marca',`${marca.idMarca}`)}>\n                                            <span className=\"text-muted\">{marca.marca}</span>\n                                        </div>\n                                        <FontAwesomeIcon icon={faTimes} className={FiltroStyle.icon_close_filtro + ` ${filtros.marca == marca.idMarca ? '' : 'd-none'}`} onClick={()=>limpiarFiltro('marca')}/>\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                    </>\n                }\n            </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = ({marcasReducer,productosReducer,categoriasReducer,subcategoriaReducer})=>{\n    return {\n        marcasReducer,\n        productosReducer,\n        categoriasReducer,\n        subcategoriaReducer\n    };\n}\n\nconst mapDispatchToProps = {\n    marcasTraerTodas,\n    categoriasTraerTodas,\n    subcategoriaTraerTodas,\n    aplicarFiltro,\n    quitarFiltro,\n    restablecerFiltros\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Filtro);"]},"metadata":{},"sourceType":"module"}