{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{k2JI:function(e,a,t){\"use strict\";var r=t(\"q1tI\"),n=t.n(r),o=t(\"8Kt/\"),s=t.n(o),i=t(\"rOcY\"),c=n.a.createElement;a.a=function(e){var a=e.title,t=e.metadesc;return c(s.a,null,c(\"title\",null,a),c(\"meta\",{name:\"theme-color\",content:\"#df8f0e\"}),c(\"link\",{rel:\"icon\",href:\"\".concat(i.d,\"/static/Perro.png\")}),t?c(\"meta\",{name:\"description\",content:t}):null)}},lVdJ:function(e,a,t){\"use strict\";t.r(a);var r=t(\"BsWD\");function n(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(t.push(s.value),!a||t.length!==a);r=!0);}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return t}}(e,a)||Object(r.a)(e,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var o=t(\"MX0m\"),s=t.n(o),i=t(\"k2JI\"),c=t(\"q1tI\"),l=t.n(c),u=l.a.createElement,m=function(e){var a=e.usuario,t=e.abrirModalFoto;return u(\"div\",{className:\"jsx-2182704935 row\"},u(\"div\",{className:\"jsx-2182704935 col-12 col-md-6 text-center\"},u(\"img\",{src:a.foto,alt:a.nombre,className:\"jsx-2182704935\"})),u(\"div\",{className:\"jsx-2182704935 col-12 col-md-6 text-center\"},u(\"h3\",{className:\"jsx-2182704935\"},a.nombre),u(\"button\",{type:\"button\",onClick:t,className:\"jsx-2182704935 boton bg-yellow\"},\"Cambiar Foto\")),u(s.a,{id:\"2182704935\"},[\"img.jsx-2182704935{border-radius:30px;width:60px;height:60px;}\"]))},d=l.a.createElement,f=function(){return d(\"div\",{className:\"jsx-3392845155 estadisticas_usuario\"},d(\"div\",{className:\"jsx-3392845155 col-6 text-center\"},d(\"h2\",{className:\"jsx-3392845155\"},\"0\"),d(\"span\",{className:\"jsx-3392845155\"},\"Compras\")),d(\"div\",{className:\"jsx-3392845155 col-6 text-center\"},d(\"h2\",{className:\"jsx-3392845155\"},\"0\"),d(\"span\",{className:\"jsx-3392845155\"},\"Puntos\")),d(s.a,{id:\"3392845155\"},[\".estadisticas_usuario.jsx-3392845155{background-color:#fff;width:50%;float:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:10px 20px;border-radius:5px;}\",\"h2.jsx-3392845155{font-weight:bold;}\",\"@media(max-width:768px){.estadisticas_usuario.jsx-3392845155{float:initial;width:100%;margin-top:10px;}}\"]))},p=t(\"/MKj\"),b=t(\"HdXA\"),x=l.a.createElement,j=Object(p.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),b)((function(e){var a=e.usuarioReducer.usuario;return a?x(\"section\",{className:\"jsx-3269591714 banner_usuario\"},x(\"div\",{className:\"jsx-3269591714 row\"},x(\"div\",{className:\"jsx-3269591714 col-12 col-md-6\"},x(m,{usuario:a,abrirModalFoto:e.abrirModalFoto})),x(\"div\",{className:\"jsx-3269591714 col-12 col-md-6\"},x(f,null))),x(s.a,{id:\"3269591714\"},[\"section.jsx-3269591714{height:200px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\"@media(max-width:768px){section.jsx-3269591714{margin:50px 0px;}}\"])):null})),g=t(\"9a8N\"),v=t(\"F66N\"),y=t(\"arvA\"),N=t(\"TSYQ\"),w=t.n(N),h=l.a.createElement,k=function(e){return h(g.a,{tabs:!0},e.solapas.map((function(a,t){return h(v.a,{key:t},h(y.a,{className:w()({active:e.activeTab===\"\".concat(t+1)}),onClick:function(){e.toggle(\"\".concat(t+1))}},a.nombre))})))},O=t(\"wx14\"),E=t(\"o0o1\"),R=t.n(E),S=t(\"HaE+\"),P=t(\"rePB\"),C=t(\"wHSu\"),I=t(\"IP2g\"),_=t(\"bItr\"),F=t.n(_),M=t(\"XOuL\"),D=l.a.createElement;function T(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?T(Object(t),!0).forEach((function(a){Object(P.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var H=Object(p.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),b)((function(e){Object(c.useEffect)((function(){if(e.usuarioReducer.usuario&&!e.usuarioReducer.loading){var a=e.usuarioReducer.usuario;i({nombre:a.nombre,telefono:a.telefono,email:a.email,address:a.address,lat:a.lat,lon:a.lon})}}),[e.usuarioReducer]);var a=Object(c.useState)({nombre:!0,telefono:!0,email:!0,address:!0}),t=a[0],r=a[1],n=Object(c.useState)({nombre:\"\",telefono:\"\",email:\"\",address:\"\",lat:0,lon:0}),o=n[0],i=n[1],l=Object(c.useState)(\"\"),u=l[0],m=l[1],d=function(e){var a=t[e];return r(A(A({},t),{},Object(P.a)({},e,!a)))},f=function(e){return i(A(A({},o),{},Object(P.a)({},e.target.name,e.target.value)))};return D(\"form\",{onSubmit:function(){var a=Object(S.a)(R.a.mark((function a(t){return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.actualizarUsuario(o,e.usuarioReducer.usuario.idUsuario);case 3:if(e.usuarioReducer.error||e.usuarioReducer.loading){a.next=5;break}return a.abrupt(\"return\",m(\"Tus datos se han modificado de manera exitosa\"));case 5:return a.abrupt(\"return\",m(\"\"));case 6:case\"end\":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),className:\"jsx-2483563024 form-group\"},\"\"==u||e.usuarioReducer.error?null:D(\"div\",{className:\"jsx-2483563024 alert alert-success text-center\"},D(\"b\",{className:\"jsx-2483563024\"},u)),e.usuarioReducer.error?D(\"div\",{className:\"jsx-2483563024 alert alert-danger text-center\"},D(\"b\",{className:\"jsx-2483563024\"},e.usuarioReducer.error)):null,D(\"div\",{className:\"jsx-2483563024 row\"},D(\"div\",{className:\"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center\"},D(\"input\",{disabled:t.nombre,onChange:f,value:o.nombre,type:\"text\",name:\"nombre\",id:\"nombre\",placeholder:\"Nombre\",className:\"jsx-2483563024 form-control mr-auto\"}),D(I.a,{className:\"iconoHabilitarInput\",icon:t.nombre?C.i:C.p,onClick:function(){return d(\"nombre\")},required:!0})),D(\"div\",{className:\"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center\"},D(\"input\",{disabled:t.telefono,onChange:f,value:o.telefono,type:\"text\",name:\"telefono\",id:\"telefono\",placeholder:\"Telefono\",className:\"jsx-2483563024 form-control mr-auto\"}),D(I.a,{className:\"iconoHabilitarInput\",icon:t.telefono?C.i:C.p,onClick:function(){return d(\"telefono\")}})),D(\"div\",{className:\"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center\"},D(\"input\",{disabled:t.email,onChange:f,value:o.email,type:\"email\",name:\"email\",id:\"email\",className:\"jsx-2483563024 form-control mr-auto\"})),D(\"div\",{className:\"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center\"},D(F.a,{value:o.address,onChange:function(e){return i(A(A({},o),{},{address:e}))},onSelect:function(e){Object(_.geocodeByAddress)(e).then((function(e){return Object(_.getLatLng)(e[0])})).then((function(a){i(A(A({},o),{},{address:e,lat:a.lat,lon:a.lng}))})).catch((function(e){return console.error(\"Error\",e)}))}},(function(e){var a=e.getInputProps,r=e.suggestions,n=e.getSuggestionItemProps,s=e.loading;return D(\"div\",{className:\"jsx-2483563024 mr-auto w-100\"},D(\"input\",Object(O.a)({name:\"address\",id:\"address\"},a({placeholder:o.address}),{disabled:t.address,placeholder:\"Direcci\\xf3n\",className:\"jsx-2483563024 form-control\"})),D(\"div\",{style:{position:\"fixed\",zIndex:\"1000\",backgroundColor:\"#fff\"},className:\"jsx-2483563024 autocomplete-dropdown-container\"},s&&D(\"div\",{className:\"jsx-2483563024\"},\"Cargando ubicaciones...\"),r.map((function(e,a){var t=e.active?\"suggestion-item--active\":\"suggestion-item\",r=e.active?{backgroundColor:\"#fafafa\",cursor:\"pointer\",margin:\"10px\",padding:\"5px\"}:{backgroundColor:\"#ffffff\",cursor:\"pointer\",margin:\"10px\",padding:\"5px\"};return D(\"div\",Object(O.a)({},n(e,{className:t,style:r,key:a}),{className:\"jsx-2483563024\"}),D(\"span\",{className:\"jsx-2483563024\"},e.description))}))))})),D(I.a,{className:\"iconoHabilitarInput\",icon:t.address?C.i:C.p,onClick:function(){return d(\"address\")}})),D(\"div\",{className:\"jsx-2483563024 col-12 mb-4 text-right\"},D(\"button\",{type:\"button\",onClick:e.abrirModalPw,className:\"jsx-2483563024 btn btn-warning\"},D(I.a,{icon:C.f}),\" Cambiar contrase\\xf1a\")),D(\"div\",{className:\"jsx-2483563024 col-12 text-center\"},e.usuarioReducer.loading?D(M.a,null):D(\"input\",{type:\"submit\",value:\"Guardar cambios\",className:\"jsx-2483563024 boton bg-yellow\"}))),D(s.a,{id:\"2483563024\"},[\".form-control.jsx-2483563024{width:92%;}\",\".iconoHabilitarInput.jsx-2483563024{cursor:pointer!important;}\",\"button.jsx-2483563024{color:#fff !important;}\"]))})),q=t(\"Czwy\"),J=t(\"EzvR\"),z=t(\"ok1R\"),U=t(\"rhny\"),V=t(\"Mnxd\"),X=l.a.createElement,B=function(e){var a=function(){return console.log(\"eliminar\")};return[1,2,3,4,5,6,7,8,9].map((function(e){return X(V.a,{key:e,idSubProducto:\"1\",producto:\"Dog pron Adulto\",peso:\"5\",total:\"1500\",foto:\"https://storage.googleapis.com/web-oliver/-VitalCrops-DogPro-Adulto-15k.jpg\",cantidad:\"1\",eliminarProducto:a})}))},L=t(\"/Q2I\"),Q=t(\"t0wy\"),G=l.a.createElement,K=Object(p.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),b)((function(e){var a=e.usuarioReducer,t=a.usuario,r=a.error,n=a.loading;return G(\"form\",{className:\"form-group\",id:\"formModificarFotoUsuario\",onSubmit:function(a){a.preventDefault();var r=document.getElementById(\"formModificarFotoUsuario\"),n=new FormData(r);\"\"!==n.get(\"foto\").name&&e.actualizarFoto(n,t.idUsuario)}},r?G(Q.a,{message:r.message}):null,G(\"label\",null,\"Seleccione la nueva imagen de perfil\"),G(\"input\",{type:\"file\",required:!0,className:\"form-control\",name:\"foto\"}),n?G(\"div\",{className:\"text-center mt-2\"},G(M.a,null)):G(\"input\",{type:\"submit\",className:\"boton bg-yellow mt-3\",value:\"Subir\"}))})),Y=l.a.createElement,W=function(){return Y(\"form\",{onSubmit:function(e){return e.preventDefault()},className:\"jsx-2645616081 form-group\"},Y(\"div\",{className:\"jsx-2645616081 col-12 mb-3\"},Y(\"label\",{htmlFor:\"pw\",className:\"jsx-2645616081\"},\"Nueva Contrase\\xf1a\"),Y(\"input\",{type:\"password\",placeholder:\"Ingrese su nueva contrase\\xf1a\",name:\"pw\",id:\"pw\",className:\"jsx-2645616081 form-control\"})),Y(\"div\",{className:\"jsx-2645616081 col-12 mb-3\"},Y(\"label\",{htmlFor:\"pw-repeat\",className:\"jsx-2645616081\"},\"Repita la nueva contrase\\xf1a\"),Y(\"input\",{type:\"password\",placeholder:\"Repita su nueva contrase\\xf1a\",name:\"pw-repeat\",id:\"pw-repeat\",className:\"jsx-2645616081 form-control\"})),Y(\"div\",{className:\"jsx-2645616081 col-12 text-center\"},Y(\"input\",{type:\"submit\",value:\"Enviar\",className:\"jsx-2645616081 boton bg-yellow\"})),Y(s.a,{id:\"2645616081\"},[\"form.jsx-2645616081{font-family:'Quicksand',sans-serif!important;}\"]))},Z=l.a.createElement;a.default=function(){var e=n(l.a.useState(\"1\"),2),a=e[0],t=e[1],r=n(l.a.useState(!1),2),o=r[0],c=r[1],u=n(l.a.useState(!1),2),m=u[0],d=u[1],f=n(l.a.useState(!1),2),p=(f[0],f[1]),b=function(){c(!o)};return Z(l.a.Fragment,null,Z(i.a,{title:\"Oliver Petshop - Mi perfil\"}),Z(\"div\",{className:\"jsx-53771273 container\"},Z(j,{abrirModalFoto:function(){d(!0),p(!1),b()}}),Z(k,{toggle:function(e){a!==e&&t(e)},activeTab:a,solapas:[{nombre:\"General\"}]})),Z(\"div\",{className:\"jsx-53771273 container-form\"},Z(\"div\",{className:\"jsx-53771273 container pt-3\"},Z(q.a,{activeTab:a},Z(J.a,{tabId:\"1\"},Z(z.a,null,Z(U.a,{sm:\"12\"},Z(H,{abrirModalPw:function(){p(!0),d(!1),b()}})))),Z(J.a,{tabId:\"2\",className:\"tab-productos\"},Z(z.a,null,Z(U.a,{sm:\"12\"},Z(B,null))))))),o?Z(L.a,{closeModal:b},Z(m?K:W,null)):null,Z(s.a,{id:\"53771273\"},[\".container-form.jsx-53771273{background-color:#fff;}\",\"@media(min-width:768px){.container-form.jsx-53771273{height:55vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}\"]))}},qV4O:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/perfil\",function(){return t(\"lVdJ\")}])}},[[\"qV4O\",1,2,4,0,3,7,8]]]);","extractedComments":[]}