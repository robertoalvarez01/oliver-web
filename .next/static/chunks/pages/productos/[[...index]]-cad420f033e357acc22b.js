_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{"0JKX":function(t,a,e){t.exports={navbar:"Navbar_navbar__1cna4",container__logo:"Navbar_container__logo__HySyy",logo:"Navbar_logo__3vj75",container__login_menu:"Navbar_container__login_menu__2vQdj",boton__menu:"Navbar_boton__menu__3c6F3",btn_account:"Navbar_btn_account__2Zaoz",imgProfile:"Navbar_imgProfile__jeFPI",btn_carrito:"Navbar_btn_carrito__2mZY8",carrito_mobile:"Navbar_carrito_mobile__2IYef",icon_menu:"Navbar_icon_menu__2CorA",img_menu:"Navbar_img_menu__3sk-n",menu__collapsed:"Navbar_menu__collapsed__3ww75",form_search_menu:"Navbar_form_search_menu__1b8gM",wrapper__navbar:"Navbar_wrapper__navbar__14EZG",lupa_buscador:"Navbar_lupa_buscador__3_vvJ","input-group-text":"Navbar_input-group-text__2_pHE",buscador:"Navbar_buscador__3L3ob",header__collapsed_nav:"Navbar_header__collapsed_nav__3rPMs",close_btn_menu:"Navbar_close_btn_menu__3jnG0",main__collapsed:"Navbar_main__collapsed__3kXMF",list__menu__collapsed:"Navbar_list__menu__collapsed__3BK5O",icon__itemMenu__collapsed:"Navbar_icon__itemMenu__collapsed__1Zemk",item__menu__collapsed:"Navbar_item__menu__collapsed__3BZ2r",label__item__menu:"Navbar_label__item__menu__3zFoO",collapsed_info:"Navbar_collapsed_info__3Zugh",redes__collapsed:"Navbar_redes__collapsed__1JfQC",iconoRed:"Navbar_iconoRed__3PYtV",showCollapsed:"Navbar_showCollapsed__2N6Tr",sinBorder:"Navbar_sinBorder__2nVJZ"}},"34k4":function(t,a,e){t.exports={ordenarProductos:"Productos_ordenarProductos__2bm6Q",select_ordenar:"Productos_select_ordenar__3aC8E",boton_filtrar_mobile:"Productos_boton_filtrar_mobile__2Osjo",label__filtro_busqueda:"Productos_label__filtro_busqueda__3cbA-",item_filtro_busqueda:"Productos_item_filtro_busqueda__3wdWH","text-mutedd":"Productos_text-mutedd__3wjv7"}},"6Xhb":function(t,a,e){"use strict";e.d(a,"c",(function(){return r})),e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return n}));var r="categorias_traer_todas",o="categorias_loading",n="categorias_error"},BsWD:function(t,a,e){"use strict";e.d(a,"a",(function(){return o}));var r=e("a3WO");function o(t,a){if(t){if("string"===typeof t)return Object(r.a)(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Object(r.a)(t,a):void 0}}},HKBJ:function(t,a,e){"use strict";e.d(a,"c",(function(){return r})),e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return n}));var r="marca_traer_todas",o="marca_loading",n="marca_error"},KQm4:function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));var r=e("a3WO");var o=e("BsWD");function n(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},PsAh:function(t,a,e){t.exports={filtros__contanier:"Filtro_filtros__contanier__3knXf",show:"Filtro_show__1Rj5d",btn_close_filtro:"Filtro_btn_close_filtro__37rTH",rotar:"Filtro_rotar__2UEYw",lista:"Filtro_lista__3_b9b",listaMarca:"Filtro_listaMarca__2ZCr3",item_filtro:"Filtro_item_filtro__3xqSt",active:"Filtro_active__32lB0",sinBorderBottom:"Filtro_sinBorderBottom__cF6G2",icon_close_filtro:"Filtro_icon_close_filtro__1xlv5",cerrar_filtro_mobile:"Filtro_cerrar_filtro_mobile__1SKrQ",titulo_filtros:"Filtro_titulo_filtros__2QgvL",boton:"Filtro_boton__3kHsa",show_filtros:"Filtro_show_filtros__2D1CA"}},YRs9:function(t,a,e){"use strict";e.r(a);var r=e("o0o1"),o=e.n(r),n=e("HaE+"),c=e("q1tI"),s=e.n(c),i=e("k2JI"),u=e("MX0m"),l=e.n(u),_=e("CI6Y"),d=e("/MKj"),p=e("TVVT"),f=e("34k4"),m=e.n(f),b=e("XOuL"),g=e("wHSu"),v=e("IP2g"),h=e("PsAh"),x=e.n(h),y=e("pRT7"),N=e("0JKX"),w=e.n(N),j=s.a.createElement,k=Object(d.b)((function(t){return t.productosReducer}),p)((function(t){var a=t.filtros,e=t.paginacion,r=t.filtrando,i=Object(c.useState)(""),u=i[0],d=i[1];Object(c.useEffect)((function(){"/productos"!==t.location&&(t.query.search?h(t.query.search):h(t.query.index[0]))}),[]),Object(c.useEffect)((function(){e.desde>0&&t.traerMas()}),[e]),Object(c.useEffect)((function(){"/productos"!==t.location?(r||t.productos.length>0)&&p():p()}),[a]);var p=function(){var a=Object(n.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.traerProductos();case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.log(a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(){return a.apply(this,arguments)}}(),f=function(){t.updatePaginacion()},h=function(t){d(t)};"/productos"==t.location&&""!=u&&d("");return j(s.a.Fragment,null,t.loading||!t.productos?j("div",{className:"jsx-2778668712 col-12 text-center"},j(b.a,null)):j(s.a.Fragment,null,""!==u?j("span",{id:"label__filtro-busqueda",className:"jsx-2778668712 "+(m.a.label__filtro_busqueda||"")},j(v.a,{icon:g.k}),j("span",{className:"jsx-2778668712 "+(m.a.item_filtro_busqueda||"")},j("span",{id:"valor-busqueda",className:"jsx-2778668712 text-mutedd"},u))):null,j("div",{style:{padding:"0px 15px"},className:"jsx-2778668712 row justify-content-between my-2 align-items-center"},j("span",{className:"jsx-2778668712 text-muted"},j("b",{className:"jsx-2778668712 txt-yellow"},t.productos.length)," productos encontrados"),j("div",{className:"jsx-2778668712 "+(m.a.ordenarProductos+" d-flex align-items-center"||!1)},j("span",{className:"jsx-2778668712 txt-yellow text-bold mr-2"},"Ordenar por: "),j("select",{onChange:function(a){return"asc"===a.target.value?t.productos.sort((function(t,a){return t.precioUnidad>a.precioUnidad?1:t.precioUnidad<a.precioUnidad?-1:0})):t.productos.sort((function(t,a){return t.precioUnidad<a.precioUnidad?1:t.precioUnidad>a.precioUnidad?-1:0})),t.ordenarProductos(t.productos)},className:"jsx-2778668712 "+(m.a.select_ordenar||"")},j("option",{value:"desc",className:"jsx-2778668712"},"Mayor precio"),j("option",{value:"asc",className:"jsx-2778668712"},"Menor precio"))),j("button",{onClick:function(){document.getElementsByClassName(w.a.menu__collapsed)[0].classList.contains(w.a.showCollapsed)&&document.getElementsByClassName(w.a.menu__collapsed)[0].classList.remove(w.a.showCollapsed),document.getElementsByClassName("Filtro_filtros__contanier__3knXf")[0].classList.add(x.a.show_filtros)},className:"jsx-2778668712 "+("boton bg-yellow mt-3 d-none "+m.a.boton_filtrar_mobile||!1)},"Filtrar")),j("div",{onScroll:function(t){var a=document.querySelector(".feedProductos"),e=document.querySelector(".btn-vermas"),r=a.scrollHeight,o=a.scrollTop,n=80*r/100;if(Object(y.b)()?n=70*r/100:2060==r&&(n=65*r/100),e)return o>=n?e.classList.remove("d-none"):e.classList.add("d-none")},className:"jsx-2778668712 row feedProductos"},t.productos?t.productos.map((function(t){return j("div",{key:t.idProducto,className:"jsx-2778668712 col-6 col-md-3"},j(_.a,{imagen:t.foto,prd:t}))})):null),function(){var a=20;if(Object(y.b)()&&(a=10),t.productos&&t.productos.length>=a)return j("button",{className:"boton bg-yellow btn-vermas d-none",onClick:f},t.loading_mas?"Obteniendo productos...":"Cargar m\xe1s")}()),j(l.a,{id:"2778668712"},[".feedProductos.jsx-2778668712{height:75vh;overflow-y:scroll;}",".btn-vermas.jsx-2778668712{position:relative;top:12px;}",".feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:5px;}",".feedProductos.jsx-2778668712::-webkit-scrollbar-thumb{background:#FFB347;border-radius:4px;}",".feedProductos.jsx-2778668712::-webkit-scrollbar-thumb.jsx-2778668712:hover{background:#b3b3b3;box-shadow:0 0 2px 1px rgba(0,0,0,0.2);}","@media(max-width:768px){.feedProductos.jsx-2778668712{height:65vh;overflow-y:scroll;}.feedProductos.jsx-2778668712::-webkit-scrollbar{width:8px;height:10px;}}"]))})),O=e("kVRI"),C=e("rfcl"),F=e("rOcY"),P=e("o9Kd"),q=s.a.createElement,E=O.traerTodas,R=p.aplicarFiltro,T=p.quitarFiltro,B=p.restablecerFiltros,M={marcasTraerTodas:E,categoriasTraerTodas:C.traerTodas,subcategoriaTraerTodas:function(){return function(){var t=Object(n.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:P.b}),t.prev=1,t.abrupt("return",fetch("".concat(F.a,"/subcategoria")).then((function(t){return t.json()})).then((function(t){var e=t.data;a({type:P.c,payload:e})})).catch((function(t){a({type:P.a,payload:t})})));case 5:t.prev=5,t.t0=t.catch(1),a({type:P.a,payload:t.t0});case 8:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(a){return t.apply(this,arguments)}}()},aplicarFiltro:R,quitarFiltro:T,restablecerFiltros:B},S=Object(d.b)((function(t){return{marcasReducer:t.marcasReducer,productosReducer:t.productosReducer,categoriasReducer:t.categoriasReducer,subcategoriaReducer:t.subcategoriaReducer}}),M)((function(t){Object(c.useEffect)((function(){a()}),[]);var a=function(){var a=Object(n.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==t.marcasReducer.marcas.length){a.next=4;break}return a.next=4,t.marcasTraerTodas();case 4:if(0!==t.categoriasReducer.categorias.length){a.next=7;break}return a.next=7,t.categoriasTraerTodas();case 7:if(0!==t.subcategoriaReducer.subcategorias.length){a.next=10;break}return a.next=10,t.subcategoriaTraerTodas();case 10:"/productos"!==t.location&&e(),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(){return a.apply(this,arguments)}}(),e=function(){return t.query.search?r(Object.keys(t.query)[0],t.query.search):r(t.query.type,t.query.index[1])},r=function(a,e){t.aplicarFiltro(a,e)},i=function(a){t.quitarFiltro(a)},u=t.productosReducer,l=u.filtrando,_=u.filtros;return q("div",{className:x.a.filtros__contanier},q("button",{className:x.a.btn_close_filtro,onClick:function(){document.getElementsByClassName(x.a.filtros__contanier)[0].classList.toggle(x.a.show),document.getElementById("iconFiltroContainer").classList.toggle(x.a.rotar)}},q(v.a,{id:"iconFiltroContainer",icon:g.c})),q("div",null,0==t.categoriasReducer.categorias.length||0==t.subcategoriaReducer.subcategorias.length||0==t.marcasReducer.marcas.length?q(b.a,null):q(s.a.Fragment,null,l?q("button",{className:"boton bg-yellow mb-3",onClick:t.restablecerFiltros},q(v.a,{icon:g.b})," Limpiar Filtros"):null,q(v.a,{icon:g.o,className:x.a.cerrar_filtro_mobile,onClick:function(){document.getElementsByClassName(x.a.filtros__contanier)[0].classList.remove(x.a.show_filtros)}}),q("h4",{className:x.a.titulo_filtros},"Mascota"),q("ul",{className:x.a.lista},t.categoriasReducer.categorias.map((function(t){return q("li",{key:t.idCategoria},q("div",{className:x.a.item_filtro+" ".concat(_.categoria==t.idCategoria?x.a.active:""),onClick:function(){return r("categoria","".concat(t.idCategoria))}},q("span",{className:"text-muted"},t.categoria)),q(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(_.categoria==t.idCategoria?"":"d-none"),onClick:function(){return i("categoria")}}))}))),q("h4",{className:x.a.titulo_filtros},"Alimentos"),q("ul",{className:x.a.lista},t.subcategoriaReducer.subcategorias.map((function(t){return q("li",{key:t.idSubCategoria},q("div",{className:x.a.item_filtro+" ".concat(_.subcategoria==t.idSubCategoria?x.a.active:""),onClick:function(){return r("subcategoria","".concat(t.idSubCategoria))}},q("span",{className:"text-muted"},t.subcategoria)),q(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(_.subcategoria==t.idSubCategoria?"":"d-none"),onClick:function(){return i("subcategoria")}}))}))),q("h4",{className:x.a.titulo_filtros},"Marca"),q("ul",{id:"listaMarca",className:x.a.sinBorderBottom+" "+x.a.lista+" ".concat(x.a.listaMarca)},t.marcasReducer.marcas.map((function(t,a){return q("li",{key:t.idMarca},q("div",{className:x.a.item_filtro+" ".concat(_.marca==t.idMarca?x.a.active:""),onClick:function(){return r("marca","".concat(t.idMarca))}},q("span",{className:"text-muted"},t.marca)),q(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(_.marca==t.idMarca?"":"d-none"),onClick:function(){return i("marca")}}))}))))))})),H=e("t6HM"),I=e("nOHt"),A=e("WkNE"),Y=s.a.createElement,L=function(t){var a=Object(I.useRouter)();console.log(a);var e=a.asPath,r=a.query,o="Oliver - Productos";return"/productos"!==e&&(r.search?o=r.search+" en OliverPetShop":r.index[0]&&(o=r.index[0].replace("-"," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))+" en OliverPetShop")),Y(s.a.Fragment,null,Y(i.a,{title:o}),Y("section",{className:"main__productos container"},Y("div",{className:"row"},Y(S,{location:e,query:r}),Y("div",{className:"col-12 py-3"},Y(k,{location:e,query:r}))),Y(H.a,null)),Y(A.a,null))};L.getInitialProps=function(){var t=Object(n.a)(o.a.mark((function t(a){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.query,t.abrupt("return",{query:e});case 2:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}();a.default=L},a3WO:function(t,a,e){"use strict";function r(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=new Array(a);e<a;e++)r[e]=t[e];return r}e.d(a,"a",(function(){return r}))},k2JI:function(t,a,e){"use strict";var r=e("q1tI"),o=e.n(r),n=e("8Kt/"),c=e.n(n),s=e("rOcY"),i=o.a.createElement;a.a=function(t){var a=t.title,e=t.metadesc;return i(c.a,null,i("title",null,a),i("meta",{name:"theme-color",content:"#df8f0e"}),i("link",{rel:"icon",href:"".concat(s.d,"/static/Perro.png")}),e?i("meta",{name:"description",content:e}):null)}},kVRI:function(t,a,e){"use strict";e.r(a),e.d(a,"traerTodas",(function(){return i}));var r=e("o0o1"),o=e.n(r),n=e("HaE+"),c=e("rOcY"),s=e("HKBJ"),i=function(){return function(){var t=Object(n.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:s.b}),t.prev=1,t.abrupt("return",fetch("".concat(c.a,"/marca")).then((function(t){return t.json()})).then((function(t){var e=t.data;a({type:s.c,payload:e})})).catch((function(t){a({type:s.a,payload:t})})));case 5:t.prev=5,t.t0=t.catch(1),a({type:s.a,payload:t.t0});case 8:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(a){return t.apply(this,arguments)}}()}},maHl:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/productos/[[...index]]",function(){return e("YRs9")}])},o9Kd:function(t,a,e){"use strict";e.d(a,"c",(function(){return r})),e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return n}));var r="subcategorias_traer_todas",o="subcategorias_loading",n="subcategorias_error"},rfcl:function(t,a,e){"use strict";e.r(a),e.d(a,"traerTodas",(function(){return i}));var r=e("o0o1"),o=e.n(r),n=e("HaE+"),c=e("rOcY"),s=e("6Xhb"),i=function(){return function(){var t=Object(n.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:s.b}),t.prev=1,t.abrupt("return",fetch("".concat(c.a,"/categorias")).then((function(t){return t.json()})).then((function(t){var e=t.data;a({type:s.c,payload:e})})).catch((function(t){a({type:s.a,payload:t})})));case 5:t.prev=5,t.t0=t.catch(1),a({type:s.a,payload:t.t0});case 8:case"end":return t.stop()}}),t,null,[[1,5]])})));return function(a){return t.apply(this,arguments)}}()}},t6HM:function(t,a,e){"use strict";var r=e("MX0m"),o=e.n(r),n=e("q1tI"),c=e.n(n),s=e("nOHt"),i=e.n(s),u=e("/Q2I"),l=e("wHSu"),_=e("IP2g"),d=c.a.createElement;a.a=function(){var t=Object(n.useState)(!1),a=t[0],e=t[1],r=Object(n.useState)(""),p=r[0],f=r[1],m=Object(s.useRouter)();return d(c.a.Fragment,null,d("button",{onClick:function(){document.getElementsByTagName("body")[0].style.overflowY="hidden",e(!0)},className:"jsx-194702073 boton__float__search bg-yellow"},d(_.a,{icon:l.k})),a?d(u.a,{closeModal:function(){document.getElementsByTagName("body")[0].style.overflowY="scroll",e(!1)}},d("form",{onSubmit:function(t){return t.preventDefault(),""!=p.trim()&&("/"==m.pathname?i.a.push("/productos?search=".concat(p)):window.location.assign("/productos?search=".concat(p)))},className:"jsx-194702073 form-group mt-4"},d("input",{type:"text",placeholder:"\xbfQu\xe9 andas buscando?",onChange:function(t){return f(t.target.value)},required:!0,className:"jsx-194702073 form-control"}),d("button",{type:"submit",className:"jsx-194702073 boton bg-yellow mt-3"},"Buscar"))):null,d(o.a,{id:"194702073"},[".boton__float__search.jsx-194702073{position:fixed;top:85%;right:4%;display:block;padding:7px;width:40px;height:40px;text-align:center;border-radius:20px;border:1px solid #FFB347;box-shadow:0px 2px 1px -1px rgba(228,224,224,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);display:none;}","@media(max-width:768px){.boton__float__search.jsx-194702073{display:block;}}"]))}}},[["maHl",1,2,5,0,3,4,6,8]]]);