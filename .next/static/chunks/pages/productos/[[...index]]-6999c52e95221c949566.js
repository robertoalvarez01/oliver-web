_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"0JKX":function(a,e,t){a.exports={navbar:"Navbar_navbar__1cna4",container__logo:"Navbar_container__logo__HySyy",logo:"Navbar_logo__3vj75",container__login_menu:"Navbar_container__login_menu__2vQdj",boton__menu:"Navbar_boton__menu__3c6F3",btn_account:"Navbar_btn_account__2Zaoz",imgProfile:"Navbar_imgProfile__jeFPI",btn_carrito:"Navbar_btn_carrito__2mZY8",carrito_mobile:"Navbar_carrito_mobile__2IYef",icon_menu:"Navbar_icon_menu__2CorA",img_menu:"Navbar_img_menu__3sk-n",menu__collapsed:"Navbar_menu__collapsed__3ww75",form_search_menu:"Navbar_form_search_menu__1b8gM",wrapper__navbar:"Navbar_wrapper__navbar__14EZG",lupa_buscador:"Navbar_lupa_buscador__3_vvJ","input-group-text":"Navbar_input-group-text__2_pHE",buscador:"Navbar_buscador__3L3ob",header__collapsed_nav:"Navbar_header__collapsed_nav__3rPMs",close_btn_menu:"Navbar_close_btn_menu__3jnG0",main__collapsed:"Navbar_main__collapsed__3kXMF",list__menu__collapsed:"Navbar_list__menu__collapsed__3BK5O",icon__itemMenu__collapsed:"Navbar_icon__itemMenu__collapsed__1Zemk",item__menu__collapsed:"Navbar_item__menu__collapsed__3BZ2r",label__item__menu:"Navbar_label__item__menu__3zFoO",collapsed_info:"Navbar_collapsed_info__3Zugh",redes__collapsed:"Navbar_redes__collapsed__1JfQC",iconoRed:"Navbar_iconoRed__3PYtV",showCollapsed:"Navbar_showCollapsed__2N6Tr",sinBorder:"Navbar_sinBorder__2nVJZ"}},"34k4":function(a,e,t){a.exports={ordenarProductos:"Productos_ordenarProductos__2bm6Q",select_ordenar:"Productos_select_ordenar__3aC8E",boton_filtrar_mobile:"Productos_boton_filtrar_mobile__2Osjo",label__filtro_busqueda:"Productos_label__filtro_busqueda__3cbA-",item_filtro_busqueda:"Productos_item_filtro_busqueda__3wdWH","text-mutedd":"Productos_text-mutedd__3wjv7"}},PsAh:function(a,e,t){a.exports={filtros__contanier:"Filtro_filtros__contanier__3knXf",show:"Filtro_show__1Rj5d",btn_close_filtro:"Filtro_btn_close_filtro__37rTH",rotar:"Filtro_rotar__2UEYw",lista:"Filtro_lista__3_b9b",listaMarca:"Filtro_listaMarca__2ZCr3",item_filtro:"Filtro_item_filtro__3xqSt",active:"Filtro_active__32lB0",sinBorderBottom:"Filtro_sinBorderBottom__cF6G2",icon_close_filtro:"Filtro_icon_close_filtro__1xlv5",cerrar_filtro_mobile:"Filtro_cerrar_filtro_mobile__1SKrQ",titulo_filtros:"Filtro_titulo_filtros__2QgvL",boton:"Filtro_boton__3kHsa",show_filtros:"Filtro_show_filtros__2D1CA"}},YRs9:function(a,e,t){"use strict";t.r(e);var r=t("o0o1"),o=t.n(r),n=t("HaE+"),c=t("q1tI"),s=t.n(c),i=t("k2JI"),l=t("MX0m"),_=t.n(l),u=t("CI6Y"),d=t("/MKj"),m=t("TVVT"),b=t("34k4"),p=t.n(b),f=t("XOuL"),g=t("wHSu"),v=t("IP2g"),N=t("PsAh"),x=t.n(N),h=(t("pRT7"),t("0JKX")),w=t.n(h),y=s.a.createElement,j=(t("PSD3"),Object(d.b)((function(a){return a.productosReducer}),m)((function(a){var e=a.filtros,t=a.paginacion,r=a.filtrando,i=Object(c.useState)(""),l=i[0],d=i[1];Object(c.useEffect)((function(){"/productos"!==a.location&&(a.query.search?b(a.query.search):b(a.query.index[0]))}),[]),Object(c.useEffect)((function(){t.desde>0&&a.traerMas()}),[t]),Object(c.useEffect)((function(){("/productos"!==a.location&&r||"/productos"===a.location)&&m()}),[e]);var m=function(){var e=Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.traerProductos();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),b=function(a){d(a)};return"/productos"==a.location&&""!=l&&d(""),y(s.a.Fragment,null,a.loading||!a.productos?y("div",{className:"jsx-3898475978 col-12 text-center"},y(f.a,null)):y(s.a.Fragment,null,""!==l&&a.filtrando?y("span",{id:"label__filtro-busqueda",className:"jsx-3898475978 "+(p.a.label__filtro_busqueda||"")},y(v.a,{icon:g.k}),y("span",{className:"jsx-3898475978 "+(p.a.item_filtro_busqueda||"")},y("span",{id:"valor-busqueda",className:"jsx-3898475978 text-mutedd"},l))):null,y("div",{style:{padding:"0px 15px"},className:"jsx-3898475978 row justify-content-between my-2 align-items-center"},y("span",{className:"jsx-3898475978 text-muted"},y("b",{className:"jsx-3898475978 txt-yellow"},a.productos.length)," productos encontrados"),y("div",{className:"jsx-3898475978 "+(p.a.ordenarProductos+" d-flex align-items-center"||!1)},y("span",{className:"jsx-3898475978 txt-yellow text-bold mr-2"},"Ordenar por: "),y("select",{onChange:function(e){return"asc"===e.target.value?a.productos.sort((function(a,e){return a.precioUnidad>e.precioUnidad?1:a.precioUnidad<e.precioUnidad?-1:0})):a.productos.sort((function(a,e){return a.precioUnidad<e.precioUnidad?1:a.precioUnidad>e.precioUnidad?-1:0})),a.ordenarProductos(a.productos)},className:"jsx-3898475978 "+(p.a.select_ordenar||"")},y("option",{value:"desc",className:"jsx-3898475978"},"Mayor precio"),y("option",{value:"asc",className:"jsx-3898475978"},"Menor precio"))),y("button",{onClick:function(){document.getElementsByClassName(w.a.menu__collapsed)[0].classList.contains(w.a.showCollapsed)&&document.getElementsByClassName(w.a.menu__collapsed)[0].classList.remove(w.a.showCollapsed),document.getElementsByClassName("Filtro_filtros__contanier__3knXf")[0].classList.add(x.a.show_filtros)},className:"jsx-3898475978 "+("boton bg-yellow mt-3 d-none "+p.a.boton_filtrar_mobile||!1)},"Filtrar")),y("div",{className:"jsx-3898475978 row feedProductos"},a.productos?a.productos.map((function(a){return y("div",{key:a.idProducto,className:"jsx-3898475978 col-6 col-md-3"},y(u.a,{imagen:a.foto,prd:a}))})):null,a.sinResultados?y("div",{style:{height:"50px"},className:"jsx-3898475978 alert alert-warning text-center w-100"},"No se encontraron m\xe1s resultados"):y("button",{onClick:function(){a.updatePaginacion()},className:"jsx-3898475978 boton bg-yellow btn-vermas"},a.loading_mas?"Obteniendo productos...":"Cargar m\xe1s"))),y(_.a,{id:"3898475978"},[".feedProductos.jsx-3898475978{height:75vh;overflow-y:scroll;}",".btn-vermas.jsx-3898475978{position:relative;height:40px;}",".feedProductos.jsx-3898475978::-webkit-scrollbar{width:8px;height:5px;}",".feedProductos.jsx-3898475978::-webkit-scrollbar-thumb{background:#FFB347;border-radius:4px;}",".feedProductos.jsx-3898475978::-webkit-scrollbar-thumb.jsx-3898475978:hover{background:#b3b3b3;box-shadow:0 0 2px 1px rgba(0,0,0,0.2);}","@media(max-width:768px){.feedProductos.jsx-3898475978{height:68vh;overflow-y:scroll;}.feedProductos.jsx-3898475978::-webkit-scrollbar{width:8px;height:10px;}}"]))}))),k=t("kVRI"),C=t("rfcl"),F=t("rOcY"),P=t("o9Kd"),R=s.a.createElement,q=k.traerTodas,E=m.aplicarFiltro,O=m.quitarFiltro,M=m.restablecerFiltros,T={marcasTraerTodas:q,categoriasTraerTodas:C.traerTodas,subcategoriaTraerTodas:function(){return function(){var a=Object(n.a)(o.a.mark((function a(e){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:P.b}),a.prev=1,a.abrupt("return",fetch("".concat(F.a,"/subcategoria")).then((function(a){return a.json()})).then((function(a){var t=a.data;e({type:P.c,payload:t})})).catch((function(a){e({type:P.a,payload:a})})));case 5:a.prev=5,a.t0=a.catch(1),e({type:P.a,payload:a.t0});case 8:case"end":return a.stop()}}),a,null,[[1,5]])})));return function(e){return a.apply(this,arguments)}}()},aplicarFiltro:E,quitarFiltro:O,restablecerFiltros:M},B=Object(d.b)((function(a){return{marcasReducer:a.marcasReducer,productosReducer:a.productosReducer,categoriasReducer:a.categoriasReducer,subcategoriaReducer:a.subcategoriaReducer}}),T)((function(a){Object(c.useEffect)((function(){e()}),[]);var e=function(){var e=Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==a.marcasReducer.marcas.length){e.next=4;break}return e.next=4,a.marcasTraerTodas();case 4:if(0!==a.categoriasReducer.categorias.length){e.next=7;break}return e.next=7,a.categoriasTraerTodas();case 7:if(0!==a.subcategoriaReducer.subcategorias.length){e.next=10;break}return e.next=10,a.subcategoriaTraerTodas();case 10:"/productos"!==a.location&&t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),t=function(){return a.query.search?r(Object.keys(a.query)[0],a.query.search):r(a.query.type,a.query.index[1])},r=function(e,t){a.aplicarFiltro(e,t)},i=function(e){a.quitarFiltro(e)},l=a.productosReducer,_=l.filtrando,u=l.filtros;return R("div",{className:x.a.filtros__contanier},R("button",{className:x.a.btn_close_filtro,onClick:function(){document.getElementsByClassName(x.a.filtros__contanier)[0].classList.toggle(x.a.show),document.getElementById("iconFiltroContainer").classList.toggle(x.a.rotar)}},R(v.a,{id:"iconFiltroContainer",icon:g.c})),R("div",null,0==a.categoriasReducer.categorias.length||0==a.subcategoriaReducer.subcategorias.length||0==a.marcasReducer.marcas.length?R(f.a,null):R(s.a.Fragment,null,_?R("button",{className:"boton bg-yellow mb-3",onClick:function(){a.restablecerFiltros()}},R(v.a,{icon:g.b})," Limpiar Filtros"):null,R(v.a,{icon:g.o,className:x.a.cerrar_filtro_mobile,onClick:function(){document.getElementsByClassName(x.a.filtros__contanier)[0].classList.remove(x.a.show_filtros)}}),R("h4",{className:x.a.titulo_filtros},"Mascota"),R("ul",{className:x.a.lista},a.categoriasReducer.categorias.map((function(a){return R("li",{key:a.idCategoria},R("div",{className:x.a.item_filtro+" ".concat(u.categoria==a.idCategoria?x.a.active:""),onClick:function(){return r("categoria","".concat(a.idCategoria))}},R("span",{className:"text-muted"},a.categoria)),R(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(u.categoria==a.idCategoria?"":"d-none"),onClick:function(){return i("categoria")}}))}))),R("h4",{className:x.a.titulo_filtros},"Alimentos"),R("ul",{className:x.a.lista},a.subcategoriaReducer.subcategorias.map((function(a){return R("li",{key:a.idSubCategoria},R("div",{className:x.a.item_filtro+" ".concat(u.subcategoria==a.idSubCategoria?x.a.active:""),onClick:function(){return r("subcategoria","".concat(a.idSubCategoria))}},R("span",{className:"text-muted"},a.subcategoria)),R(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(u.subcategoria==a.idSubCategoria?"":"d-none"),onClick:function(){return i("subcategoria")}}))}))),R("h4",{className:x.a.titulo_filtros},"Marca"),R("ul",{id:"listaMarca",className:x.a.sinBorderBottom+" "+x.a.lista+" ".concat(x.a.listaMarca)},a.marcasReducer.marcas.map((function(a,e){return R("li",{key:a.idMarca},R("div",{className:x.a.item_filtro+" ".concat(u.marca==a.idMarca?x.a.active:""),onClick:function(){return r("marca","".concat(a.idMarca))}},R("span",{className:"text-muted"},a.marca)),R(v.a,{icon:g.o,className:x.a.icon_close_filtro+" ".concat(u.marca==a.idMarca?"":"d-none"),onClick:function(){return i("marca")}}))}))))))})),S=t("t6HM"),H=t("nOHt"),L=t("WkNE"),U=s.a.createElement,I=function(a){var e=Object(H.useRouter)();console.log(e);var t=e.asPath,r=e.query,o="Oliver - Productos";return"/productos"!==t&&(r.search?o=r.search+" en OliverPetShop":r.index[0]&&(o=r.index[0].replace("-"," ").replace(/\b\w/g,(function(a){return a.toUpperCase()}))+" en OliverPetShop")),U(s.a.Fragment,null,U(i.a,{title:o}),U("section",{className:"main__productos container"},U("div",{className:"row"},U(B,{location:t,query:r}),U("div",{className:"col-12 py-3"},U(j,{location:t,query:r}))),U(S.a,null)),U(L.a,null))};I.getInitialProps=function(){var a=Object(n.a)(o.a.mark((function a(e){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.query,a.abrupt("return",{query:t});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();e.default=I},maHl:function(a,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/productos/[[...index]]",function(){return t("YRs9")}])},o9Kd:function(a,e,t){"use strict";t.d(e,"c",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"a",(function(){return n}));var r="subcategorias_traer_todas",o="subcategorias_loading",n="subcategorias_error"}},[["maHl",1,2,5,0,3,4,6,7,8,13]]]);