_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"6Jgp":function(e,t,a){"use strict";var r=a("o0o1"),n=a.n(r),o=a("HaE+"),s=a("MX0m"),i=a.n(s),c=a("q1tI"),l=a.n(c),u=a("/MKj"),d=a("XOuL"),m=a("rOcY"),f=l.a.createElement;t.a=Object(u.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),null)((function(e){var t=Object(c.useState)(!1),a=t[0],r=t[1],s=Object(c.useState)(null),l=s[0],u=s[1],b=Object(c.useState)(null),p=b[0],x=b[1],j=Object(c.useState)(""),g=j[0],v=j[1],y=function(){var t=Object(o.a)(n.a.mark((function t(){var a,o,s,i,c,l,d;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new Headers,!e.usuarioReducer.logueado){t.next=9;break}if(s=e.usuarioReducer.usuario,i=s.idUsuario,c=s.token){t.next=5;break}return t.abrupt("return",u("Ups.. ha ocurrido un error."));case 5:a.append("token",c),o={idUsuario:i},t.next=12;break;case 9:if(""!=g){t.next=11;break}return t.abrupt("return",u("Ups.. ha ocurrido un error."));case 11:o={email:g};case 12:return r(!0),a.append("Content-Type","application/json"),console.log(o),t.next=17,fetch("".concat(m.a,"resetPassword"),{method:"POST",headers:a,body:JSON.stringify(o)});case 17:if(200==(l=t.sent).status){t.next=21;break}return r(!1),t.abrupt("return",u("Ups.. ha ocurrido un error."));case 21:return t.next=23,l.json();case 23:if(d=t.sent,r(!1),!d.ok){t.next=27;break}return t.abrupt("return",x(d.info));case 27:return t.abrupt("return",u("Ups.. ha ocurrido un error."));case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return f("div",{className:"jsx-204570501 containerResetPass"},f("div",{className:"jsx-204570501 text-center"},l?f("div",{className:"jsx-204570501 alert alert-danger text-center"},l):null),f("div",{className:"jsx-204570501 "+"alert alert-".concat(p?"info":"warning"," text-center")},p?f("b",{className:"jsx-204570501"},p):"Estaremos enviando un email con los pasos para poder realizar el proceso de modificaci\xf3n de contrase\xf1a"),f("div",{className:"jsx-204570501 col-12 text-center"},a?f(d.a,null):null,e.withEmail?f("input",{type:"email",value:g,onChange:function(e){v(e.target.value)},required:!0,placeholder:"Ingrese su email",className:"jsx-204570501 form-control mb-3"}):null,p||a?null:f("button",{onClick:y,type:"button",className:"jsx-204570501 boton bg-yellow"},"Enviar email")),f(i.a,{id:"204570501"},[".containerResetPass.jsx-204570501{font-family:'Quicksand',sans-serif!important;}"]))}))},k2JI:function(e,t,a){"use strict";var r=a("q1tI"),n=a.n(r),o=a("8Kt/"),s=a.n(o),i=a("rOcY"),c=n.a.createElement;t.a=function(e){var t=e.title,a=e.metadesc;return c(s.a,null,c("title",null,t),c("meta",{name:"theme-color",content:"#df8f0e"}),c("link",{rel:"icon",href:"".concat(i.d,"/static/Perro.png")}),a?c("meta",{name:"description",content:a}):null)}},lVdJ:function(e,t,a){"use strict";a.r(t);var r=a("BsWD");function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=a("MX0m"),s=a.n(o),i=a("k2JI"),c=a("q1tI"),l=a.n(c),u=l.a.createElement,d=function(e){var t=e.usuario,a=e.abrirModalFoto;return u("div",{className:"jsx-2182704935 row"},u("div",{className:"jsx-2182704935 col-12 col-md-6 text-center"},u("img",{src:t.foto,alt:t.nombre,className:"jsx-2182704935"})),u("div",{className:"jsx-2182704935 col-12 col-md-6 text-center"},u("h3",{className:"jsx-2182704935"},t.nombre),u("button",{type:"button",onClick:a,className:"jsx-2182704935 boton bg-yellow"},"Cambiar Foto")),u(s.a,{id:"2182704935"},["img.jsx-2182704935{border-radius:30px;width:60px;height:60px;}"]))},m=l.a.createElement,f=function(){return m("div",{className:"jsx-3392845155 estadisticas_usuario"},m("div",{className:"jsx-3392845155 col-6 text-center"},m("h2",{className:"jsx-3392845155"},"0"),m("span",{className:"jsx-3392845155"},"Compras")),m("div",{className:"jsx-3392845155 col-6 text-center"},m("h2",{className:"jsx-3392845155"},"0"),m("span",{className:"jsx-3392845155"},"Puntos")),m(s.a,{id:"3392845155"},[".estadisticas_usuario.jsx-3392845155{background-color:#fff;width:50%;float:right;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:10px 20px;border-radius:5px;}","h2.jsx-3392845155{font-weight:bold;}","@media(max-width:768px){.estadisticas_usuario.jsx-3392845155{float:initial;width:100%;margin-top:10px;}}"]))},b=a("/MKj"),p=a("HdXA"),x=l.a.createElement,j=Object(b.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),p)((function(e){var t=e.usuarioReducer.usuario;return t?x("section",{className:"jsx-3269591714 banner_usuario"},x("div",{className:"jsx-3269591714 row"},x("div",{className:"jsx-3269591714 col-12 col-md-6"},x(d,{usuario:t,abrirModalFoto:e.abrirModalFoto})),x("div",{className:"jsx-3269591714 col-12 col-md-6"},x(f,null))),x(s.a,{id:"3269591714"},["section.jsx-3269591714{height:200px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@media(max-width:768px){section.jsx-3269591714{margin:50px 0px;}}"])):null})),g=a("9a8N"),v=a("F66N"),y=a("arvA"),N=a("TSYQ"),w=a.n(N),h=l.a.createElement,k=function(e){return h(g.a,{tabs:!0},e.solapas.map((function(t,a){return h(v.a,{key:a},h(y.a,{className:w()({active:e.activeTab==="".concat(a+1)}),onClick:function(){e.toggle("".concat(a+1))}},t.nombre))})))},O=a("wx14"),S=a("o0o1"),E=a.n(S),R=a("HaE+"),P=a("rePB"),C=a("wHSu"),I=a("IP2g"),_=a("bItr"),M=a.n(_),D=a("XOuL"),F=l.a.createElement;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=Object(b.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),p)((function(e){Object(c.useEffect)((function(){if(e.usuarioReducer.usuario&&!e.usuarioReducer.loading){var t=e.usuarioReducer.usuario;i({nombre:t.nombre,telefono:t.telefono,email:t.email,address:t.address,lat:t.lat,lon:t.lon})}}),[e.usuarioReducer]);var t=Object(c.useState)({nombre:!0,telefono:!0,email:!0,address:!0}),a=t[0],r=t[1],n=Object(c.useState)({nombre:"",telefono:"",email:"",address:"",lat:0,lon:0}),o=n[0],i=n[1],l=Object(c.useState)(""),u=l[0],d=l[1],m=function(e){var t=a[e];return r(U(U({},a),{},Object(P.a)({},e,!t)))},f=function(e){return i(U(U({},o),{},Object(P.a)({},e.target.name,e.target.value)))};return F("form",{onSubmit:function(){var t=Object(R.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.actualizarUsuario(o,e.usuarioReducer.usuario.idUsuario);case 3:if(e.usuarioReducer.error||e.usuarioReducer.loading){t.next=5;break}return t.abrupt("return",d("Tus datos se han modificado de manera exitosa"));case 5:return t.abrupt("return",d(""));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"jsx-2483563024 form-group"},""==u||e.usuarioReducer.error?null:F("div",{className:"jsx-2483563024 alert alert-success text-center"},F("b",{className:"jsx-2483563024"},u)),e.usuarioReducer.error?F("div",{className:"jsx-2483563024 alert alert-danger text-center"},F("b",{className:"jsx-2483563024"},e.usuarioReducer.error)):null,F("div",{className:"jsx-2483563024 row"},F("div",{className:"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center"},F("input",{disabled:a.nombre,onChange:f,value:o.nombre,type:"text",name:"nombre",id:"nombre",placeholder:"Nombre",className:"jsx-2483563024 form-control mr-auto"}),F(I.a,{className:"iconoHabilitarInput",icon:a.nombre?C.i:C.p,onClick:function(){return m("nombre")},required:!0})),F("div",{className:"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center"},F("input",{disabled:a.telefono,onChange:f,value:o.telefono,type:"text",name:"telefono",id:"telefono",placeholder:"Telefono",className:"jsx-2483563024 form-control mr-auto"}),F(I.a,{className:"iconoHabilitarInput",icon:a.telefono?C.i:C.p,onClick:function(){return m("telefono")}})),F("div",{className:"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center"},F("input",{disabled:a.email,onChange:f,value:o.email,type:"email",name:"email",id:"email",className:"jsx-2483563024 form-control mr-auto"})),F("div",{className:"jsx-2483563024 col-12 col-md-6 my-4 d-flex align-items-center"},F(M.a,{value:o.address,onChange:function(e){return i(U(U({},o),{},{address:e}))},onSelect:function(e){Object(_.geocodeByAddress)(e).then((function(e){return Object(_.getLatLng)(e[0])})).then((function(t){i(U(U({},o),{},{address:e,lat:t.lat,lon:t.lng}))})).catch((function(e){return console.error("Error",e)}))}},(function(e){var t=e.getInputProps,r=e.suggestions,n=e.getSuggestionItemProps,s=e.loading;return F("div",{className:"jsx-2483563024 mr-auto w-100"},F("input",Object(O.a)({name:"address",id:"address"},t({placeholder:o.address}),{disabled:a.address,placeholder:"Direcci\xf3n",className:"jsx-2483563024 form-control"})),F("div",{style:{position:"fixed",zIndex:"1000",backgroundColor:"#fff"},className:"jsx-2483563024 autocomplete-dropdown-container"},s&&F("div",{className:"jsx-2483563024"},"Cargando ubicaciones..."),r.map((function(e,t){var a=e.active?"suggestion-item--active":"suggestion-item",r=e.active?{backgroundColor:"#fafafa",cursor:"pointer",margin:"10px",padding:"5px"}:{backgroundColor:"#ffffff",cursor:"pointer",margin:"10px",padding:"5px"};return F("div",Object(O.a)({},n(e,{className:a,style:r,key:t}),{className:"jsx-2483563024"}),F("span",{className:"jsx-2483563024"},e.description))}))))})),F(I.a,{className:"iconoHabilitarInput",icon:a.address?C.i:C.p,onClick:function(){return m("address")}})),F("div",{className:"jsx-2483563024 col-12 mb-4 text-right"},F("button",{type:"button",onClick:e.abrirModalPw,className:"jsx-2483563024 btn btn-warning"},F(I.a,{icon:C.f})," Cambiar contrase\xf1a")),F("div",{className:"jsx-2483563024 col-12 text-center"},e.usuarioReducer.loading?F(D.a,null):F("input",{type:"submit",value:"Guardar cambios",className:"jsx-2483563024 boton bg-yellow"}))),F(s.a,{id:"2483563024"},[".form-control.jsx-2483563024{width:92%;}",".iconoHabilitarInput.jsx-2483563024{cursor:pointer!important;}","button.jsx-2483563024{color:#fff !important;}"]))})),J=a("Czwy"),q=a("EzvR"),A=a("ok1R"),X=a("rhny"),z=a("Mnxd"),V=l.a.createElement,B=function(e){var t=function(){return console.log("eliminar")};return[1,2,3,4,5,6,7,8,9].map((function(e){return V(z.a,{key:e,idSubProducto:"1",producto:"Dog pron Adulto",peso:"5",total:"1500",foto:"https://storage.googleapis.com/web-oliver/-VitalCrops-DogPro-Adulto-15k.jpg",cantidad:"1",eliminarProducto:t})}))},L=a("/Q2I"),K=a("t0wy"),Q=l.a.createElement,Y=Object(b.b)((function(e){return{usuarioReducer:e.usuarioReducer}}),p)((function(e){var t=e.usuarioReducer,a=t.usuario,r=t.error,n=t.loading;return Q("form",{className:"form-group",id:"formModificarFotoUsuario",onSubmit:function(t){t.preventDefault();var r=document.getElementById("formModificarFotoUsuario"),n=new FormData(r);""!==n.get("foto").name&&e.actualizarFoto(n,a.idUsuario)}},r?Q(K.a,{message:r.message}):null,Q("label",null,"Seleccione la nueva imagen de perfil"),Q("input",{type:"file",required:!0,className:"form-control",name:"foto"}),n?Q("div",{className:"text-center mt-2"},Q(D.a,null)):Q("input",{type:"submit",className:"boton bg-yellow mt-3",value:"Subir"}))})),G=a("6Jgp"),W=l.a.createElement;t.default=function(){var e=n(l.a.useState("1"),2),t=e[0],a=e[1],r=n(l.a.useState(!1),2),o=r[0],c=r[1],u=n(l.a.useState(!1),2),d=u[0],m=u[1],f=n(l.a.useState(!1),2),b=(f[0],f[1]),p=function(){c(!o)};return W(l.a.Fragment,null,W(i.a,{title:"Oliver Petshop - Mi perfil"}),W("div",{className:"jsx-53771273 container"},W(j,{abrirModalFoto:function(){m(!0),b(!1),p()}}),W(k,{toggle:function(e){t!==e&&a(e)},activeTab:t,solapas:[{nombre:"General"}]})),W("div",{className:"jsx-53771273 container-form"},W("div",{className:"jsx-53771273 container pt-3"},W(J.a,{activeTab:t},W(q.a,{tabId:"1"},W(A.a,null,W(X.a,{sm:"12"},W(H,{abrirModalPw:function(){b(!0),m(!1),p()}})))),W(q.a,{tabId:"2",className:"tab-productos"},W(A.a,null,W(X.a,{sm:"12"},W(B,null))))))),o?W(L.a,{closeModal:p},W(d?Y:G.a,null)):null,W(s.a,{id:"53771273"},[".container-form.jsx-53771273{background-color:#fff;}","@media(min-width:768px){.container-form.jsx-53771273{height:55vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}"]))}},qV4O:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return a("lVdJ")}])}},[["qV4O",1,2,5,0,3,4,7,9,10]]]);