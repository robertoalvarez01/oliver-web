(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{320:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return b}});var n=r(5893),a=r(2642),c=r(5546),o=r(5500),u=r(4494),i=r(1718),s=r(6705),p=r(6081),f=r(7294),d=r(7438),l=i.guardarOfertas,y={restablecerFiltros:s.restablecerFiltros,guardarOfertas:l},b=!0;e.default=(0,u.$j)((function(t){return{ofertasReducer:t.ofertasReducer}}),y)((function(t){var e=t.ofertas,r=t.ofertasReducer,u=t.guardarOfertas;return(0,f.useEffect)((function(){e.length>0&&u(e)}),[]),r.loading||0===r.data.length?(0,n.jsx)(o.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{title:"Oliver PetShop - Ofertas",metadesc:"Oliver PetShop - Descubri nuestras ofertas"}),(0,n.jsx)("div",{className:"container py-4",children:(0,n.jsx)(d.Z,{})}),(0,n.jsx)(c.Z,{position:e.length<=4?"absolute":"relative"}),(0,n.jsx)(p.Z,{})]})}))},6705:function(t,e,r){"use strict";r.r(e),r.d(e,{traerProductos:function(){return p},traerMas:function(){return f},traerPorId:function(){return d},traerPromociones:function(){return l},ordenarProductos:function(){return y},aplicarFiltro:function(){return b},quitarFiltro:function(){return h},restablecerFiltros:function(){return v},updatePaginacion:function(){return m}});var n=r(5402),a=r(809),c=r.n(a),o=r(266),u=r(1130),i=r(3005),s=r(1387),p=function(){return function(){var t=(0,o.Z)(c().mark((function t(e,r){var n,a,o,p,f,d,l,y,b,h,v,m,g,k;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:s.br}),t.prev=1,n=r().productosReducer,a=n.filtrando,o=n.filtros,p=o.categoria,f=o.subcategoria,d=o.marca,l=o.search,o.orden,y=n.paginacion,b=y.desde,h=y.limiteMobile,v=y.limiteDesktop,m="".concat(u.bl,"/productos"),a?""!==l.trim()?m+="/buscar?busqueda=".concat(l,"&"):(m+="/filtro/filtrar?",p&&(m+="categoria=".concat(p,"&")),f&&(m+="subcategoria=".concat(f,"&")),d&&(m+="marca=".concat(d,"&"))):m+="?",m+="desde=".concat(b,"&limite=").concat((0,i.tq)()?h:v),t.next=8,fetch(m);case 8:return g=t.sent,t.next=11,g.json();case 11:return k=t.sent,t.abrupt("return",e({type:s.J7,payload:k.data}));case 15:t.prev=15,t.t0=t.catch(1),e({type:s.pn,payload:t.t0});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,r){return t.apply(this,arguments)}}()},f=function(){return function(){var t=(0,o.Z)(c().mark((function t(e,r){var a,o,p,f,d,l,y,b,h,v,m,g,k;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:s.ZJ}),t.prev=1,a=r().productosReducer,o=a.productos,p=a.filtrando,f=a.filtros,d=f.categoria,l=f.subcategoria,y=f.marca,b=f.search,f.orden,h=a.paginacion,v=h.desde,m=h.limiteMobile,g=h.limiteDesktop,k="".concat(u.bl,"/productos"),p?""!==b.trim()?k+="/buscar?busqueda=".concat(b,"&"):(k+="/filtro/filtrar?",d&&(k+="categoria=".concat(d,"&")),l&&(k+="subcategoria=".concat(l,"&")),y&&(k+="marca=".concat(y,"&"))):k+="?",k+="desde=".concat(v,"&limite=").concat((0,i.tq)()?m:g),t.abrupt("return",fetch(k).then((function(t){return t.json()})).then((function(t){if(0!==t.data.length){var r=[].concat((0,n.Z)(o),(0,n.Z)(t.data));e({type:s.k,payload:r})}else e({type:s.JU})})));case 9:t.prev=9,t.t0=t.catch(1),e({type:s.pn,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},d=function(t){return function(){var e=(0,o.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:s.JY,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l=function(){return function(){var t=(0,o.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:s.br}),t.prev=1,r="".concat(u.bl,"/subproductos/ofertas?desde=0&limite=9"),(0,i.tq)()&&(r="".concat(u.bl,"/subproductos/ofertas?desde=0&limite=6")),t.abrupt("return",fetch(r).then((function(t){return t.json()})).then((function(t){e({type:s.X,payload:t.data})})));case 7:t.prev=7,t.t0=t.catch(1),e({type:s.pn,payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t){return function(){var e=(0,o.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:s.br});try{r({type:s.UJ,payload:t})}catch(n){r({type:s.pn,payload:n})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(t,e){return function(r){switch(t){case"categoria":r({type:s.K$,payload:e});break;case"subcategoria":r({type:s.h_,payload:e});break;case"marca":r({type:s.Mo,payload:e});break;case"search":r({type:s.uI,payload:e});break;case"orden":r({type:s.xT,payload:e})}}},h=function(t){return function(e,r){var n=r().productosReducer.filtros,a=n.categoria,c=n.subcategoria,o=n.marca;n.search,n.orden;switch(t){case"categoria":e(c||o?{type:s.rv}:{type:s.kT});break;case"subcategoria":e(a||o?{type:s.WA}:{type:s.kT});break;case"marca":e(a||c?{type:s.G6}:{type:s.kT});break;case"buscador":e({type:s.I1});break;case"orden":e({type:s.DS})}}},v=function(){return function(t){t({type:s.kT})}},m=function(){return function(t,e){var r=e().productosReducer.paginacion,n=(0,i.tq)()?r.desde+r.limiteMobile:r.desde+r.limiteDesktop;t({type:s.Lo,payload:n})}}},4551:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ofertas",function(){return r(320)}])}},function(t){t.O(0,[679,315,774,888,179],(function(){return e=4551,t(t.s=e);var e}));var e=t.O();_N_E=e}]);